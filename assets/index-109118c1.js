function cw(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function $l(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yy={exports:{}},jl={},vy={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Do=Symbol.for("react.element"),hw=Symbol.for("react.portal"),fw=Symbol.for("react.fragment"),dw=Symbol.for("react.strict_mode"),pw=Symbol.for("react.profiler"),mw=Symbol.for("react.provider"),gw=Symbol.for("react.context"),yw=Symbol.for("react.forward_ref"),vw=Symbol.for("react.suspense"),_w=Symbol.for("react.memo"),Ew=Symbol.for("react.lazy"),Ap=Symbol.iterator;function ww(e){return e===null||typeof e!="object"?null:(e=Ap&&e[Ap]||e["@@iterator"],typeof e=="function"?e:null)}var _y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ey=Object.assign,wy={};function Xi(e,t,n){this.props=e,this.context=t,this.refs=wy,this.updater=n||_y}Xi.prototype.isReactComponent={};Xi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ty(){}Ty.prototype=Xi.prototype;function _f(e,t,n){this.props=e,this.context=t,this.refs=wy,this.updater=n||_y}var Ef=_f.prototype=new Ty;Ef.constructor=_f;Ey(Ef,Xi.prototype);Ef.isPureReactComponent=!0;var Rp=Array.isArray,Sy=Object.prototype.hasOwnProperty,wf={current:null},Iy={key:!0,ref:!0,__self:!0,__source:!0};function Cy(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Sy.call(t,r)&&!Iy.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Do,type:e,key:s,ref:o,props:i,_owner:wf.current}}function Tw(e,t){return{$$typeof:Do,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Tf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Do}function Sw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xp=/\/+/g;function Mu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Sw(""+e.key):t.toString(36)}function Pa(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Do:case hw:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Mu(o,0):r,Rp(i)?(n="",e!=null&&(n=e.replace(xp,"$&/")+"/"),Pa(i,t,n,"",function(u){return u})):i!=null&&(Tf(i)&&(i=Tw(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(xp,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Rp(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Mu(s,a);o+=Pa(s,t,n,l,i)}else if(l=ww(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Mu(s,a++),o+=Pa(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ra(e,t,n){if(e==null)return e;var r=[],i=0;return Pa(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Iw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Tt={current:null},ka={transition:null},Cw={ReactCurrentDispatcher:Tt,ReactCurrentBatchConfig:ka,ReactCurrentOwner:wf};J.Children={map:ra,forEach:function(e,t,n){ra(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ra(e,function(){t++}),t},toArray:function(e){return ra(e,function(t){return t})||[]},only:function(e){if(!Tf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=Xi;J.Fragment=fw;J.Profiler=pw;J.PureComponent=_f;J.StrictMode=dw;J.Suspense=vw;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cw;J.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ey({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=wf.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Sy.call(t,l)&&!Iy.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Do,type:e.type,key:i,ref:s,props:r,_owner:o}};J.createContext=function(e){return e={$$typeof:gw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mw,_context:e},e.Consumer=e};J.createElement=Cy;J.createFactory=function(e){var t=Cy.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:yw,render:e}};J.isValidElement=Tf;J.lazy=function(e){return{$$typeof:Ew,_payload:{_status:-1,_result:e},_init:Iw}};J.memo=function(e,t){return{$$typeof:_w,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=ka.transition;ka.transition={};try{e()}finally{ka.transition=t}};J.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};J.useCallback=function(e,t){return Tt.current.useCallback(e,t)};J.useContext=function(e){return Tt.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return Tt.current.useDeferredValue(e)};J.useEffect=function(e,t){return Tt.current.useEffect(e,t)};J.useId=function(){return Tt.current.useId()};J.useImperativeHandle=function(e,t,n){return Tt.current.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return Tt.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return Tt.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return Tt.current.useMemo(e,t)};J.useReducer=function(e,t,n){return Tt.current.useReducer(e,t,n)};J.useRef=function(e){return Tt.current.useRef(e)};J.useState=function(e){return Tt.current.useState(e)};J.useSyncExternalStore=function(e,t,n){return Tt.current.useSyncExternalStore(e,t,n)};J.useTransition=function(){return Tt.current.useTransition()};J.version="18.2.0";vy.exports=J;var v=vy.exports;const le=$l(v),Aw=cw({__proto__:null,default:le},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw=v,xw=Symbol.for("react.element"),Pw=Symbol.for("react.fragment"),kw=Object.prototype.hasOwnProperty,Nw=Rw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dw={key:!0,ref:!0,__self:!0,__source:!0};function Ay(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)kw.call(t,r)&&!Dw.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:xw,type:e,key:s,ref:o,props:i,_owner:Nw.current}}jl.Fragment=Pw;jl.jsx=Ay;jl.jsxs=Ay;yy.exports=jl;var E=yy.exports,Fc={},Ry={exports:{}},Ft={},xy={exports:{}},Py={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,z){var W=k.length;k.push(z);e:for(;0<W;){var oe=W-1>>>1,he=k[oe];if(0<i(he,z))k[oe]=z,k[W]=he,W=oe;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var z=k[0],W=k.pop();if(W!==z){k[0]=W;e:for(var oe=0,he=k.length,It=he>>>1;oe<It;){var st=2*(oe+1)-1,Ve=k[st],ot=st+1,jn=k[ot];if(0>i(Ve,W))ot<he&&0>i(jn,Ve)?(k[oe]=jn,k[ot]=W,oe=ot):(k[oe]=Ve,k[st]=W,oe=st);else if(ot<he&&0>i(jn,W))k[oe]=jn,k[ot]=W,oe=ot;else break e}}return z}function i(k,z){var W=k.sortIndex-z.sortIndex;return W!==0?W:k.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,g=!1,_=!1,w=!1,I=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(k){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=k)r(u),z.sortIndex=z.expirationTime,t(l,z);else break;z=n(u)}}function T(k){if(w=!1,p(k),!_)if(n(l)!==null)_=!0,Te(A);else{var z=n(u);z!==null&&Se(T,z.startTime-k)}}function A(k,z){_=!1,w&&(w=!1,m(M),M=-1),g=!0;var W=f;try{for(p(z),h=n(l);h!==null&&(!(h.expirationTime>z)||k&&!De());){var oe=h.callback;if(typeof oe=="function"){h.callback=null,f=h.priorityLevel;var he=oe(h.expirationTime<=z);z=e.unstable_now(),typeof he=="function"?h.callback=he:h===n(l)&&r(l),p(z)}else r(l);h=n(l)}if(h!==null)var It=!0;else{var st=n(u);st!==null&&Se(T,st.startTime-z),It=!1}return It}finally{h=null,f=W,g=!1}}var R=!1,D=null,M=-1,Z=5,b=-1;function De(){return!(e.unstable_now()-b<Z)}function K(){if(D!==null){var k=e.unstable_now();b=k;var z=!0;try{z=D(!0,k)}finally{z?X():(R=!1,D=null)}}else R=!1}var X;if(typeof d=="function")X=function(){d(K)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,we=te.port2;te.port1.onmessage=K,X=function(){we.postMessage(null)}}else X=function(){I(K,0)};function Te(k){D=k,R||(R=!0,X())}function Se(k,z){M=I(function(){k(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){_||g||(_=!0,Te(A))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(k){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var W=f;f=z;try{return k()}finally{f=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,z){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var W=f;f=k;try{return z()}finally{f=W}},e.unstable_scheduleCallback=function(k,z,W){var oe=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?oe+W:oe):W=oe,k){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=W+he,k={id:c++,callback:z,priorityLevel:k,startTime:W,expirationTime:he,sortIndex:-1},W>oe?(k.sortIndex=W,t(u,k),n(l)===null&&k===n(u)&&(w?(m(M),M=-1):w=!0,Se(T,W-oe))):(k.sortIndex=he,t(l,k),_||g||(_=!0,Te(A))),k},e.unstable_shouldYield=De,e.unstable_wrapCallback=function(k){var z=f;return function(){var W=f;f=z;try{return k.apply(this,arguments)}finally{f=W}}}})(Py);xy.exports=Py;var Vw=xy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky=v,Lt=Vw;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ny=new Set,Ys={};function Gr(e,t){Mi(e,t),Mi(e+"Capture",t)}function Mi(e,t){for(Ys[e]=t,e=0;e<t.length;e++)Ny.add(t[e])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$c=Object.prototype.hasOwnProperty,Ow=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pp={},kp={};function Lw(e){return $c.call(kp,e)?!0:$c.call(Pp,e)?!1:Ow.test(e)?kp[e]=!0:(Pp[e]=!0,!1)}function Mw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Fw(e,t,n,r){if(t===null||typeof t>"u"||Mw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function St(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){it[e]=new St(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];it[t]=new St(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){it[e]=new St(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){it[e]=new St(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){it[e]=new St(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){it[e]=new St(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){it[e]=new St(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){it[e]=new St(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){it[e]=new St(e,5,!1,e.toLowerCase(),null,!1,!1)});var Sf=/[\-:]([a-z])/g;function If(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Sf,If);it[t]=new St(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Sf,If);it[t]=new St(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Sf,If);it[t]=new St(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){it[e]=new St(e,1,!1,e.toLowerCase(),null,!1,!1)});it.xlinkHref=new St("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){it[e]=new St(e,1,!1,e.toLowerCase(),null,!0,!0)});function Cf(e,t,n,r){var i=it.hasOwnProperty(t)?it[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Fw(t,n,i,r)&&(n=null),r||i===null?Lw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Fn=ky.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ia=Symbol.for("react.element"),ci=Symbol.for("react.portal"),hi=Symbol.for("react.fragment"),Af=Symbol.for("react.strict_mode"),jc=Symbol.for("react.profiler"),Dy=Symbol.for("react.provider"),Vy=Symbol.for("react.context"),Rf=Symbol.for("react.forward_ref"),Uc=Symbol.for("react.suspense"),Bc=Symbol.for("react.suspense_list"),xf=Symbol.for("react.memo"),Bn=Symbol.for("react.lazy"),Oy=Symbol.for("react.offscreen"),Np=Symbol.iterator;function fs(e){return e===null||typeof e!="object"?null:(e=Np&&e[Np]||e["@@iterator"],typeof e=="function"?e:null)}var Ae=Object.assign,Fu;function Cs(e){if(Fu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fu=t&&t[1]||""}return`
`+Fu+e}var $u=!1;function ju(e,t){if(!e||$u)return"";$u=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{$u=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Cs(e):""}function $w(e){switch(e.tag){case 5:return Cs(e.type);case 16:return Cs("Lazy");case 13:return Cs("Suspense");case 19:return Cs("SuspenseList");case 0:case 2:case 15:return e=ju(e.type,!1),e;case 11:return e=ju(e.type.render,!1),e;case 1:return e=ju(e.type,!0),e;default:return""}}function bc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hi:return"Fragment";case ci:return"Portal";case jc:return"Profiler";case Af:return"StrictMode";case Uc:return"Suspense";case Bc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Vy:return(e.displayName||"Context")+".Consumer";case Dy:return(e._context.displayName||"Context")+".Provider";case Rf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xf:return t=e.displayName||null,t!==null?t:bc(e.type)||"Memo";case Bn:t=e._payload,e=e._init;try{return bc(e(t))}catch{}}return null}function jw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bc(t);case 8:return t===Af?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ly(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Uw(e){var t=Ly(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sa(e){e._valueTracker||(e._valueTracker=Uw(e))}function My(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ly(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function qa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zc(e,t){var n=t.checked;return Ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Dp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=fr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Fy(e,t){t=t.checked,t!=null&&Cf(e,"checked",t,!1)}function Hc(e,t){Fy(e,t);var n=fr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qc(e,t.type,n):t.hasOwnProperty("defaultValue")&&qc(e,t.type,fr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Vp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function qc(e,t,n){(t!=="number"||qa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var As=Array.isArray;function Ci(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+fr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Wc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return Ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Op(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(As(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:fr(n)}}function $y(e,t){var n=fr(t.value),r=fr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Lp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var oa,Uy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(oa=oa||document.createElement("div"),oa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=oa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ls={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bw=["Webkit","ms","Moz","O"];Object.keys(Ls).forEach(function(e){Bw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ls[t]=Ls[e]})});function By(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ls.hasOwnProperty(e)&&Ls[e]?(""+t).trim():t+"px"}function by(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=By(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var bw=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qc(e,t){if(t){if(bw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function Gc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yc=null;function Pf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xc=null,Ai=null,Ri=null;function Mp(e){if(e=Lo(e)){if(typeof Xc!="function")throw Error(P(280));var t=e.stateNode;t&&(t=Hl(t),Xc(e.stateNode,e.type,t))}}function zy(e){Ai?Ri?Ri.push(e):Ri=[e]:Ai=e}function Hy(){if(Ai){var e=Ai,t=Ri;if(Ri=Ai=null,Mp(e),t)for(e=0;e<t.length;e++)Mp(t[e])}}function qy(e,t){return e(t)}function Wy(){}var Uu=!1;function Ky(e,t,n){if(Uu)return e(t,n);Uu=!0;try{return qy(e,t,n)}finally{Uu=!1,(Ai!==null||Ri!==null)&&(Wy(),Hy())}}function Js(e,t){var n=e.stateNode;if(n===null)return null;var r=Hl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var Jc=!1;if(Nn)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){Jc=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{Jc=!1}function zw(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ms=!1,Wa=null,Ka=!1,Zc=null,Hw={onError:function(e){Ms=!0,Wa=e}};function qw(e,t,n,r,i,s,o,a,l){Ms=!1,Wa=null,zw.apply(Hw,arguments)}function Ww(e,t,n,r,i,s,o,a,l){if(qw.apply(this,arguments),Ms){if(Ms){var u=Wa;Ms=!1,Wa=null}else throw Error(P(198));Ka||(Ka=!0,Zc=u)}}function Yr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Qy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Fp(e){if(Yr(e)!==e)throw Error(P(188))}function Kw(e){var t=e.alternate;if(!t){if(t=Yr(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Fp(i),e;if(s===r)return Fp(i),t;s=s.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function Gy(e){return e=Kw(e),e!==null?Yy(e):null}function Yy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Yy(e);if(t!==null)return t;e=e.sibling}return null}var Xy=Lt.unstable_scheduleCallback,$p=Lt.unstable_cancelCallback,Qw=Lt.unstable_shouldYield,Gw=Lt.unstable_requestPaint,ke=Lt.unstable_now,Yw=Lt.unstable_getCurrentPriorityLevel,kf=Lt.unstable_ImmediatePriority,Jy=Lt.unstable_UserBlockingPriority,Qa=Lt.unstable_NormalPriority,Xw=Lt.unstable_LowPriority,Zy=Lt.unstable_IdlePriority,Ul=null,gn=null;function Jw(e){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(Ul,e,void 0,(e.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:tT,Zw=Math.log,eT=Math.LN2;function tT(e){return e>>>=0,e===0?32:31-(Zw(e)/eT|0)|0}var aa=64,la=4194304;function Rs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ga(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Rs(a):(s&=o,s!==0&&(r=Rs(s)))}else o=n&~i,o!==0?r=Rs(o):s!==0&&(r=Rs(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-tn(t),i=1<<n,r|=e[n],t&=~i;return r}function nT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rT(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-tn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=nT(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function eh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ev(){var e=aa;return aa<<=1,!(aa&4194240)&&(aa=64),e}function Bu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tn(t),e[t]=n}function iT(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-tn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Nf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-tn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ue=0;function tv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nv,Df,rv,iv,sv,th=!1,ua=[],Jn=null,Zn=null,er=null,Zs=new Map,eo=new Map,Hn=[],sT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jp(e,t){switch(e){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":Zs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(t.pointerId)}}function ps(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Lo(t),t!==null&&Df(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function oT(e,t,n,r,i){switch(t){case"focusin":return Jn=ps(Jn,e,t,n,r,i),!0;case"dragenter":return Zn=ps(Zn,e,t,n,r,i),!0;case"mouseover":return er=ps(er,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Zs.set(s,ps(Zs.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,eo.set(s,ps(eo.get(s)||null,e,t,n,r,i)),!0}return!1}function ov(e){var t=Pr(e.target);if(t!==null){var n=Yr(t);if(n!==null){if(t=n.tag,t===13){if(t=Qy(n),t!==null){e.blockedOn=t,sv(e.priority,function(){rv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Na(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=nh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Yc=r,n.target.dispatchEvent(r),Yc=null}else return t=Lo(n),t!==null&&Df(t),e.blockedOn=n,!1;t.shift()}return!0}function Up(e,t,n){Na(e)&&n.delete(t)}function aT(){th=!1,Jn!==null&&Na(Jn)&&(Jn=null),Zn!==null&&Na(Zn)&&(Zn=null),er!==null&&Na(er)&&(er=null),Zs.forEach(Up),eo.forEach(Up)}function ms(e,t){e.blockedOn===t&&(e.blockedOn=null,th||(th=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,aT)))}function to(e){function t(i){return ms(i,e)}if(0<ua.length){ms(ua[0],e);for(var n=1;n<ua.length;n++){var r=ua[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Jn!==null&&ms(Jn,e),Zn!==null&&ms(Zn,e),er!==null&&ms(er,e),Zs.forEach(t),eo.forEach(t),n=0;n<Hn.length;n++)r=Hn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Hn.length&&(n=Hn[0],n.blockedOn===null);)ov(n),n.blockedOn===null&&Hn.shift()}var xi=Fn.ReactCurrentBatchConfig,Ya=!0;function lT(e,t,n,r){var i=ue,s=xi.transition;xi.transition=null;try{ue=1,Vf(e,t,n,r)}finally{ue=i,xi.transition=s}}function uT(e,t,n,r){var i=ue,s=xi.transition;xi.transition=null;try{ue=4,Vf(e,t,n,r)}finally{ue=i,xi.transition=s}}function Vf(e,t,n,r){if(Ya){var i=nh(e,t,n,r);if(i===null)Xu(e,t,r,Xa,n),jp(e,r);else if(oT(i,e,t,n,r))r.stopPropagation();else if(jp(e,r),t&4&&-1<sT.indexOf(e)){for(;i!==null;){var s=Lo(i);if(s!==null&&nv(s),s=nh(e,t,n,r),s===null&&Xu(e,t,r,Xa,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Xu(e,t,r,null,n)}}var Xa=null;function nh(e,t,n,r){if(Xa=null,e=Pf(r),e=Pr(e),e!==null)if(t=Yr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Qy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xa=e,null}function av(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yw()){case kf:return 1;case Jy:return 4;case Qa:case Xw:return 16;case Zy:return 536870912;default:return 16}default:return 16}}var Wn=null,Of=null,Da=null;function lv(){if(Da)return Da;var e,t=Of,n=t.length,r,i="value"in Wn?Wn.value:Wn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Da=i.slice(e,1<r?1-r:void 0)}function Va(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ca(){return!0}function Bp(){return!1}function $t(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ca:Bp,this.isPropagationStopped=Bp,this}return Ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ca)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ca)},persist:function(){},isPersistent:ca}),t}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lf=$t(Ji),Oo=Ae({},Ji,{view:0,detail:0}),cT=$t(Oo),bu,zu,gs,Bl=Ae({},Oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gs&&(gs&&e.type==="mousemove"?(bu=e.screenX-gs.screenX,zu=e.screenY-gs.screenY):zu=bu=0,gs=e),bu)},movementY:function(e){return"movementY"in e?e.movementY:zu}}),bp=$t(Bl),hT=Ae({},Bl,{dataTransfer:0}),fT=$t(hT),dT=Ae({},Oo,{relatedTarget:0}),Hu=$t(dT),pT=Ae({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),mT=$t(pT),gT=Ae({},Ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yT=$t(gT),vT=Ae({},Ji,{data:0}),zp=$t(vT),_T={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ET={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wT[e])?!!t[e]:!1}function Mf(){return TT}var ST=Ae({},Oo,{key:function(e){if(e.key){var t=_T[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Va(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ET[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mf,charCode:function(e){return e.type==="keypress"?Va(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Va(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),IT=$t(ST),CT=Ae({},Bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hp=$t(CT),AT=Ae({},Oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mf}),RT=$t(AT),xT=Ae({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),PT=$t(xT),kT=Ae({},Bl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),NT=$t(kT),DT=[9,13,27,32],Ff=Nn&&"CompositionEvent"in window,Fs=null;Nn&&"documentMode"in document&&(Fs=document.documentMode);var VT=Nn&&"TextEvent"in window&&!Fs,uv=Nn&&(!Ff||Fs&&8<Fs&&11>=Fs),qp=String.fromCharCode(32),Wp=!1;function cv(e,t){switch(e){case"keyup":return DT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fi=!1;function OT(e,t){switch(e){case"compositionend":return hv(t);case"keypress":return t.which!==32?null:(Wp=!0,qp);case"textInput":return e=t.data,e===qp&&Wp?null:e;default:return null}}function LT(e,t){if(fi)return e==="compositionend"||!Ff&&cv(e,t)?(e=lv(),Da=Of=Wn=null,fi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uv&&t.locale!=="ko"?null:t.data;default:return null}}var MT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!MT[e.type]:t==="textarea"}function fv(e,t,n,r){zy(r),t=Ja(t,"onChange"),0<t.length&&(n=new Lf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $s=null,no=null;function FT(e){Sv(e,0)}function bl(e){var t=mi(e);if(My(t))return e}function $T(e,t){if(e==="change")return t}var dv=!1;if(Nn){var qu;if(Nn){var Wu="oninput"in document;if(!Wu){var Qp=document.createElement("div");Qp.setAttribute("oninput","return;"),Wu=typeof Qp.oninput=="function"}qu=Wu}else qu=!1;dv=qu&&(!document.documentMode||9<document.documentMode)}function Gp(){$s&&($s.detachEvent("onpropertychange",pv),no=$s=null)}function pv(e){if(e.propertyName==="value"&&bl(no)){var t=[];fv(t,no,e,Pf(e)),Ky(FT,t)}}function jT(e,t,n){e==="focusin"?(Gp(),$s=t,no=n,$s.attachEvent("onpropertychange",pv)):e==="focusout"&&Gp()}function UT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bl(no)}function BT(e,t){if(e==="click")return bl(t)}function bT(e,t){if(e==="input"||e==="change")return bl(t)}function zT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rn=typeof Object.is=="function"?Object.is:zT;function ro(e,t){if(rn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$c.call(t,i)||!rn(e[i],t[i]))return!1}return!0}function Yp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xp(e,t){var n=Yp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yp(n)}}function mv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gv(){for(var e=window,t=qa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=qa(e.document)}return t}function $f(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function HT(e){var t=gv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&mv(n.ownerDocument.documentElement,n)){if(r!==null&&$f(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Xp(n,s);var o=Xp(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qT=Nn&&"documentMode"in document&&11>=document.documentMode,di=null,rh=null,js=null,ih=!1;function Jp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ih||di==null||di!==qa(r)||(r=di,"selectionStart"in r&&$f(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),js&&ro(js,r)||(js=r,r=Ja(rh,"onSelect"),0<r.length&&(t=new Lf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=di)))}function ha(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pi={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionend:ha("Transition","TransitionEnd")},Ku={},yv={};Nn&&(yv=document.createElement("div").style,"AnimationEvent"in window||(delete pi.animationend.animation,delete pi.animationiteration.animation,delete pi.animationstart.animation),"TransitionEvent"in window||delete pi.transitionend.transition);function zl(e){if(Ku[e])return Ku[e];if(!pi[e])return e;var t=pi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in yv)return Ku[e]=t[n];return e}var vv=zl("animationend"),_v=zl("animationiteration"),Ev=zl("animationstart"),wv=zl("transitionend"),Tv=new Map,Zp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yr(e,t){Tv.set(e,t),Gr(t,[e])}for(var Qu=0;Qu<Zp.length;Qu++){var Gu=Zp[Qu],WT=Gu.toLowerCase(),KT=Gu[0].toUpperCase()+Gu.slice(1);yr(WT,"on"+KT)}yr(vv,"onAnimationEnd");yr(_v,"onAnimationIteration");yr(Ev,"onAnimationStart");yr("dblclick","onDoubleClick");yr("focusin","onFocus");yr("focusout","onBlur");yr(wv,"onTransitionEnd");Mi("onMouseEnter",["mouseout","mouseover"]);Mi("onMouseLeave",["mouseout","mouseover"]);Mi("onPointerEnter",["pointerout","pointerover"]);Mi("onPointerLeave",["pointerout","pointerover"]);Gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QT=new Set("cancel close invalid load scroll toggle".split(" ").concat(xs));function em(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ww(r,t,void 0,e),e.currentTarget=null}function Sv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;em(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;em(i,a,u),s=l}}}if(Ka)throw e=Zc,Ka=!1,Zc=null,e}function pe(e,t){var n=t[uh];n===void 0&&(n=t[uh]=new Set);var r=e+"__bubble";n.has(r)||(Iv(t,e,2,!1),n.add(r))}function Yu(e,t,n){var r=0;t&&(r|=4),Iv(n,e,r,t)}var fa="_reactListening"+Math.random().toString(36).slice(2);function io(e){if(!e[fa]){e[fa]=!0,Ny.forEach(function(n){n!=="selectionchange"&&(QT.has(n)||Yu(n,!1,e),Yu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fa]||(t[fa]=!0,Yu("selectionchange",!1,t))}}function Iv(e,t,n,r){switch(av(t)){case 1:var i=lT;break;case 4:i=uT;break;default:i=Vf}n=i.bind(null,t,n,e),i=void 0,!Jc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Xu(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Pr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Ky(function(){var u=s,c=Pf(n),h=[];e:{var f=Tv.get(e);if(f!==void 0){var g=Lf,_=e;switch(e){case"keypress":if(Va(n)===0)break e;case"keydown":case"keyup":g=IT;break;case"focusin":_="focus",g=Hu;break;case"focusout":_="blur",g=Hu;break;case"beforeblur":case"afterblur":g=Hu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=bp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=fT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=RT;break;case vv:case _v:case Ev:g=mT;break;case wv:g=PT;break;case"scroll":g=cT;break;case"wheel":g=NT;break;case"copy":case"cut":case"paste":g=yT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Hp}var w=(t&4)!==0,I=!w&&e==="scroll",m=w?f!==null?f+"Capture":null:f;w=[];for(var d=u,p;d!==null;){p=d;var T=p.stateNode;if(p.tag===5&&T!==null&&(p=T,m!==null&&(T=Js(d,m),T!=null&&w.push(so(d,T,p)))),I)break;d=d.return}0<w.length&&(f=new g(f,_,null,n,c),h.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==Yc&&(_=n.relatedTarget||n.fromElement)&&(Pr(_)||_[Dn]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=u,_=_?Pr(_):null,_!==null&&(I=Yr(_),_!==I||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=u),g!==_)){if(w=bp,T="onMouseLeave",m="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(w=Hp,T="onPointerLeave",m="onPointerEnter",d="pointer"),I=g==null?f:mi(g),p=_==null?f:mi(_),f=new w(T,d+"leave",g,n,c),f.target=I,f.relatedTarget=p,T=null,Pr(c)===u&&(w=new w(m,d+"enter",_,n,c),w.target=p,w.relatedTarget=I,T=w),I=T,g&&_)t:{for(w=g,m=_,d=0,p=w;p;p=ni(p))d++;for(p=0,T=m;T;T=ni(T))p++;for(;0<d-p;)w=ni(w),d--;for(;0<p-d;)m=ni(m),p--;for(;d--;){if(w===m||m!==null&&w===m.alternate)break t;w=ni(w),m=ni(m)}w=null}else w=null;g!==null&&tm(h,f,g,w,!1),_!==null&&I!==null&&tm(h,I,_,w,!0)}}e:{if(f=u?mi(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var A=$T;else if(Kp(f))if(dv)A=bT;else{A=UT;var R=jT}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(A=BT);if(A&&(A=A(e,u))){fv(h,A,n,c);break e}R&&R(e,f,u),e==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&qc(f,"number",f.value)}switch(R=u?mi(u):window,e){case"focusin":(Kp(R)||R.contentEditable==="true")&&(di=R,rh=u,js=null);break;case"focusout":js=rh=di=null;break;case"mousedown":ih=!0;break;case"contextmenu":case"mouseup":case"dragend":ih=!1,Jp(h,n,c);break;case"selectionchange":if(qT)break;case"keydown":case"keyup":Jp(h,n,c)}var D;if(Ff)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else fi?cv(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(uv&&n.locale!=="ko"&&(fi||M!=="onCompositionStart"?M==="onCompositionEnd"&&fi&&(D=lv()):(Wn=c,Of="value"in Wn?Wn.value:Wn.textContent,fi=!0)),R=Ja(u,M),0<R.length&&(M=new zp(M,e,null,n,c),h.push({event:M,listeners:R}),D?M.data=D:(D=hv(n),D!==null&&(M.data=D)))),(D=VT?OT(e,n):LT(e,n))&&(u=Ja(u,"onBeforeInput"),0<u.length&&(c=new zp("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=D))}Sv(h,t)})}function so(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ja(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Js(e,n),s!=null&&r.unshift(so(e,s,i)),s=Js(e,t),s!=null&&r.push(so(e,s,i))),e=e.return}return r}function ni(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function tm(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Js(n,s),l!=null&&o.unshift(so(n,l,a))):i||(l=Js(n,s),l!=null&&o.push(so(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var GT=/\r\n?/g,YT=/\u0000|\uFFFD/g;function nm(e){return(typeof e=="string"?e:""+e).replace(GT,`
`).replace(YT,"")}function da(e,t,n){if(t=nm(t),nm(e)!==t&&n)throw Error(P(425))}function Za(){}var sh=null,oh=null;function ah(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lh=typeof setTimeout=="function"?setTimeout:void 0,XT=typeof clearTimeout=="function"?clearTimeout:void 0,rm=typeof Promise=="function"?Promise:void 0,JT=typeof queueMicrotask=="function"?queueMicrotask:typeof rm<"u"?function(e){return rm.resolve(null).then(e).catch(ZT)}:lh;function ZT(e){setTimeout(function(){throw e})}function Ju(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),to(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);to(t)}function tr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function im(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zi=Math.random().toString(36).slice(2),cn="__reactFiber$"+Zi,oo="__reactProps$"+Zi,Dn="__reactContainer$"+Zi,uh="__reactEvents$"+Zi,eS="__reactListeners$"+Zi,tS="__reactHandles$"+Zi;function Pr(e){var t=e[cn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dn]||n[cn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=im(e);e!==null;){if(n=e[cn])return n;e=im(e)}return t}e=n,n=e.parentNode}return null}function Lo(e){return e=e[cn]||e[Dn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function Hl(e){return e[oo]||null}var ch=[],gi=-1;function vr(e){return{current:e}}function ye(e){0>gi||(e.current=ch[gi],ch[gi]=null,gi--)}function de(e,t){gi++,ch[gi]=e.current,e.current=t}var dr={},gt=vr(dr),Rt=vr(!1),Ur=dr;function Fi(e,t){var n=e.type.contextTypes;if(!n)return dr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function xt(e){return e=e.childContextTypes,e!=null}function el(){ye(Rt),ye(gt)}function sm(e,t,n){if(gt.current!==dr)throw Error(P(168));de(gt,t),de(Rt,n)}function Cv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(P(108,jw(e)||"Unknown",i));return Ae({},n,r)}function tl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dr,Ur=gt.current,de(gt,e),de(Rt,Rt.current),!0}function om(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=Cv(e,t,Ur),r.__reactInternalMemoizedMergedChildContext=e,ye(Rt),ye(gt),de(gt,e)):ye(Rt),de(Rt,n)}var Sn=null,ql=!1,Zu=!1;function Av(e){Sn===null?Sn=[e]:Sn.push(e)}function nS(e){ql=!0,Av(e)}function _r(){if(!Zu&&Sn!==null){Zu=!0;var e=0,t=ue;try{var n=Sn;for(ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Sn=null,ql=!1}catch(i){throw Sn!==null&&(Sn=Sn.slice(e+1)),Xy(kf,_r),i}finally{ue=t,Zu=!1}}return null}var yi=[],vi=0,nl=null,rl=0,Ut=[],Bt=0,Br=null,An=1,Rn="";function Ir(e,t){yi[vi++]=rl,yi[vi++]=nl,nl=e,rl=t}function Rv(e,t,n){Ut[Bt++]=An,Ut[Bt++]=Rn,Ut[Bt++]=Br,Br=e;var r=An;e=Rn;var i=32-tn(r)-1;r&=~(1<<i),n+=1;var s=32-tn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,An=1<<32-tn(t)+i|n<<i|r,Rn=s+e}else An=1<<s|n<<i|r,Rn=e}function jf(e){e.return!==null&&(Ir(e,1),Rv(e,1,0))}function Uf(e){for(;e===nl;)nl=yi[--vi],yi[vi]=null,rl=yi[--vi],yi[vi]=null;for(;e===Br;)Br=Ut[--Bt],Ut[Bt]=null,Rn=Ut[--Bt],Ut[Bt]=null,An=Ut[--Bt],Ut[Bt]=null}var Vt=null,Dt=null,Ee=!1,Jt=null;function xv(e,t){var n=Ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function am(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Vt=e,Dt=tr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Vt=e,Dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Br!==null?{id:An,overflow:Rn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Vt=e,Dt=null,!0):!1;default:return!1}}function hh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fh(e){if(Ee){var t=Dt;if(t){var n=t;if(!am(e,t)){if(hh(e))throw Error(P(418));t=tr(n.nextSibling);var r=Vt;t&&am(e,t)?xv(r,n):(e.flags=e.flags&-4097|2,Ee=!1,Vt=e)}}else{if(hh(e))throw Error(P(418));e.flags=e.flags&-4097|2,Ee=!1,Vt=e}}}function lm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vt=e}function pa(e){if(e!==Vt)return!1;if(!Ee)return lm(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ah(e.type,e.memoizedProps)),t&&(t=Dt)){if(hh(e))throw Pv(),Error(P(418));for(;t;)xv(e,t),t=tr(t.nextSibling)}if(lm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Dt=tr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Dt=null}}else Dt=Vt?tr(e.stateNode.nextSibling):null;return!0}function Pv(){for(var e=Dt;e;)e=tr(e.nextSibling)}function $i(){Dt=Vt=null,Ee=!1}function Bf(e){Jt===null?Jt=[e]:Jt.push(e)}var rS=Fn.ReactCurrentBatchConfig;function Gt(e,t){if(e&&e.defaultProps){t=Ae({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var il=vr(null),sl=null,_i=null,bf=null;function zf(){bf=_i=sl=null}function Hf(e){var t=il.current;ye(il),e._currentValue=t}function dh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pi(e,t){sl=e,bf=_i=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(At=!0),e.firstContext=null)}function Wt(e){var t=e._currentValue;if(bf!==e)if(e={context:e,memoizedValue:t,next:null},_i===null){if(sl===null)throw Error(P(308));_i=e,sl.dependencies={lanes:0,firstContext:e}}else _i=_i.next=e;return t}var kr=null;function qf(e){kr===null?kr=[e]:kr.push(e)}function kv(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,qf(t)):(n.next=i.next,i.next=n),t.interleaved=n,Vn(e,r)}function Vn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var bn=!1;function Wf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function nr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Vn(e,n)}return i=r.interleaved,i===null?(t.next=t,qf(r)):(t.next=i.next,i.next=t),r.interleaved=t,Vn(e,n)}function Oa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nf(e,n)}}function um(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ol(e,t,n,r){var i=e.updateQueue;bn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=e,w=a;switch(f=t,g=n,w.tag){case 1:if(_=w.payload,typeof _=="function"){h=_.call(g,h,f);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=w.payload,f=typeof _=="function"?_.call(g,h,f):_,f==null)break e;h=Ae({},h,f);break e;case 2:bn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=h):c=c.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);zr|=o,e.lanes=o,e.memoizedState=h}}function cm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var Dv=new ky.Component().refs;function ph(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ae({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wl={isMounted:function(e){return(e=e._reactInternals)?Yr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=wt(),i=ir(e),s=Pn(r,i);s.payload=t,n!=null&&(s.callback=n),t=nr(e,s,i),t!==null&&(nn(t,e,i,r),Oa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=wt(),i=ir(e),s=Pn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=nr(e,s,i),t!==null&&(nn(t,e,i,r),Oa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wt(),r=ir(e),i=Pn(n,r);i.tag=2,t!=null&&(i.callback=t),t=nr(e,i,r),t!==null&&(nn(t,e,r,n),Oa(t,e,r))}};function hm(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!ro(n,r)||!ro(i,s):!0}function Vv(e,t,n){var r=!1,i=dr,s=t.contextType;return typeof s=="object"&&s!==null?s=Wt(s):(i=xt(t)?Ur:gt.current,r=t.contextTypes,s=(r=r!=null)?Fi(e,i):dr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function fm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wl.enqueueReplaceState(t,t.state,null)}function mh(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Dv,Wf(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Wt(s):(s=xt(t)?Ur:gt.current,i.context=Fi(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ph(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Wl.enqueueReplaceState(i,i.state,null),ol(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ys(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===Dv&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function ma(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function dm(e){var t=e._init;return t(e._payload)}function Ov(e){function t(m,d){if(e){var p=m.deletions;p===null?(m.deletions=[d],m.flags|=16):p.push(d)}}function n(m,d){if(!e)return null;for(;d!==null;)t(m,d),d=d.sibling;return null}function r(m,d){for(m=new Map;d!==null;)d.key!==null?m.set(d.key,d):m.set(d.index,d),d=d.sibling;return m}function i(m,d){return m=sr(m,d),m.index=0,m.sibling=null,m}function s(m,d,p){return m.index=p,e?(p=m.alternate,p!==null?(p=p.index,p<d?(m.flags|=2,d):p):(m.flags|=2,d)):(m.flags|=1048576,d)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,d,p,T){return d===null||d.tag!==6?(d=oc(p,m.mode,T),d.return=m,d):(d=i(d,p),d.return=m,d)}function l(m,d,p,T){var A=p.type;return A===hi?c(m,d,p.props.children,T,p.key):d!==null&&(d.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Bn&&dm(A)===d.type)?(T=i(d,p.props),T.ref=ys(m,d,p),T.return=m,T):(T=Ua(p.type,p.key,p.props,null,m.mode,T),T.ref=ys(m,d,p),T.return=m,T)}function u(m,d,p,T){return d===null||d.tag!==4||d.stateNode.containerInfo!==p.containerInfo||d.stateNode.implementation!==p.implementation?(d=ac(p,m.mode,T),d.return=m,d):(d=i(d,p.children||[]),d.return=m,d)}function c(m,d,p,T,A){return d===null||d.tag!==7?(d=Fr(p,m.mode,T,A),d.return=m,d):(d=i(d,p),d.return=m,d)}function h(m,d,p){if(typeof d=="string"&&d!==""||typeof d=="number")return d=oc(""+d,m.mode,p),d.return=m,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case ia:return p=Ua(d.type,d.key,d.props,null,m.mode,p),p.ref=ys(m,null,d),p.return=m,p;case ci:return d=ac(d,m.mode,p),d.return=m,d;case Bn:var T=d._init;return h(m,T(d._payload),p)}if(As(d)||fs(d))return d=Fr(d,m.mode,p,null),d.return=m,d;ma(m,d)}return null}function f(m,d,p,T){var A=d!==null?d.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return A!==null?null:a(m,d,""+p,T);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ia:return p.key===A?l(m,d,p,T):null;case ci:return p.key===A?u(m,d,p,T):null;case Bn:return A=p._init,f(m,d,A(p._payload),T)}if(As(p)||fs(p))return A!==null?null:c(m,d,p,T,null);ma(m,p)}return null}function g(m,d,p,T,A){if(typeof T=="string"&&T!==""||typeof T=="number")return m=m.get(p)||null,a(d,m,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ia:return m=m.get(T.key===null?p:T.key)||null,l(d,m,T,A);case ci:return m=m.get(T.key===null?p:T.key)||null,u(d,m,T,A);case Bn:var R=T._init;return g(m,d,p,R(T._payload),A)}if(As(T)||fs(T))return m=m.get(p)||null,c(d,m,T,A,null);ma(d,T)}return null}function _(m,d,p,T){for(var A=null,R=null,D=d,M=d=0,Z=null;D!==null&&M<p.length;M++){D.index>M?(Z=D,D=null):Z=D.sibling;var b=f(m,D,p[M],T);if(b===null){D===null&&(D=Z);break}e&&D&&b.alternate===null&&t(m,D),d=s(b,d,M),R===null?A=b:R.sibling=b,R=b,D=Z}if(M===p.length)return n(m,D),Ee&&Ir(m,M),A;if(D===null){for(;M<p.length;M++)D=h(m,p[M],T),D!==null&&(d=s(D,d,M),R===null?A=D:R.sibling=D,R=D);return Ee&&Ir(m,M),A}for(D=r(m,D);M<p.length;M++)Z=g(D,m,M,p[M],T),Z!==null&&(e&&Z.alternate!==null&&D.delete(Z.key===null?M:Z.key),d=s(Z,d,M),R===null?A=Z:R.sibling=Z,R=Z);return e&&D.forEach(function(De){return t(m,De)}),Ee&&Ir(m,M),A}function w(m,d,p,T){var A=fs(p);if(typeof A!="function")throw Error(P(150));if(p=A.call(p),p==null)throw Error(P(151));for(var R=A=null,D=d,M=d=0,Z=null,b=p.next();D!==null&&!b.done;M++,b=p.next()){D.index>M?(Z=D,D=null):Z=D.sibling;var De=f(m,D,b.value,T);if(De===null){D===null&&(D=Z);break}e&&D&&De.alternate===null&&t(m,D),d=s(De,d,M),R===null?A=De:R.sibling=De,R=De,D=Z}if(b.done)return n(m,D),Ee&&Ir(m,M),A;if(D===null){for(;!b.done;M++,b=p.next())b=h(m,b.value,T),b!==null&&(d=s(b,d,M),R===null?A=b:R.sibling=b,R=b);return Ee&&Ir(m,M),A}for(D=r(m,D);!b.done;M++,b=p.next())b=g(D,m,M,b.value,T),b!==null&&(e&&b.alternate!==null&&D.delete(b.key===null?M:b.key),d=s(b,d,M),R===null?A=b:R.sibling=b,R=b);return e&&D.forEach(function(K){return t(m,K)}),Ee&&Ir(m,M),A}function I(m,d,p,T){if(typeof p=="object"&&p!==null&&p.type===hi&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case ia:e:{for(var A=p.key,R=d;R!==null;){if(R.key===A){if(A=p.type,A===hi){if(R.tag===7){n(m,R.sibling),d=i(R,p.props.children),d.return=m,m=d;break e}}else if(R.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Bn&&dm(A)===R.type){n(m,R.sibling),d=i(R,p.props),d.ref=ys(m,R,p),d.return=m,m=d;break e}n(m,R);break}else t(m,R);R=R.sibling}p.type===hi?(d=Fr(p.props.children,m.mode,T,p.key),d.return=m,m=d):(T=Ua(p.type,p.key,p.props,null,m.mode,T),T.ref=ys(m,d,p),T.return=m,m=T)}return o(m);case ci:e:{for(R=p.key;d!==null;){if(d.key===R)if(d.tag===4&&d.stateNode.containerInfo===p.containerInfo&&d.stateNode.implementation===p.implementation){n(m,d.sibling),d=i(d,p.children||[]),d.return=m,m=d;break e}else{n(m,d);break}else t(m,d);d=d.sibling}d=ac(p,m.mode,T),d.return=m,m=d}return o(m);case Bn:return R=p._init,I(m,d,R(p._payload),T)}if(As(p))return _(m,d,p,T);if(fs(p))return w(m,d,p,T);ma(m,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,d!==null&&d.tag===6?(n(m,d.sibling),d=i(d,p),d.return=m,m=d):(n(m,d),d=oc(p,m.mode,T),d.return=m,m=d),o(m)):n(m,d)}return I}var ji=Ov(!0),Lv=Ov(!1),Mo={},yn=vr(Mo),ao=vr(Mo),lo=vr(Mo);function Nr(e){if(e===Mo)throw Error(P(174));return e}function Kf(e,t){switch(de(lo,t),de(ao,e),de(yn,Mo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Kc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Kc(t,e)}ye(yn),de(yn,t)}function Ui(){ye(yn),ye(ao),ye(lo)}function Mv(e){Nr(lo.current);var t=Nr(yn.current),n=Kc(t,e.type);t!==n&&(de(ao,e),de(yn,n))}function Qf(e){ao.current===e&&(ye(yn),ye(ao))}var Ie=vr(0);function al(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ec=[];function Gf(){for(var e=0;e<ec.length;e++)ec[e]._workInProgressVersionPrimary=null;ec.length=0}var La=Fn.ReactCurrentDispatcher,tc=Fn.ReactCurrentBatchConfig,br=0,Ce=null,Ue=null,qe=null,ll=!1,Us=!1,uo=0,iS=0;function at(){throw Error(P(321))}function Yf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rn(e[n],t[n]))return!1;return!0}function Xf(e,t,n,r,i,s){if(br=s,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,La.current=e===null||e.memoizedState===null?lS:uS,e=n(r,i),Us){s=0;do{if(Us=!1,uo=0,25<=s)throw Error(P(301));s+=1,qe=Ue=null,t.updateQueue=null,La.current=cS,e=n(r,i)}while(Us)}if(La.current=ul,t=Ue!==null&&Ue.next!==null,br=0,qe=Ue=Ce=null,ll=!1,t)throw Error(P(300));return e}function Jf(){var e=uo!==0;return uo=0,e}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Ce.memoizedState=qe=e:qe=qe.next=e,qe}function Kt(){if(Ue===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=qe===null?Ce.memoizedState:qe.next;if(t!==null)qe=t,Ue=e;else{if(e===null)throw Error(P(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},qe===null?Ce.memoizedState=qe=e:qe=qe.next=e}return qe}function co(e,t){return typeof t=="function"?t(e):t}function nc(e){var t=Kt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=Ue,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((br&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ce.lanes|=c,zr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,rn(r,t.memoizedState)||(At=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Ce.lanes|=s,zr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function rc(e){var t=Kt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);rn(s,t.memoizedState)||(At=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Fv(){}function $v(e,t){var n=Ce,r=Kt(),i=t(),s=!rn(r.memoizedState,i);if(s&&(r.memoizedState=i,At=!0),r=r.queue,Zf(Bv.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||qe!==null&&qe.memoizedState.tag&1){if(n.flags|=2048,ho(9,Uv.bind(null,n,r,i,t),void 0,null),We===null)throw Error(P(349));br&30||jv(n,t,i)}return i}function jv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Uv(e,t,n,r){t.value=n,t.getSnapshot=r,bv(t)&&zv(e)}function Bv(e,t,n){return n(function(){bv(t)&&zv(e)})}function bv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rn(e,n)}catch{return!0}}function zv(e){var t=Vn(e,1);t!==null&&nn(t,e,1,-1)}function pm(e){var t=un();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:e},t.queue=e,e=e.dispatch=aS.bind(null,Ce,e),[t.memoizedState,e]}function ho(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Hv(){return Kt().memoizedState}function Ma(e,t,n,r){var i=un();Ce.flags|=e,i.memoizedState=ho(1|t,n,void 0,r===void 0?null:r)}function Kl(e,t,n,r){var i=Kt();r=r===void 0?null:r;var s=void 0;if(Ue!==null){var o=Ue.memoizedState;if(s=o.destroy,r!==null&&Yf(r,o.deps)){i.memoizedState=ho(t,n,s,r);return}}Ce.flags|=e,i.memoizedState=ho(1|t,n,s,r)}function mm(e,t){return Ma(8390656,8,e,t)}function Zf(e,t){return Kl(2048,8,e,t)}function qv(e,t){return Kl(4,2,e,t)}function Wv(e,t){return Kl(4,4,e,t)}function Kv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qv(e,t,n){return n=n!=null?n.concat([e]):null,Kl(4,4,Kv.bind(null,t,e),n)}function ed(){}function Gv(e,t){var n=Kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yv(e,t){var n=Kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xv(e,t,n){return br&21?(rn(n,t)||(n=ev(),Ce.lanes|=n,zr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,At=!0),e.memoizedState=n)}function sS(e,t){var n=ue;ue=n!==0&&4>n?n:4,e(!0);var r=tc.transition;tc.transition={};try{e(!1),t()}finally{ue=n,tc.transition=r}}function Jv(){return Kt().memoizedState}function oS(e,t,n){var r=ir(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zv(e))e_(t,n);else if(n=kv(e,t,n,r),n!==null){var i=wt();nn(n,e,r,i),t_(n,t,r)}}function aS(e,t,n){var r=ir(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zv(e))e_(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,rn(a,o)){var l=t.interleaved;l===null?(i.next=i,qf(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=kv(e,t,i,r),n!==null&&(i=wt(),nn(n,e,r,i),t_(n,t,r))}}function Zv(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function e_(e,t){Us=ll=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function t_(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nf(e,n)}}var ul={readContext:Wt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},lS={readContext:Wt,useCallback:function(e,t){return un().memoizedState=[e,t===void 0?null:t],e},useContext:Wt,useEffect:mm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ma(4194308,4,Kv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ma(4,2,e,t)},useMemo:function(e,t){var n=un();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=un();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=oS.bind(null,Ce,e),[r.memoizedState,e]},useRef:function(e){var t=un();return e={current:e},t.memoizedState=e},useState:pm,useDebugValue:ed,useDeferredValue:function(e){return un().memoizedState=e},useTransition:function(){var e=pm(!1),t=e[0];return e=sS.bind(null,e[1]),un().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ce,i=un();if(Ee){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),We===null)throw Error(P(349));br&30||jv(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,mm(Bv.bind(null,r,s,e),[e]),r.flags|=2048,ho(9,Uv.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=un(),t=We.identifierPrefix;if(Ee){var n=Rn,r=An;n=(r&~(1<<32-tn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=uo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=iS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uS={readContext:Wt,useCallback:Gv,useContext:Wt,useEffect:Zf,useImperativeHandle:Qv,useInsertionEffect:qv,useLayoutEffect:Wv,useMemo:Yv,useReducer:nc,useRef:Hv,useState:function(){return nc(co)},useDebugValue:ed,useDeferredValue:function(e){var t=Kt();return Xv(t,Ue.memoizedState,e)},useTransition:function(){var e=nc(co)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:Fv,useSyncExternalStore:$v,useId:Jv,unstable_isNewReconciler:!1},cS={readContext:Wt,useCallback:Gv,useContext:Wt,useEffect:Zf,useImperativeHandle:Qv,useInsertionEffect:qv,useLayoutEffect:Wv,useMemo:Yv,useReducer:rc,useRef:Hv,useState:function(){return rc(co)},useDebugValue:ed,useDeferredValue:function(e){var t=Kt();return Ue===null?t.memoizedState=e:Xv(t,Ue.memoizedState,e)},useTransition:function(){var e=rc(co)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:Fv,useSyncExternalStore:$v,useId:Jv,unstable_isNewReconciler:!1};function Bi(e,t){try{var n="",r=t;do n+=$w(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function ic(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function gh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hS=typeof WeakMap=="function"?WeakMap:Map;function n_(e,t,n){n=Pn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){hl||(hl=!0,Ah=r),gh(e,t)},n}function r_(e,t,n){n=Pn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){gh(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){gh(e,t),typeof r!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function gm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new hS;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=CS.bind(null,e,t,n),t.then(e,e))}function ym(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vm(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pn(-1,1),t.tag=2,nr(n,t,1))),n.lanes|=1),e)}var fS=Fn.ReactCurrentOwner,At=!1;function vt(e,t,n,r){t.child=e===null?Lv(t,null,n,r):ji(t,e.child,n,r)}function _m(e,t,n,r,i){n=n.render;var s=t.ref;return Pi(t,i),r=Xf(e,t,n,r,s,i),n=Jf(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,On(e,t,i)):(Ee&&n&&jf(t),t.flags|=1,vt(e,t,r,i),t.child)}function Em(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!ld(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,i_(e,t,s,r,i)):(e=Ua(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ro,n(o,r)&&e.ref===t.ref)return On(e,t,i)}return t.flags|=1,e=sr(s,r),e.ref=t.ref,e.return=t,t.child=e}function i_(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(ro(s,r)&&e.ref===t.ref)if(At=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(At=!0);else return t.lanes=e.lanes,On(e,t,i)}return yh(e,t,n,r,i)}function s_(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(wi,Nt),Nt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(wi,Nt),Nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,de(wi,Nt),Nt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,de(wi,Nt),Nt|=r;return vt(e,t,i,n),t.child}function o_(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yh(e,t,n,r,i){var s=xt(n)?Ur:gt.current;return s=Fi(t,s),Pi(t,i),n=Xf(e,t,n,r,s,i),r=Jf(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,On(e,t,i)):(Ee&&r&&jf(t),t.flags|=1,vt(e,t,n,i),t.child)}function wm(e,t,n,r,i){if(xt(n)){var s=!0;tl(t)}else s=!1;if(Pi(t,i),t.stateNode===null)Fa(e,t),Vv(t,n,r),mh(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wt(u):(u=xt(n)?Ur:gt.current,u=Fi(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&fm(t,o,r,u),bn=!1;var f=t.memoizedState;o.state=f,ol(t,r,o,i),l=t.memoizedState,a!==r||f!==l||Rt.current||bn?(typeof c=="function"&&(ph(t,n,c,r),l=t.memoizedState),(a=bn||hm(t,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Nv(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Gt(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wt(l):(l=xt(n)?Ur:gt.current,l=Fi(t,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&fm(t,o,r,l),bn=!1,f=t.memoizedState,o.state=f,ol(t,r,o,i);var _=t.memoizedState;a!==h||f!==_||Rt.current||bn?(typeof g=="function"&&(ph(t,n,g,r),_=t.memoizedState),(u=bn||hm(t,n,u,r,f,_,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return vh(e,t,n,r,s,i)}function vh(e,t,n,r,i,s){o_(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&om(t,n,!1),On(e,t,s);r=t.stateNode,fS.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ji(t,e.child,null,s),t.child=ji(t,null,a,s)):vt(e,t,a,s),t.memoizedState=r.state,i&&om(t,n,!0),t.child}function a_(e){var t=e.stateNode;t.pendingContext?sm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sm(e,t.context,!1),Kf(e,t.containerInfo)}function Tm(e,t,n,r,i){return $i(),Bf(i),t.flags|=256,vt(e,t,n,r),t.child}var _h={dehydrated:null,treeContext:null,retryLane:0};function Eh(e){return{baseLanes:e,cachePool:null,transitions:null}}function l_(e,t,n){var r=t.pendingProps,i=Ie.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),de(Ie,i&1),e===null)return fh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Yl(o,r,0,null),e=Fr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Eh(n),t.memoizedState=_h,e):td(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return dS(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=sr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=sr(a,s):(s=Fr(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Eh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=_h,r}return s=e.child,e=s.sibling,r=sr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function td(e,t){return t=Yl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ga(e,t,n,r){return r!==null&&Bf(r),ji(t,e.child,null,n),e=td(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dS(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=ic(Error(P(422))),ga(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Yl({mode:"visible",children:r.children},i,0,null),s=Fr(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ji(t,e.child,null,o),t.child.memoizedState=Eh(o),t.memoizedState=_h,s);if(!(t.mode&1))return ga(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(P(419)),r=ic(s,r,void 0),ga(e,t,o,r)}if(a=(o&e.childLanes)!==0,At||a){if(r=We,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vn(e,i),nn(r,e,i,-1))}return ad(),r=ic(Error(P(421))),ga(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=AS.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Dt=tr(i.nextSibling),Vt=t,Ee=!0,Jt=null,e!==null&&(Ut[Bt++]=An,Ut[Bt++]=Rn,Ut[Bt++]=Br,An=e.id,Rn=e.overflow,Br=t),t=td(t,r.children),t.flags|=4096,t)}function Sm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),dh(e.return,t,n)}function sc(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function u_(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(vt(e,t,r.children,n),r=Ie.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sm(e,n,t);else if(e.tag===19)Sm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(de(Ie,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&al(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),sc(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&al(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}sc(t,!0,n,null,s);break;case"together":sc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function On(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=sr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=sr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pS(e,t,n){switch(t.tag){case 3:a_(t),$i();break;case 5:Mv(t);break;case 1:xt(t.type)&&tl(t);break;case 4:Kf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;de(il,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(de(Ie,Ie.current&1),t.flags|=128,null):n&t.child.childLanes?l_(e,t,n):(de(Ie,Ie.current&1),e=On(e,t,n),e!==null?e.sibling:null);de(Ie,Ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return u_(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),de(Ie,Ie.current),r)break;return null;case 22:case 23:return t.lanes=0,s_(e,t,n)}return On(e,t,n)}var c_,wh,h_,f_;c_=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wh=function(){};h_=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Nr(yn.current);var s=null;switch(n){case"input":i=zc(e,i),r=zc(e,r),s=[];break;case"select":i=Ae({},i,{value:void 0}),r=Ae({},r,{value:void 0}),s=[];break;case"textarea":i=Wc(e,i),r=Wc(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Za)}Qc(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ys.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ys.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&pe("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};f_=function(e,t,n,r){n!==r&&(t.flags|=4)};function vs(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mS(e,t,n){var r=t.pendingProps;switch(Uf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return xt(t.type)&&el(),lt(t),null;case 3:return r=t.stateNode,Ui(),ye(Rt),ye(gt),Gf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(pa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jt!==null&&(Ph(Jt),Jt=null))),wh(e,t),lt(t),null;case 5:Qf(t);var i=Nr(lo.current);if(n=t.type,e!==null&&t.stateNode!=null)h_(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return lt(t),null}if(e=Nr(yn.current),pa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[cn]=t,r[oo]=s,e=(t.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(i=0;i<xs.length;i++)pe(xs[i],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":Dp(r,s),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},pe("invalid",r);break;case"textarea":Op(r,s),pe("invalid",r)}Qc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&da(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&da(r.textContent,a,e),i=["children",""+a]):Ys.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&pe("scroll",r)}switch(n){case"input":sa(r),Vp(r,s,!0);break;case"textarea":sa(r),Lp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Za)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[cn]=t,e[oo]=r,c_(e,t,!1,!1),t.stateNode=e;e:{switch(o=Gc(n,r),n){case"dialog":pe("cancel",e),pe("close",e),i=r;break;case"iframe":case"object":case"embed":pe("load",e),i=r;break;case"video":case"audio":for(i=0;i<xs.length;i++)pe(xs[i],e);i=r;break;case"source":pe("error",e),i=r;break;case"img":case"image":case"link":pe("error",e),pe("load",e),i=r;break;case"details":pe("toggle",e),i=r;break;case"input":Dp(e,r),i=zc(e,r),pe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ae({},r,{value:void 0}),pe("invalid",e);break;case"textarea":Op(e,r),i=Wc(e,r),pe("invalid",e);break;default:i=r}Qc(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?by(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Uy(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Xs(e,l):typeof l=="number"&&Xs(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ys.hasOwnProperty(s)?l!=null&&s==="onScroll"&&pe("scroll",e):l!=null&&Cf(e,s,l,o))}switch(n){case"input":sa(e),Vp(e,r,!1);break;case"textarea":sa(e),Lp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+fr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ci(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ci(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Za)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lt(t),null;case 6:if(e&&t.stateNode!=null)f_(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=Nr(lo.current),Nr(yn.current),pa(t)){if(r=t.stateNode,n=t.memoizedProps,r[cn]=t,(s=r.nodeValue!==n)&&(e=Vt,e!==null))switch(e.tag){case 3:da(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&da(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cn]=t,t.stateNode=r}return lt(t),null;case 13:if(ye(Ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&Dt!==null&&t.mode&1&&!(t.flags&128))Pv(),$i(),t.flags|=98560,s=!1;else if(s=pa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(P(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[cn]=t}else $i(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;lt(t),s=!1}else Jt!==null&&(Ph(Jt),Jt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ie.current&1?Be===0&&(Be=3):ad())),t.updateQueue!==null&&(t.flags|=4),lt(t),null);case 4:return Ui(),wh(e,t),e===null&&io(t.stateNode.containerInfo),lt(t),null;case 10:return Hf(t.type._context),lt(t),null;case 17:return xt(t.type)&&el(),lt(t),null;case 19:if(ye(Ie),s=t.memoizedState,s===null)return lt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)vs(s,!1);else{if(Be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=al(e),o!==null){for(t.flags|=128,vs(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return de(Ie,Ie.current&1|2),t.child}e=e.sibling}s.tail!==null&&ke()>bi&&(t.flags|=128,r=!0,vs(s,!1),t.lanes=4194304)}else{if(!r)if(e=al(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ee)return lt(t),null}else 2*ke()-s.renderingStartTime>bi&&n!==1073741824&&(t.flags|=128,r=!0,vs(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ke(),t.sibling=null,n=Ie.current,de(Ie,r?n&1|2:n&1),t):(lt(t),null);case 22:case 23:return od(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Nt&1073741824&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function gS(e,t){switch(Uf(t),t.tag){case 1:return xt(t.type)&&el(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ui(),ye(Rt),ye(gt),Gf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qf(t),null;case 13:if(ye(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));$i()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(Ie),null;case 4:return Ui(),null;case 10:return Hf(t.type._context),null;case 22:case 23:return od(),null;case 24:return null;default:return null}}var ya=!1,ht=!1,yS=typeof WeakSet=="function"?WeakSet:Set,F=null;function Ei(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(e,t,r)}else n.current=null}function Th(e,t,n){try{n()}catch(r){Re(e,t,r)}}var Im=!1;function vS(e,t){if(sh=Ya,e=gv(),$f(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=e,f=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(oh={focusedElem:e,selectionRange:n},Ya=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var w=_.memoizedProps,I=_.memoizedState,m=t.stateNode,d=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:Gt(t.type,w),I);m.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(T){Re(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return _=Im,Im=!1,_}function Bs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Th(t,n,s)}i=i.next}while(i!==r)}}function Ql(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Sh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function d_(e){var t=e.alternate;t!==null&&(e.alternate=null,d_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cn],delete t[oo],delete t[uh],delete t[eS],delete t[tS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function p_(e){return e.tag===5||e.tag===3||e.tag===4}function Cm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||p_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ih(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Za));else if(r!==4&&(e=e.child,e!==null))for(Ih(e,t,n),e=e.sibling;e!==null;)Ih(e,t,n),e=e.sibling}function Ch(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ch(e,t,n),e=e.sibling;e!==null;)Ch(e,t,n),e=e.sibling}var Je=null,Yt=!1;function Un(e,t,n){for(n=n.child;n!==null;)m_(e,t,n),n=n.sibling}function m_(e,t,n){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(Ul,n)}catch{}switch(n.tag){case 5:ht||Ei(n,t);case 6:var r=Je,i=Yt;Je=null,Un(e,t,n),Je=r,Yt=i,Je!==null&&(Yt?(e=Je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Je.removeChild(n.stateNode));break;case 18:Je!==null&&(Yt?(e=Je,n=n.stateNode,e.nodeType===8?Ju(e.parentNode,n):e.nodeType===1&&Ju(e,n),to(e)):Ju(Je,n.stateNode));break;case 4:r=Je,i=Yt,Je=n.stateNode.containerInfo,Yt=!0,Un(e,t,n),Je=r,Yt=i;break;case 0:case 11:case 14:case 15:if(!ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Th(n,t,o),i=i.next}while(i!==r)}Un(e,t,n);break;case 1:if(!ht&&(Ei(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Re(n,t,a)}Un(e,t,n);break;case 21:Un(e,t,n);break;case 22:n.mode&1?(ht=(r=ht)||n.memoizedState!==null,Un(e,t,n),ht=r):Un(e,t,n);break;default:Un(e,t,n)}}function Am(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new yS),t.forEach(function(r){var i=RS.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Je=a.stateNode,Yt=!1;break e;case 3:Je=a.stateNode.containerInfo,Yt=!0;break e;case 4:Je=a.stateNode.containerInfo,Yt=!0;break e}a=a.return}if(Je===null)throw Error(P(160));m_(s,o,i),Je=null,Yt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Re(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)g_(t,e),t=t.sibling}function g_(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qt(t,e),ln(e),r&4){try{Bs(3,e,e.return),Ql(3,e)}catch(w){Re(e,e.return,w)}try{Bs(5,e,e.return)}catch(w){Re(e,e.return,w)}}break;case 1:Qt(t,e),ln(e),r&512&&n!==null&&Ei(n,n.return);break;case 5:if(Qt(t,e),ln(e),r&512&&n!==null&&Ei(n,n.return),e.flags&32){var i=e.stateNode;try{Xs(i,"")}catch(w){Re(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Fy(i,s),Gc(a,o);var u=Gc(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?by(i,h):c==="dangerouslySetInnerHTML"?Uy(i,h):c==="children"?Xs(i,h):Cf(i,c,h,u)}switch(a){case"input":Hc(i,s);break;case"textarea":$y(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Ci(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ci(i,!!s.multiple,s.defaultValue,!0):Ci(i,!!s.multiple,s.multiple?[]:"",!1))}i[oo]=s}catch(w){Re(e,e.return,w)}}break;case 6:if(Qt(t,e),ln(e),r&4){if(e.stateNode===null)throw Error(P(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(w){Re(e,e.return,w)}}break;case 3:if(Qt(t,e),ln(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{to(t.containerInfo)}catch(w){Re(e,e.return,w)}break;case 4:Qt(t,e),ln(e);break;case 13:Qt(t,e),ln(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(id=ke())),r&4&&Am(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(ht=(u=ht)||c,Qt(t,e),ht=u):Qt(t,e),ln(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(F=e,c=e.child;c!==null;){for(h=F=c;F!==null;){switch(f=F,g=f.child,f.tag){case 0:case 11:case 14:case 15:Bs(4,f,f.return);break;case 1:Ei(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(w){Re(r,n,w)}}break;case 5:Ei(f,f.return);break;case 22:if(f.memoizedState!==null){xm(h);continue}}g!==null?(g.return=f,F=g):xm(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=By("display",o))}catch(w){Re(e,e.return,w)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){Re(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Qt(t,e),ln(e),r&4&&Am(e);break;case 21:break;default:Qt(t,e),ln(e)}}function ln(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(p_(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Xs(i,""),r.flags&=-33);var s=Cm(e);Ch(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Cm(e);Ih(e,a,o);break;default:throw Error(P(161))}}catch(l){Re(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _S(e,t,n){F=e,y_(e)}function y_(e,t,n){for(var r=(e.mode&1)!==0;F!==null;){var i=F,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ya;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ht;a=ya;var u=ht;if(ya=o,(ht=l)&&!u)for(F=i;F!==null;)o=F,l=o.child,o.tag===22&&o.memoizedState!==null?Pm(i):l!==null?(l.return=o,F=l):Pm(i);for(;s!==null;)F=s,y_(s),s=s.sibling;F=i,ya=a,ht=u}Rm(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,F=s):Rm(e)}}function Rm(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ht||Ql(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ht)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Gt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&cm(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}cm(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&to(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}ht||t.flags&512&&Sh(t)}catch(f){Re(t,t.return,f)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function xm(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function Pm(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ql(4,t)}catch(l){Re(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Re(t,i,l)}}var s=t.return;try{Sh(t)}catch(l){Re(t,s,l)}break;case 5:var o=t.return;try{Sh(t)}catch(l){Re(t,o,l)}}}catch(l){Re(t,t.return,l)}if(t===e){F=null;break}var a=t.sibling;if(a!==null){a.return=t.return,F=a;break}F=t.return}}var ES=Math.ceil,cl=Fn.ReactCurrentDispatcher,nd=Fn.ReactCurrentOwner,qt=Fn.ReactCurrentBatchConfig,ie=0,We=null,Me=null,tt=0,Nt=0,wi=vr(0),Be=0,fo=null,zr=0,Gl=0,rd=0,bs=null,Ct=null,id=0,bi=1/0,Tn=null,hl=!1,Ah=null,rr=null,va=!1,Kn=null,fl=0,zs=0,Rh=null,$a=-1,ja=0;function wt(){return ie&6?ke():$a!==-1?$a:$a=ke()}function ir(e){return e.mode&1?ie&2&&tt!==0?tt&-tt:rS.transition!==null?(ja===0&&(ja=ev()),ja):(e=ue,e!==0||(e=window.event,e=e===void 0?16:av(e.type)),e):1}function nn(e,t,n,r){if(50<zs)throw zs=0,Rh=null,Error(P(185));Vo(e,n,r),(!(ie&2)||e!==We)&&(e===We&&(!(ie&2)&&(Gl|=n),Be===4&&qn(e,tt)),Pt(e,r),n===1&&ie===0&&!(t.mode&1)&&(bi=ke()+500,ql&&_r()))}function Pt(e,t){var n=e.callbackNode;rT(e,t);var r=Ga(e,e===We?tt:0);if(r===0)n!==null&&$p(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&$p(n),t===1)e.tag===0?nS(km.bind(null,e)):Av(km.bind(null,e)),JT(function(){!(ie&6)&&_r()}),n=null;else{switch(tv(r)){case 1:n=kf;break;case 4:n=Jy;break;case 16:n=Qa;break;case 536870912:n=Zy;break;default:n=Qa}n=C_(n,v_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function v_(e,t){if($a=-1,ja=0,ie&6)throw Error(P(327));var n=e.callbackNode;if(ki()&&e.callbackNode!==n)return null;var r=Ga(e,e===We?tt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=dl(e,r);else{t=r;var i=ie;ie|=2;var s=E_();(We!==e||tt!==t)&&(Tn=null,bi=ke()+500,Mr(e,t));do try{SS();break}catch(a){__(e,a)}while(1);zf(),cl.current=s,ie=i,Me!==null?t=0:(We=null,tt=0,t=Be)}if(t!==0){if(t===2&&(i=eh(e),i!==0&&(r=i,t=xh(e,i))),t===1)throw n=fo,Mr(e,0),qn(e,r),Pt(e,ke()),n;if(t===6)qn(e,r);else{if(i=e.current.alternate,!(r&30)&&!wS(i)&&(t=dl(e,r),t===2&&(s=eh(e),s!==0&&(r=s,t=xh(e,s))),t===1))throw n=fo,Mr(e,0),qn(e,r),Pt(e,ke()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:Cr(e,Ct,Tn);break;case 3:if(qn(e,r),(r&130023424)===r&&(t=id+500-ke(),10<t)){if(Ga(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){wt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=lh(Cr.bind(null,e,Ct,Tn),t);break}Cr(e,Ct,Tn);break;case 4:if(qn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-tn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ES(r/1960))-r,10<r){e.timeoutHandle=lh(Cr.bind(null,e,Ct,Tn),r);break}Cr(e,Ct,Tn);break;case 5:Cr(e,Ct,Tn);break;default:throw Error(P(329))}}}return Pt(e,ke()),e.callbackNode===n?v_.bind(null,e):null}function xh(e,t){var n=bs;return e.current.memoizedState.isDehydrated&&(Mr(e,t).flags|=256),e=dl(e,t),e!==2&&(t=Ct,Ct=n,t!==null&&Ph(t)),e}function Ph(e){Ct===null?Ct=e:Ct.push.apply(Ct,e)}function wS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!rn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qn(e,t){for(t&=~rd,t&=~Gl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tn(t),r=1<<n;e[n]=-1,t&=~r}}function km(e){if(ie&6)throw Error(P(327));ki();var t=Ga(e,0);if(!(t&1))return Pt(e,ke()),null;var n=dl(e,t);if(e.tag!==0&&n===2){var r=eh(e);r!==0&&(t=r,n=xh(e,r))}if(n===1)throw n=fo,Mr(e,0),qn(e,t),Pt(e,ke()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cr(e,Ct,Tn),Pt(e,ke()),null}function sd(e,t){var n=ie;ie|=1;try{return e(t)}finally{ie=n,ie===0&&(bi=ke()+500,ql&&_r())}}function Hr(e){Kn!==null&&Kn.tag===0&&!(ie&6)&&ki();var t=ie;ie|=1;var n=qt.transition,r=ue;try{if(qt.transition=null,ue=1,e)return e()}finally{ue=r,qt.transition=n,ie=t,!(ie&6)&&_r()}}function od(){Nt=wi.current,ye(wi)}function Mr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,XT(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(Uf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&el();break;case 3:Ui(),ye(Rt),ye(gt),Gf();break;case 5:Qf(r);break;case 4:Ui();break;case 13:ye(Ie);break;case 19:ye(Ie);break;case 10:Hf(r.type._context);break;case 22:case 23:od()}n=n.return}if(We=e,Me=e=sr(e.current,null),tt=Nt=t,Be=0,fo=null,rd=Gl=zr=0,Ct=bs=null,kr!==null){for(t=0;t<kr.length;t++)if(n=kr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}kr=null}return e}function __(e,t){do{var n=Me;try{if(zf(),La.current=ul,ll){for(var r=Ce.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ll=!1}if(br=0,qe=Ue=Ce=null,Us=!1,uo=0,nd.current=null,n===null||n.return===null){Be=1,fo=t,Me=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=tt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=ym(o);if(g!==null){g.flags&=-257,vm(g,o,a,s,t),g.mode&1&&gm(s,u,t),t=g,l=u;var _=t.updateQueue;if(_===null){var w=new Set;w.add(l),t.updateQueue=w}else _.add(l);break e}else{if(!(t&1)){gm(s,u,t),ad();break e}l=Error(P(426))}}else if(Ee&&a.mode&1){var I=ym(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),vm(I,o,a,s,t),Bf(Bi(l,a));break e}}s=l=Bi(l,a),Be!==4&&(Be=2),bs===null?bs=[s]:bs.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=n_(s,l,t);um(s,m);break e;case 1:a=l;var d=s.type,p=s.stateNode;if(!(s.flags&128)&&(typeof d.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(rr===null||!rr.has(p)))){s.flags|=65536,t&=-t,s.lanes|=t;var T=r_(s,a,t);um(s,T);break e}}s=s.return}while(s!==null)}T_(n)}catch(A){t=A,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(1)}function E_(){var e=cl.current;return cl.current=ul,e===null?ul:e}function ad(){(Be===0||Be===3||Be===2)&&(Be=4),We===null||!(zr&268435455)&&!(Gl&268435455)||qn(We,tt)}function dl(e,t){var n=ie;ie|=2;var r=E_();(We!==e||tt!==t)&&(Tn=null,Mr(e,t));do try{TS();break}catch(i){__(e,i)}while(1);if(zf(),ie=n,cl.current=r,Me!==null)throw Error(P(261));return We=null,tt=0,Be}function TS(){for(;Me!==null;)w_(Me)}function SS(){for(;Me!==null&&!Qw();)w_(Me)}function w_(e){var t=I_(e.alternate,e,Nt);e.memoizedProps=e.pendingProps,t===null?T_(e):Me=t,nd.current=null}function T_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=gS(n,t),n!==null){n.flags&=32767,Me=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Be=6,Me=null;return}}else if(n=mS(n,t,Nt),n!==null){Me=n;return}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);Be===0&&(Be=5)}function Cr(e,t,n){var r=ue,i=qt.transition;try{qt.transition=null,ue=1,IS(e,t,n,r)}finally{qt.transition=i,ue=r}return null}function IS(e,t,n,r){do ki();while(Kn!==null);if(ie&6)throw Error(P(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(iT(e,s),e===We&&(Me=We=null,tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||va||(va=!0,C_(Qa,function(){return ki(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=qt.transition,qt.transition=null;var o=ue;ue=1;var a=ie;ie|=4,nd.current=null,vS(e,n),g_(n,e),HT(oh),Ya=!!sh,oh=sh=null,e.current=n,_S(n),Gw(),ie=a,ue=o,qt.transition=s}else e.current=n;if(va&&(va=!1,Kn=e,fl=i),s=e.pendingLanes,s===0&&(rr=null),Jw(n.stateNode),Pt(e,ke()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hl)throw hl=!1,e=Ah,Ah=null,e;return fl&1&&e.tag!==0&&ki(),s=e.pendingLanes,s&1?e===Rh?zs++:(zs=0,Rh=e):zs=0,_r(),null}function ki(){if(Kn!==null){var e=tv(fl),t=qt.transition,n=ue;try{if(qt.transition=null,ue=16>e?16:e,Kn===null)var r=!1;else{if(e=Kn,Kn=null,fl=0,ie&6)throw Error(P(331));var i=ie;for(ie|=4,F=e.current;F!==null;){var s=F,o=s.child;if(F.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(F=u;F!==null;){var c=F;switch(c.tag){case 0:case 11:case 15:Bs(8,c,s)}var h=c.child;if(h!==null)h.return=c,F=h;else for(;F!==null;){c=F;var f=c.sibling,g=c.return;if(d_(c),c===u){F=null;break}if(f!==null){f.return=g,F=f;break}F=g}}}var _=s.alternate;if(_!==null){var w=_.child;if(w!==null){_.child=null;do{var I=w.sibling;w.sibling=null,w=I}while(w!==null)}}F=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,F=o;else e:for(;F!==null;){if(s=F,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Bs(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,F=m;break e}F=s.return}}var d=e.current;for(F=d;F!==null;){o=F;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,F=p;else e:for(o=d;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ql(9,a)}}catch(A){Re(a,a.return,A)}if(a===o){F=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,F=T;break e}F=a.return}}if(ie=i,_r(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(Ul,e)}catch{}r=!0}return r}finally{ue=n,qt.transition=t}}return!1}function Nm(e,t,n){t=Bi(n,t),t=n_(e,t,1),e=nr(e,t,1),t=wt(),e!==null&&(Vo(e,1,t),Pt(e,t))}function Re(e,t,n){if(e.tag===3)Nm(e,e,n);else for(;t!==null;){if(t.tag===3){Nm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(rr===null||!rr.has(r))){e=Bi(n,e),e=r_(t,e,1),t=nr(t,e,1),e=wt(),t!==null&&(Vo(t,1,e),Pt(t,e));break}}t=t.return}}function CS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=wt(),e.pingedLanes|=e.suspendedLanes&n,We===e&&(tt&n)===n&&(Be===4||Be===3&&(tt&130023424)===tt&&500>ke()-id?Mr(e,0):rd|=n),Pt(e,t)}function S_(e,t){t===0&&(e.mode&1?(t=la,la<<=1,!(la&130023424)&&(la=4194304)):t=1);var n=wt();e=Vn(e,t),e!==null&&(Vo(e,t,n),Pt(e,n))}function AS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),S_(e,n)}function RS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),S_(e,n)}var I_;I_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rt.current)At=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return At=!1,pS(e,t,n);At=!!(e.flags&131072)}else At=!1,Ee&&t.flags&1048576&&Rv(t,rl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Fa(e,t),e=t.pendingProps;var i=Fi(t,gt.current);Pi(t,n),i=Xf(null,t,r,e,i,n);var s=Jf();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xt(r)?(s=!0,tl(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wf(t),i.updater=Wl,t.stateNode=i,i._reactInternals=t,mh(t,r,e,n),t=vh(null,t,r,!0,s,n)):(t.tag=0,Ee&&s&&jf(t),vt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Fa(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=PS(r),e=Gt(r,e),i){case 0:t=yh(null,t,r,e,n);break e;case 1:t=wm(null,t,r,e,n);break e;case 11:t=_m(null,t,r,e,n);break e;case 14:t=Em(null,t,r,Gt(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gt(r,i),yh(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gt(r,i),wm(e,t,r,i,n);case 3:e:{if(a_(t),e===null)throw Error(P(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Nv(e,t),ol(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Bi(Error(P(423)),t),t=Tm(e,t,r,n,i);break e}else if(r!==i){i=Bi(Error(P(424)),t),t=Tm(e,t,r,n,i);break e}else for(Dt=tr(t.stateNode.containerInfo.firstChild),Vt=t,Ee=!0,Jt=null,n=Lv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($i(),r===i){t=On(e,t,n);break e}vt(e,t,r,n)}t=t.child}return t;case 5:return Mv(t),e===null&&fh(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,ah(r,i)?o=null:s!==null&&ah(r,s)&&(t.flags|=32),o_(e,t),vt(e,t,o,n),t.child;case 6:return e===null&&fh(t),null;case 13:return l_(e,t,n);case 4:return Kf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ji(t,null,r,n):vt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gt(r,i),_m(e,t,r,i,n);case 7:return vt(e,t,t.pendingProps,n),t.child;case 8:return vt(e,t,t.pendingProps.children,n),t.child;case 12:return vt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,de(il,r._currentValue),r._currentValue=o,s!==null)if(rn(s.value,o)){if(s.children===i.children&&!Rt.current){t=On(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Pn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),dh(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),dh(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}vt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Pi(t,n),i=Wt(i),r=r(i),t.flags|=1,vt(e,t,r,n),t.child;case 14:return r=t.type,i=Gt(r,t.pendingProps),i=Gt(r.type,i),Em(e,t,r,i,n);case 15:return i_(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gt(r,i),Fa(e,t),t.tag=1,xt(r)?(e=!0,tl(t)):e=!1,Pi(t,n),Vv(t,r,i),mh(t,r,i,n),vh(null,t,r,!0,e,n);case 19:return u_(e,t,n);case 22:return s_(e,t,n)}throw Error(P(156,t.tag))};function C_(e,t){return Xy(e,t)}function xS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,n,r){return new xS(e,t,n,r)}function ld(e){return e=e.prototype,!(!e||!e.isReactComponent)}function PS(e){if(typeof e=="function")return ld(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Rf)return 11;if(e===xf)return 14}return 2}function sr(e,t){var n=e.alternate;return n===null?(n=Ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ua(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")ld(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case hi:return Fr(n.children,i,s,t);case Af:o=8,i|=8;break;case jc:return e=Ht(12,n,t,i|2),e.elementType=jc,e.lanes=s,e;case Uc:return e=Ht(13,n,t,i),e.elementType=Uc,e.lanes=s,e;case Bc:return e=Ht(19,n,t,i),e.elementType=Bc,e.lanes=s,e;case Oy:return Yl(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Dy:o=10;break e;case Vy:o=9;break e;case Rf:o=11;break e;case xf:o=14;break e;case Bn:o=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=Ht(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Fr(e,t,n,r){return e=Ht(7,e,r,t),e.lanes=n,e}function Yl(e,t,n,r){return e=Ht(22,e,r,t),e.elementType=Oy,e.lanes=n,e.stateNode={isHidden:!1},e}function oc(e,t,n){return e=Ht(6,e,null,t),e.lanes=n,e}function ac(e,t,n){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kS(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bu(0),this.expirationTimes=Bu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ud(e,t,n,r,i,s,o,a,l){return e=new kS(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ht(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wf(s),e}function NS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ci,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function A_(e){if(!e)return dr;e=e._reactInternals;e:{if(Yr(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(xt(n))return Cv(e,n,t)}return t}function R_(e,t,n,r,i,s,o,a,l){return e=ud(n,r,!0,e,i,s,o,a,l),e.context=A_(null),n=e.current,r=wt(),i=ir(n),s=Pn(r,i),s.callback=t??null,nr(n,s,i),e.current.lanes=i,Vo(e,i,r),Pt(e,r),e}function Xl(e,t,n,r){var i=t.current,s=wt(),o=ir(i);return n=A_(n),t.context===null?t.context=n:t.pendingContext=n,t=Pn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=nr(i,t,o),e!==null&&(nn(e,i,o,s),Oa(e,i,o)),o}function pl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Dm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cd(e,t){Dm(e,t),(e=e.alternate)&&Dm(e,t)}function DS(){return null}var x_=typeof reportError=="function"?reportError:function(e){console.error(e)};function hd(e){this._internalRoot=e}Jl.prototype.render=hd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));Xl(e,t,null,null)};Jl.prototype.unmount=hd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hr(function(){Xl(null,e,null,null)}),t[Dn]=null}};function Jl(e){this._internalRoot=e}Jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=iv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Hn.length&&t!==0&&t<Hn[n].priority;n++);Hn.splice(n,0,e),n===0&&ov(e)}};function fd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vm(){}function VS(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=pl(o);s.call(u)}}var o=R_(t,r,e,0,null,!1,!1,"",Vm);return e._reactRootContainer=o,e[Dn]=o.current,io(e.nodeType===8?e.parentNode:e),Hr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=pl(l);a.call(u)}}var l=ud(e,0,!1,null,null,!1,!1,"",Vm);return e._reactRootContainer=l,e[Dn]=l.current,io(e.nodeType===8?e.parentNode:e),Hr(function(){Xl(t,l,n,r)}),l}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=pl(o);a.call(l)}}Xl(t,o,e,i)}else o=VS(n,t,e,i,r);return pl(o)}nv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Rs(t.pendingLanes);n!==0&&(Nf(t,n|1),Pt(t,ke()),!(ie&6)&&(bi=ke()+500,_r()))}break;case 13:Hr(function(){var r=Vn(e,1);if(r!==null){var i=wt();nn(r,e,1,i)}}),cd(e,1)}};Df=function(e){if(e.tag===13){var t=Vn(e,134217728);if(t!==null){var n=wt();nn(t,e,134217728,n)}cd(e,134217728)}};rv=function(e){if(e.tag===13){var t=ir(e),n=Vn(e,t);if(n!==null){var r=wt();nn(n,e,t,r)}cd(e,t)}};iv=function(){return ue};sv=function(e,t){var n=ue;try{return ue=e,t()}finally{ue=n}};Xc=function(e,t,n){switch(t){case"input":if(Hc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Hl(r);if(!i)throw Error(P(90));My(r),Hc(r,i)}}}break;case"textarea":$y(e,n);break;case"select":t=n.value,t!=null&&Ci(e,!!n.multiple,t,!1)}};qy=sd;Wy=Hr;var OS={usingClientEntryPoint:!1,Events:[Lo,mi,Hl,zy,Hy,sd]},_s={findFiberByHostInstance:Pr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},LS={bundleType:_s.bundleType,version:_s.version,rendererPackageName:_s.rendererPackageName,rendererConfig:_s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Gy(e),e===null?null:e.stateNode},findFiberByHostInstance:_s.findFiberByHostInstance||DS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_a.isDisabled&&_a.supportsFiber)try{Ul=_a.inject(LS),gn=_a}catch{}}Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OS;Ft.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fd(t))throw Error(P(200));return NS(e,t,null,n)};Ft.createRoot=function(e,t){if(!fd(e))throw Error(P(299));var n=!1,r="",i=x_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ud(e,1,!1,null,null,n,!1,r,i),e[Dn]=t.current,io(e.nodeType===8?e.parentNode:e),new hd(t)};Ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=Gy(t),e=e===null?null:e.stateNode,e};Ft.flushSync=function(e){return Hr(e)};Ft.hydrate=function(e,t,n){if(!Zl(t))throw Error(P(200));return eu(null,e,t,!0,n)};Ft.hydrateRoot=function(e,t,n){if(!fd(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=x_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=R_(t,null,e,1,n??null,i,!1,s,o),e[Dn]=t.current,io(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jl(t)};Ft.render=function(e,t,n){if(!Zl(t))throw Error(P(200));return eu(null,e,t,!1,n)};Ft.unmountComponentAtNode=function(e){if(!Zl(e))throw Error(P(40));return e._reactRootContainer?(Hr(function(){eu(null,null,e,!1,function(){e._reactRootContainer=null,e[Dn]=null})}),!0):!1};Ft.unstable_batchedUpdates=sd;Ft.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zl(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return eu(e,t,n,!1,r)};Ft.version="18.2.0-next-9e3b772b8-20220608";function P_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P_)}catch(e){console.error(e)}}P_(),Ry.exports=Ft;var k_=Ry.exports;const Ti=$l(k_);var Om=k_;Fc.createRoot=Om.createRoot,Fc.hydrateRoot=Om.hydrateRoot;/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function po(){return po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},po.apply(this,arguments)}var Qn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qn||(Qn={}));const Lm="popstate";function MS(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return kh("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ml(i)}return $S(t,n,null,e)}function $e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function FS(){return Math.random().toString(36).substr(2,8)}function Mm(e,t){return{usr:e.state,key:e.key,idx:t}}function kh(e,t,n,r){return n===void 0&&(n=null),po({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?es(t):t,{state:n,key:t&&t.key||r||FS()})}function ml(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function es(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function $S(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Qn.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(po({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Qn.Pop;let I=c(),m=I==null?null:I-u;u=I,l&&l({action:a,location:w.location,delta:m})}function f(I,m){a=Qn.Push;let d=kh(w.location,I,m);n&&n(d,I),u=c()+1;let p=Mm(d,u),T=w.createHref(d);try{o.pushState(p,"",T)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(T)}s&&l&&l({action:a,location:w.location,delta:1})}function g(I,m){a=Qn.Replace;let d=kh(w.location,I,m);n&&n(d,I),u=c();let p=Mm(d,u),T=w.createHref(d);o.replaceState(p,"",T),s&&l&&l({action:a,location:w.location,delta:0})}function _(I){let m=i.location.origin!=="null"?i.location.origin:i.location.href,d=typeof I=="string"?I:ml(I);return $e(m,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,m)}let w={get action(){return a},get location(){return e(i,o)},listen(I){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Lm,h),l=I,()=>{i.removeEventListener(Lm,h),l=null}},createHref(I){return t(i,I)},createURL:_,encodeLocation(I){let m=_(I);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:g,go(I){return o.go(I)}};return w}var Fm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Fm||(Fm={}));function jS(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?es(t):t,i=pd(r.pathname||"/",n);if(i==null)return null;let s=N_(e);US(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=GS(s[a],JS(i));return o}function N_(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&($e(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=or([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&($e(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),N_(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:KS(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of D_(s.path))i(s,o,l)}),t}function D_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=D_(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function US(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:QS(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const BS=/^:\w+$/,bS=3,zS=2,HS=1,qS=10,WS=-2,$m=e=>e==="*";function KS(e,t){let n=e.split("/"),r=n.length;return n.some($m)&&(r+=WS),t&&(r+=zS),n.filter(i=>!$m(i)).reduce((i,s)=>i+(BS.test(s)?bS:s===""?HS:qS),r)}function QS(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function GS(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=YS({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:or([i,c.pathname]),pathnameBase:nI(or([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=or([i,c.pathnameBase]))}return s}function YS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=XS(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:f,isOptional:g}=c;if(f==="*"){let w=a[h]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const _=a[h];return g&&!_?u[f]=void 0:u[f]=ZS(_||"",f),u},{}),pathname:s,pathnameBase:o,pattern:e}}function XS(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),dd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function JS(e){try{return decodeURI(e)}catch(t){return dd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ZS(e,t){try{return decodeURIComponent(e)}catch(n){return dd(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function pd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function eI(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?es(e):e;return{pathname:n?n.startsWith("/")?n:tI(n,t):t,search:rI(r),hash:iI(i)}}function tI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function lc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function V_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function O_(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=es(e):(i=po({},e),$e(!i.pathname||!i.pathname.includes("?"),lc("?","pathname","search",i)),$e(!i.pathname||!i.pathname.includes("#"),lc("#","pathname","hash",i)),$e(!i.search||!i.search.includes("#"),lc("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else if(r){let h=t[t.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h.pop();i.pathname=f.join("/")}a="/"+h.join("/")}else{let h=t.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=eI(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const or=e=>e.join("/").replace(/\/\/+/g,"/"),nI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),rI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function sI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const L_=["post","put","patch","delete"];new Set(L_);const oI=["get",...L_];new Set(oI);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gl(){return gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gl.apply(this,arguments)}const md=v.createContext(null),aI=v.createContext(null),ts=v.createContext(null),tu=v.createContext(null),Er=v.createContext({outlet:null,matches:[],isDataRoute:!1}),M_=v.createContext(null);function lI(e,t){let{relative:n}=t===void 0?{}:t;Fo()||$e(!1);let{basename:r,navigator:i}=v.useContext(ts),{hash:s,pathname:o,search:a}=j_(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:or([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Fo(){return v.useContext(tu)!=null}function nu(){return Fo()||$e(!1),v.useContext(tu).location}function F_(e){v.useContext(ts).static||v.useLayoutEffect(e)}function uI(){let{isDataRoute:e}=v.useContext(Er);return e?TI():cI()}function cI(){Fo()||$e(!1);let e=v.useContext(md),{basename:t,navigator:n}=v.useContext(ts),{matches:r}=v.useContext(Er),{pathname:i}=nu(),s=JSON.stringify(V_(r).map(l=>l.pathnameBase)),o=v.useRef(!1);return F_(()=>{o.current=!0}),v.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=O_(l,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:or([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,s,i,e])}function $_(){let{matches:e}=v.useContext(Er),t=e[e.length-1];return t?t.params:{}}function j_(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=v.useContext(Er),{pathname:i}=nu(),s=JSON.stringify(V_(r).map(o=>o.pathnameBase));return v.useMemo(()=>O_(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function hI(e,t){return fI(e,t)}function fI(e,t,n){Fo()||$e(!1);let{navigator:r}=v.useContext(ts),{matches:i}=v.useContext(Er),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=nu(),u;if(t){var c;let w=typeof t=="string"?es(t):t;a==="/"||(c=w.pathname)!=null&&c.startsWith(a)||$e(!1),u=w}else u=l;let h=u.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",g=jS(e,{pathname:f}),_=yI(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:or([a,r.encodeLocation?r.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:or([a,r.encodeLocation?r.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n);return t&&_?v.createElement(tu.Provider,{value:{location:gl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Qn.Pop}},_):_}function dI(){let e=wI(),t=sI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:i},n):null,s)}const pI=v.createElement(dI,null);class mI extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?v.createElement(Er.Provider,{value:this.props.routeContext},v.createElement(M_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gI(e){let{routeContext:t,match:n,children:r}=e,i=v.useContext(md);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Er.Provider,{value:t},r)}function yI(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let s=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||$e(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||pI);let f=t.concat(s.slice(0,u+1)),g=()=>{let _;return c?_=h:l.route.Component?_=v.createElement(l.route.Component,null):l.route.element?_=l.route.element:_=a,v.createElement(gI,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:_})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?v.createElement(mI,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var U_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(U_||{}),yl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(yl||{});function vI(e){let t=v.useContext(md);return t||$e(!1),t}function _I(e){let t=v.useContext(aI);return t||$e(!1),t}function EI(e){let t=v.useContext(Er);return t||$e(!1),t}function B_(e){let t=EI(),n=t.matches[t.matches.length-1];return n.route.id||$e(!1),n.route.id}function wI(){var e;let t=v.useContext(M_),n=_I(yl.UseRouteError),r=B_(yl.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function TI(){let{router:e}=vI(U_.UseNavigateStable),t=B_(yl.UseNavigateStable),n=v.useRef(!1);return F_(()=>{n.current=!0}),v.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,gl({fromRouteId:t},s)))},[e,t])}function Ar(e){$e(!1)}function SI(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Qn.Pop,navigator:s,static:o=!1}=e;Fo()&&$e(!1);let a=t.replace(/^\/*/,"/"),l=v.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=es(r));let{pathname:u="/",search:c="",hash:h="",state:f=null,key:g="default"}=r,_=v.useMemo(()=>{let w=pd(u,a);return w==null?null:{location:{pathname:w,search:c,hash:h,state:f,key:g},navigationType:i}},[a,u,c,h,f,g,i]);return _==null?null:v.createElement(ts.Provider,{value:l},v.createElement(tu.Provider,{children:n,value:_}))}function II(e){let{children:t,location:n}=e;return hI(Nh(t),n)}new Promise(()=>{});function Nh(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,i)=>{if(!v.isValidElement(r))return;let s=[...t,i];if(r.type===v.Fragment){n.push.apply(n,Nh(r.props.children,s));return}r.type!==Ar&&$e(!1),!r.props.index||!r.props.children||$e(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Nh(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dh(){return Dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dh.apply(this,arguments)}function CI(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function AI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function RI(e,t){return e.button===0&&(!t||t==="_self")&&!AI(e)}const xI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],PI="startTransition",jm=Aw[PI];function kI(e){let{basename:t,children:n,future:r,window:i}=e,s=v.useRef();s.current==null&&(s.current=MS({window:i,v5Compat:!0}));let o=s.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=v.useCallback(h=>{u&&jm?jm(()=>l(h)):l(h)},[l,u]);return v.useLayoutEffect(()=>o.listen(c),[o,c]),v.createElement(SI,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o})}const NI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xt=v.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:h}=t,f=CI(t,xI),{basename:g}=v.useContext(ts),_,w=!1;if(typeof u=="string"&&DI.test(u)&&(_=u,NI))try{let p=new URL(window.location.href),T=u.startsWith("//")?new URL(p.protocol+u):new URL(u),A=pd(T.pathname,g);T.origin===p.origin&&A!=null?u=A+T.search+T.hash:w=!0}catch{}let I=lI(u,{relative:i}),m=VI(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:h});function d(p){r&&r(p),p.defaultPrevented||m(p)}return v.createElement("a",Dh({},f,{href:_||I,onClick:w||s?r:d,ref:n,target:l}))});var Um;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Um||(Um={}));var Bm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Bm||(Bm={}));function VI(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=t===void 0?{}:t,l=uI(),u=nu(),c=j_(e,{relative:o});return v.useCallback(h=>{if(RI(h,n)){h.preventDefault();let f=r!==void 0?r:ml(u)===ml(c);l(e,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,e,s,o,a])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},OI=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},z_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(f=64)),r.push(n[c],n[h],n[f],n[g])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(b_(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):OI(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new LI;const f=s<<2|a>>4;if(r.push(f),u!==64){const g=a<<4&240|u>>2;if(r.push(g),h!==64){const _=u<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class LI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MI=function(e){const t=b_(e);return z_.encodeByteArray(t,!0)},vl=function(e){return MI(e).replace(/\./g,"")},FI=function(e){try{return z_.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=()=>$I().__FIREBASE_DEFAULTS__,UI=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},BI=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&FI(e[1]);return t&&JSON.parse(t)},H_=()=>{try{return jI()||UI()||BI()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},bI=e=>{var t,n;return(n=(t=H_())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},zI=e=>{const t=bI(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},q_=()=>{var e;return(e=H_())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[vl(JSON.stringify(n)),vl(JSON.stringify(o)),a].join(".")}function WI(){try{return typeof indexedDB=="object"}catch{return!1}}function KI(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI="FirebaseError";class ns extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=QI,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,W_.prototype.create)}}class W_{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?GI(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ns(i,a,r)}}function GI(e,t){return e.replace(YI,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const YI=/\{\$([^}]+)}/g;function Vh(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(bm(s)&&bm(o)){if(!Vh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function bm(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(e){return e&&e._delegate?e._delegate:e}class go{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new HI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ZI(t))try{this.getOrInitializeService({instanceIdentifier:Rr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Rr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Rr){return this.instances.has(t)}getOptions(t=Rr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JI(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Rr){return this.component?this.component.multipleInstances?t:Rr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JI(e){return e===Rr?void 0:e}function ZI(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new XI(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ne||(ne={}));const tC={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},nC=ne.INFO,rC={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},iC=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=rC[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class K_{constructor(t){this.name=t,this._logLevel=nC,this._logHandler=iC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ne))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?tC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...t),this._logHandler(this,ne.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...t),this._logHandler(this,ne.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...t),this._logHandler(this,ne.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...t),this._logHandler(this,ne.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...t),this._logHandler(this,ne.ERROR,...t)}}const sC=(e,t)=>t.some(n=>e instanceof n);let zm,Hm;function oC(){return zm||(zm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aC(){return Hm||(Hm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q_=new WeakMap,Oh=new WeakMap,G_=new WeakMap,uc=new WeakMap,gd=new WeakMap;function lC(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(ar(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Q_.set(n,e)}).catch(()=>{}),gd.set(t,e),t}function uC(e){if(Oh.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Oh.set(e,t)}let Lh={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Oh.get(e);if(t==="objectStoreNames")return e.objectStoreNames||G_.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ar(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function cC(e){Lh=e(Lh)}function hC(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(cc(this),t,...n);return G_.set(r,t.sort?t.sort():[t]),ar(r)}:aC().includes(e)?function(...t){return e.apply(cc(this),t),ar(Q_.get(this))}:function(...t){return ar(e.apply(cc(this),t))}}function fC(e){return typeof e=="function"?hC(e):(e instanceof IDBTransaction&&uC(e),sC(e,oC())?new Proxy(e,Lh):e)}function ar(e){if(e instanceof IDBRequest)return lC(e);if(uc.has(e))return uc.get(e);const t=fC(e);return t!==e&&(uc.set(e,t),gd.set(t,e)),t}const cc=e=>gd.get(e);function dC(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=ar(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ar(o.result),l.oldVersion,l.newVersion,ar(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const pC=["get","getKey","getAll","getAllKeys","count"],mC=["put","add","delete","clear"],hc=new Map;function qm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(hc.get(t))return hc.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=mC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pC.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return hc.set(t,s),s}cC(e=>({...e,get:(t,n,r)=>qm(t,n)||e.get(t,n,r),has:(t,n)=>!!qm(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yC(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Mh="@firebase/app",Wm="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=new K_("@firebase/app"),vC="@firebase/app-compat",_C="@firebase/analytics-compat",EC="@firebase/analytics",wC="@firebase/app-check-compat",TC="@firebase/app-check",SC="@firebase/auth",IC="@firebase/auth-compat",CC="@firebase/database",AC="@firebase/database-compat",RC="@firebase/functions",xC="@firebase/functions-compat",PC="@firebase/installations",kC="@firebase/installations-compat",NC="@firebase/messaging",DC="@firebase/messaging-compat",VC="@firebase/performance",OC="@firebase/performance-compat",LC="@firebase/remote-config",MC="@firebase/remote-config-compat",FC="@firebase/storage",$C="@firebase/storage-compat",jC="@firebase/firestore",UC="@firebase/firestore-compat",BC="firebase",bC="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh="[DEFAULT]",zC={[Mh]:"fire-core",[vC]:"fire-core-compat",[EC]:"fire-analytics",[_C]:"fire-analytics-compat",[TC]:"fire-app-check",[wC]:"fire-app-check-compat",[SC]:"fire-auth",[IC]:"fire-auth-compat",[CC]:"fire-rtdb",[AC]:"fire-rtdb-compat",[RC]:"fire-fn",[xC]:"fire-fn-compat",[PC]:"fire-iid",[kC]:"fire-iid-compat",[NC]:"fire-fcm",[DC]:"fire-fcm-compat",[VC]:"fire-perf",[OC]:"fire-perf-compat",[LC]:"fire-rc",[MC]:"fire-rc-compat",[FC]:"fire-gcs",[$C]:"fire-gcs-compat",[jC]:"fire-fst",[UC]:"fire-fst-compat","fire-js":"fire-js",[BC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=new Map,$h=new Map;function HC(e,t){try{e.container.addComponent(t)}catch(n){qr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function El(e){const t=e.name;if($h.has(t))return qr.debug(`There were multiple attempts to register component ${t}.`),!1;$h.set(t,e);for(const n of _l.values())HC(n,e);return!0}function qC(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},lr=new W_("app","Firebase",WC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=bC;function Y_(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Fh,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw lr.create("bad-app-name",{appName:String(i)});if(n||(n=q_()),!n)throw lr.create("no-options");const s=_l.get(i);if(s){if(Vh(n,s.options)&&Vh(r,s.config))return s;throw lr.create("duplicate-app",{appName:i})}const o=new eC(i);for(const l of $h.values())o.addComponent(l);const a=new KC(n,r,o);return _l.set(i,a),a}function GC(e=Fh){const t=_l.get(e);if(!t&&e===Fh&&q_())return Y_();if(!t)throw lr.create("no-app",{appName:e});return t}function Ni(e,t,n){var r;let i=(r=zC[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qr.warn(a.join(" "));return}El(new go(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="firebase-heartbeat-database",XC=1,yo="firebase-heartbeat-store";let fc=null;function X_(){return fc||(fc=dC(YC,XC,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(yo)}}}).catch(e=>{throw lr.create("idb-open",{originalErrorMessage:e.message})})),fc}async function JC(e){try{return await(await X_()).transaction(yo).objectStore(yo).get(J_(e))}catch(t){if(t instanceof ns)qr.warn(t.message);else{const n=lr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});qr.warn(n.message)}}}async function Km(e,t){try{const r=(await X_()).transaction(yo,"readwrite");await r.objectStore(yo).put(t,J_(e)),await r.done}catch(n){if(n instanceof ns)qr.warn(n.message);else{const r=lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qr.warn(r.message)}}}function J_(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=1024,eA=30*24*60*60*1e3;class tA{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Qm();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=eA}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Qm(),{heartbeatsToSend:r,unsentEntries:i}=nA(this._heartbeatsCache.heartbeats),s=vl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Qm(){return new Date().toISOString().substring(0,10)}function nA(e,t=ZC){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Gm(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Gm(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class rA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WI()?KI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Km(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Km(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Gm(e){return vl(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(e){El(new go("platform-logger",t=>new gC(t),"PRIVATE")),El(new go("heartbeat",t=>new tA(t),"PRIVATE")),Ni(Mh,Wm,e),Ni(Mh,Wm,"esm2017"),Ni("fire-js","")}iA("");var sA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L,yd=yd||{},Q=sA||self;function ru(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function $o(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function oA(e){return Object.prototype.hasOwnProperty.call(e,dc)&&e[dc]||(e[dc]=++aA)}var dc="closure_uid_"+(1e9*Math.random()>>>0),aA=0;function lA(e,t,n){return e.call.apply(e.bind,arguments)}function uA(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function pt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?pt=lA:pt=uA,pt.apply(null,arguments)}function Ea(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Ye(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function wr(){this.s=this.s,this.o=this.o}var cA=0;wr.prototype.s=!1;wr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),cA!=0)&&oA(this)};wr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Z_=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function vd(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ym(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ru(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function mt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}mt.prototype.h=function(){this.defaultPrevented=!0};var hA=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};Q.addEventListener("test",n,t),Q.removeEventListener("test",n,t)}catch{}return e}();function vo(e){return/^[\s\xa0]*$/.test(e)}function iu(){var e=Q.navigator;return e&&(e=e.userAgent)?e:""}function hn(e){return iu().indexOf(e)!=-1}function _d(e){return _d[" "](e),e}_d[" "]=function(){};function fA(e,t){var n=iR;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var dA=hn("Opera"),zi=hn("Trident")||hn("MSIE"),e0=hn("Edge"),jh=e0||zi,t0=hn("Gecko")&&!(iu().toLowerCase().indexOf("webkit")!=-1&&!hn("Edge"))&&!(hn("Trident")||hn("MSIE"))&&!hn("Edge"),pA=iu().toLowerCase().indexOf("webkit")!=-1&&!hn("Edge");function n0(){var e=Q.document;return e?e.documentMode:void 0}var Uh;e:{var pc="",mc=function(){var e=iu();if(t0)return/rv:([^\);]+)(\)|;)/.exec(e);if(e0)return/Edge\/([\d\.]+)/.exec(e);if(zi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(pA)return/WebKit\/(\S+)/.exec(e);if(dA)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(mc&&(pc=mc?mc[1]:""),zi){var gc=n0();if(gc!=null&&gc>parseFloat(pc)){Uh=String(gc);break e}}Uh=pc}var Bh;if(Q.document&&zi){var Xm=n0();Bh=Xm||parseInt(Uh,10)||void 0}else Bh=void 0;var mA=Bh;function _o(e,t){if(mt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(t0){e:{try{_d(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:gA[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&_o.$.h.call(this)}}Ye(_o,mt);var gA={2:"touch",3:"pen",4:"mouse"};_o.prototype.h=function(){_o.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var jo="closure_listenable_"+(1e6*Math.random()|0),yA=0;function vA(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++yA,this.fa=this.ia=!1}function su(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ed(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function _A(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function r0(e){const t={};for(const n in e)t[n]=e[n];return t}const Jm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function i0(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<Jm.length;s++)n=Jm[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ou(e){this.src=e,this.g={},this.h=0}ou.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=zh(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new vA(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function bh(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=Z_(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(su(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function zh(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var wd="closure_lm_"+(1e6*Math.random()|0),yc={};function s0(e,t,n,r,i){if(r&&r.once)return a0(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)s0(e,t[s],n,r,i);return null}return n=Id(n),e&&e[jo]?e.O(t,n,$o(r)?!!r.capture:!!r,i):o0(e,t,n,!1,r,i)}function o0(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=$o(i)?!!i.capture:!!i,a=Sd(e);if(a||(e[wd]=a=new ou(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=EA(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)hA||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(u0(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function EA(){function e(n){return t.call(e.src,e.listener,n)}const t=wA;return e}function a0(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)a0(e,t[s],n,r,i);return null}return n=Id(n),e&&e[jo]?e.P(t,n,$o(r)?!!r.capture:!!r,i):o0(e,t,n,!0,r,i)}function l0(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)l0(e,t[s],n,r,i);else r=$o(r)?!!r.capture:!!r,n=Id(n),e&&e[jo]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=zh(s,n,r,i),-1<n&&(su(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Sd(e))&&(t=e.g[t.toString()],e=-1,t&&(e=zh(t,n,r,i)),(n=-1<e?t[e]:null)&&Td(n))}function Td(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[jo])bh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(u0(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Sd(t))?(bh(n,e),n.h==0&&(n.src=null,t[wd]=null)):su(e)}}}function u0(e){return e in yc?yc[e]:yc[e]="on"+e}function wA(e,t){if(e.fa)e=!0;else{t=new _o(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Td(e),e=n.call(r,t)}return e}function Sd(e){return e=e[wd],e instanceof ou?e:null}var vc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Id(e){return typeof e=="function"?e:(e[vc]||(e[vc]=function(t){return e.handleEvent(t)}),e[vc])}function Qe(){wr.call(this),this.i=new ou(this),this.S=this,this.J=null}Ye(Qe,wr);Qe.prototype[jo]=!0;Qe.prototype.removeEventListener=function(e,t,n,r){l0(this,e,t,n,r)};function nt(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new mt(t,e);else if(t instanceof mt)t.target=t.target||e;else{var i=t;t=new mt(r,e),i0(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=wa(o,r,!0,t)&&i}if(o=t.g=e,i=wa(o,r,!0,t)&&i,i=wa(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=wa(o,r,!1,t)&&i}Qe.prototype.N=function(){if(Qe.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)su(n[r]);delete e.g[t],e.h--}}this.J=null};Qe.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Qe.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function wa(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&bh(e.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Cd=Q.JSON.stringify;class TA{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function SA(){var e=Ad;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class IA{constructor(){this.h=this.g=null}add(t,n){const r=c0.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var c0=new TA(()=>new CA,e=>e.reset());class CA{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function AA(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function RA(e){Q.setTimeout(()=>{throw e},0)}let Eo,wo=!1,Ad=new IA,h0=()=>{const e=Q.Promise.resolve(void 0);Eo=()=>{e.then(xA)}};var xA=()=>{for(var e;e=SA();){try{e.h.call(e.g)}catch(n){RA(n)}var t=c0;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}wo=!1};function au(e,t){Qe.call(this),this.h=e||1,this.g=t||Q,this.j=pt(this.qb,this),this.l=Date.now()}Ye(au,Qe);L=au.prototype;L.ga=!1;L.T=null;L.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),nt(this,"tick"),this.ga&&(Rd(this),this.start()))}};L.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Rd(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}L.N=function(){au.$.N.call(this),Rd(this),delete this.g};function xd(e,t,n){if(typeof e=="function")n&&(e=pt(e,n));else if(e&&typeof e.handleEvent=="function")e=pt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Q.setTimeout(e,t||0)}function f0(e){e.g=xd(()=>{e.g=null,e.i&&(e.i=!1,f0(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class PA extends wr{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:f0(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function To(e){wr.call(this),this.h=e,this.g={}}Ye(To,wr);var Zm=[];function d0(e,t,n,r){Array.isArray(n)||(n&&(Zm[0]=n.toString()),n=Zm);for(var i=0;i<n.length;i++){var s=s0(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function p0(e){Ed(e.g,function(t,n){this.g.hasOwnProperty(n)&&Td(t)},e),e.g={}}To.prototype.N=function(){To.$.N.call(this),p0(this)};To.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function lu(){this.g=!0}lu.prototype.Ea=function(){this.g=!1};function kA(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function NA(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function Si(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+VA(e,n)+(r?" "+r:"")})}function DA(e,t){e.info(function(){return"TIMEOUT: "+t})}lu.prototype.info=function(){};function VA(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Cd(n)}catch{return t}}var Xr={},eg=null;function uu(){return eg=eg||new Qe}Xr.Ta="serverreachability";function m0(e){mt.call(this,Xr.Ta,e)}Ye(m0,mt);function So(e){const t=uu();nt(t,new m0(t))}Xr.STAT_EVENT="statevent";function g0(e,t){mt.call(this,Xr.STAT_EVENT,e),this.stat=t}Ye(g0,mt);function Et(e){const t=uu();nt(t,new g0(t,e))}Xr.Ua="timingevent";function y0(e,t){mt.call(this,Xr.Ua,e),this.size=t}Ye(y0,mt);function Uo(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){e()},t)}var cu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},v0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Pd(){}Pd.prototype.h=null;function tg(e){return e.h||(e.h=e.i())}function _0(){}var Bo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function kd(){mt.call(this,"d")}Ye(kd,mt);function Nd(){mt.call(this,"c")}Ye(Nd,mt);var Hh;function hu(){}Ye(hu,Pd);hu.prototype.g=function(){return new XMLHttpRequest};hu.prototype.i=function(){return{}};Hh=new hu;function bo(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new To(this),this.P=OA,e=jh?125:void 0,this.V=new au(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new E0}function E0(){this.i=null,this.g="",this.h=!1}var OA=45e3,w0={},qh={};L=bo.prototype;L.setTimeout=function(e){this.P=e};function Wh(e,t,n){e.L=1,e.A=du(Ln(t)),e.u=n,e.S=!0,T0(e,null)}function T0(e,t){e.G=Date.now(),zo(e),e.B=Ln(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),k0(n.i,"t",r),e.o=0,n=e.l.J,e.h=new E0,e.g=X0(e.l,n?t:null,!e.u),0<e.O&&(e.M=new PA(pt(e.Pa,e,e.g),e.O)),d0(e.U,e.g,"readystatechange",e.nb),t=e.I?r0(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),So(),kA(e.j,e.v,e.B,e.m,e.W,e.u)}L.nb=function(e){e=e.target;const t=this.M;t&&dn(e)==3?t.l():this.Pa(e)};L.Pa=function(e){try{if(e==this.g)e:{const c=dn(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||jh||this.g&&(this.h.h||this.g.ja()||sg(this.g)))){this.J||c!=4||t==7||(t==8||0>=h?So(3):So(2)),fu(this);var n=this.g.da();this.ca=n;t:if(S0(this)){var r=sg(this.g);e="";var i=r.length,s=dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dr(this),Hs(this);var o="";break t}this.h.i=new Q.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,NA(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vo(a)){var u=a;break t}}u=null}if(n=u)Si(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kh(this,n);else{this.i=!1,this.s=3,Et(12),Dr(this),Hs(this);break e}}this.S?(I0(this,c,o),jh&&this.i&&c==3&&(d0(this.U,this.V,"tick",this.mb),this.V.start())):(Si(this.j,this.m,o,null),Kh(this,o)),c==4&&Dr(this),this.i&&!this.J&&(c==4?K0(this.l,this):(this.i=!1,zo(this)))}else tR(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),Dr(this),Hs(this)}}}catch{}finally{}};function S0(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function I0(e,t,n){let r=!0,i;for(;!e.J&&e.o<n.length;)if(i=LA(e,n),i==qh){t==4&&(e.s=4,Et(14),r=!1),Si(e.j,e.m,null,"[Incomplete Response]");break}else if(i==w0){e.s=4,Et(15),Si(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Si(e.j,e.m,i,null),Kh(e,i);S0(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,Et(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fd(t),t.M=!0,Et(11))):(Si(e.j,e.m,n,"[Invalid Chunked Response]"),Dr(e),Hs(e))}L.mb=function(){if(this.g){var e=dn(this.g),t=this.g.ja();this.o<t.length&&(fu(this),I0(this,e,t),this.i&&e!=4&&zo(this))}};function LA(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?qh:(n=Number(t.substring(n,r)),isNaN(n)?w0:(r+=1,r+n>t.length?qh:(t=t.slice(r,r+n),e.o=r+n,t)))}L.cancel=function(){this.J=!0,Dr(this)};function zo(e){e.Y=Date.now()+e.P,C0(e,e.P)}function C0(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=Uo(pt(e.lb,e),t)}function fu(e){e.C&&(Q.clearTimeout(e.C),e.C=null)}L.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(DA(this.j,this.B),this.L!=2&&(So(),Et(17)),Dr(this),this.s=2,Hs(this)):C0(this,this.Y-e)};function Hs(e){e.l.H==0||e.J||K0(e.l,e)}function Dr(e){fu(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Rd(e.V),p0(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Kh(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Qh(n.i,e))){if(!e.K&&Qh(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Sl(n),yu(n);else break e;Md(n),Et(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Uo(pt(n.ib,n),6e3));if(1>=V0(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Vr(n,11)}else if((e.K||n.g==e)&&Sl(n),!vo(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=e.g;if(g){const _=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var s=r.i;s.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Dd(s,s.h),s.h=null))}if(r.F){const w=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,me(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=Y0(r,r.J?r.pa:null,r.Y),o.K){O0(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(fu(a),zo(a)),r.g=o}else q0(r);0<n.j.length&&vu(n)}else u[0]!="stop"&&u[0]!="close"||Vr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Vr(n,7):Ld(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}So(4)}catch{}}function MA(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(ru(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function FA(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(ru(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function A0(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(ru(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=FA(e),r=MA(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var R0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $A(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function $r(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof $r){this.h=e.h,wl(this,e.j),this.s=e.s,this.g=e.g,Tl(this,e.m),this.l=e.l;var t=e.i,n=new Io;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ng(this,n),this.o=e.o}else e&&(t=String(e).match(R0))?(this.h=!1,wl(this,t[1]||"",!0),this.s=Ps(t[2]||""),this.g=Ps(t[3]||"",!0),Tl(this,t[4]),this.l=Ps(t[5]||"",!0),ng(this,t[6]||"",!0),this.o=Ps(t[7]||"")):(this.h=!1,this.i=new Io(null,this.h))}$r.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ks(t,rg,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(ks(t,rg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(ks(n,n.charAt(0)=="/"?BA:UA,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ks(n,zA)),e.join("")};function Ln(e){return new $r(e)}function wl(e,t,n){e.j=n?Ps(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Tl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ng(e,t,n){t instanceof Io?(e.i=t,HA(e.i,e.h)):(n||(t=ks(t,bA)),e.i=new Io(t,e.h))}function me(e,t,n){e.i.set(t,n)}function du(e){return me(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ps(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ks(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,jA),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function jA(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var rg=/[#\/\?@]/g,UA=/[#\?:]/g,BA=/[#\?]/g,bA=/[#\?@]/g,zA=/#/g;function Io(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Tr(e){e.g||(e.g=new Map,e.h=0,e.i&&$A(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}L=Io.prototype;L.add=function(e,t){Tr(this),this.i=null,e=rs(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function x0(e,t){Tr(e),t=rs(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function P0(e,t){return Tr(e),t=rs(e,t),e.g.has(t)}L.forEach=function(e,t){Tr(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};L.ta=function(){Tr(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};L.Z=function(e){Tr(this);let t=[];if(typeof e=="string")P0(this,e)&&(t=t.concat(this.g.get(rs(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};L.set=function(e,t){return Tr(this),this.i=null,e=rs(this,e),P0(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};L.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function k0(e,t,n){x0(e,t),0<n.length&&(e.i=null,e.g.set(rs(e,t),vd(n)),e.h+=n.length)}L.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function rs(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function HA(e,t){t&&!e.j&&(Tr(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(x0(this,r),k0(this,i,n))},e)),e.j=t}var qA=class{constructor(e,t){this.g=e,this.map=t}};function N0(e){this.l=e||WA,Q.PerformanceNavigationTiming?(e=Q.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var WA=10;function D0(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function V0(e){return e.h?1:e.g?e.g.size:0}function Qh(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Dd(e,t){e.g?e.g.add(t):e.h=t}function O0(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}N0.prototype.cancel=function(){if(this.i=L0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function L0(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return vd(e.i)}var KA=class{stringify(e){return Q.JSON.stringify(e,void 0)}parse(e){return Q.JSON.parse(e,void 0)}};function QA(){this.g=new KA}function GA(e,t,n){const r=n||"";try{A0(e,function(i,s){let o=i;$o(i)&&(o=Cd(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function YA(e,t){const n=new lu;if(Q.Image){const r=new Image;r.onload=Ea(Ta,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ea(Ta,n,r,"TestLoadImage: error",!1,t),r.onabort=Ea(Ta,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ea(Ta,n,r,"TestLoadImage: timeout",!1,t),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Ta(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function pu(e){this.l=e.ec||null,this.j=e.ob||!1}Ye(pu,Pd);pu.prototype.g=function(){return new mu(this.l,this.j)};pu.prototype.i=function(e){return function(){return e}}({});function mu(e,t){Qe.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Vd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ye(mu,Qe);var Vd=0;L=mu.prototype;L.open=function(e,t){if(this.readyState!=Vd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Co(this)};L.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Q).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};L.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ho(this)),this.readyState=Vd};L.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Co(this)),this.g&&(this.readyState=3,Co(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;M0(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function M0(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}L.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ho(this):Co(this),this.readyState==3&&M0(this)}};L.Za=function(e){this.g&&(this.response=this.responseText=e,Ho(this))};L.Ya=function(e){this.g&&(this.response=e,Ho(this))};L.ka=function(){this.g&&Ho(this)};function Ho(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Co(e)}L.setRequestHeader=function(e,t){this.v.append(e,t)};L.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};L.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Co(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(mu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var XA=Q.JSON.parse;function xe(e){Qe.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=F0,this.L=this.M=!1}Ye(xe,Qe);var F0="",JA=/^https?$/i,ZA=["POST","PUT"];L=xe.prototype;L.Oa=function(e){this.M=e};L.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Hh.g(),this.C=this.u?tg(this.u):tg(Hh),this.g.onreadystatechange=pt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){ig(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Q.FormData&&e instanceof Q.FormData,!(0<=Z_(ZA,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{U0(this),0<this.B&&((this.L=eR(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pt(this.ua,this)):this.A=xd(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){ig(this,s)}};function eR(e){return zi&&typeof e.timeout=="number"&&e.ontimeout!==void 0}L.ua=function(){typeof yd<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nt(this,"timeout"),this.abort(8))};function ig(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,$0(e),gu(e)}function $0(e){e.F||(e.F=!0,nt(e,"complete"),nt(e,"error"))}L.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,nt(this,"complete"),nt(this,"abort"),gu(this))};L.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gu(this,!0)),xe.$.N.call(this)};L.La=function(){this.s||(this.G||this.v||this.l?j0(this):this.kb())};L.kb=function(){j0(this)};function j0(e){if(e.h&&typeof yd<"u"&&(!e.C[1]||dn(e)!=4||e.da()!=2)){if(e.v&&dn(e)==4)xd(e.La,0,e);else if(nt(e,"readystatechange"),dn(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(R0)[1]||null;!i&&Q.self&&Q.self.location&&(i=Q.self.location.protocol.slice(0,-1)),r=!JA.test(i?i.toLowerCase():"")}n=r}if(n)nt(e,"complete"),nt(e,"success");else{e.m=6;try{var s=2<dn(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",$0(e)}}finally{gu(e)}}}}function gu(e,t){if(e.g){U0(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||nt(e,"ready");try{n.onreadystatechange=r}catch{}}}function U0(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Q.clearTimeout(e.A),e.A=null)}L.isActive=function(){return!!this.g};function dn(e){return e.g?e.g.readyState:0}L.da=function(){try{return 2<dn(this)?this.g.status:-1}catch{return-1}};L.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};L.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),XA(t)}};function sg(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case F0:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function tR(e){const t={};e=(e.g&&2<=dn(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(vo(e[r]))continue;var n=AA(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}_A(t,function(r){return r.join(", ")})}L.Ia=function(){return this.m};L.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function B0(e){let t="";return Ed(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Od(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=B0(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):me(e,t,n))}function Es(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function b0(e){this.Ga=0,this.j=[],this.l=new lu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Es("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Es("baseRetryDelayMs",5e3,e),this.hb=Es("retryDelaySeedMs",1e4,e),this.eb=Es("forwardChannelMaxRetries",2,e),this.xa=Es("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new N0(e&&e.concurrentRequestLimit),this.Ja=new QA,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}L=b0.prototype;L.ra=8;L.H=1;function Ld(e){if(z0(e),e.H==3){var t=e.W++,n=Ln(e.I);if(me(n,"SID",e.K),me(n,"RID",t),me(n,"TYPE","terminate"),qo(e,n),t=new bo(e,e.l,t),t.L=2,t.A=du(Ln(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon)try{n=Q.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&Q.Image&&(new Image().src=t.A,n=!0),n||(t.g=X0(t.l,null),t.g.ha(t.A)),t.G=Date.now(),zo(t)}G0(e)}function yu(e){e.g&&(Fd(e),e.g.cancel(),e.g=null)}function z0(e){yu(e),e.u&&(Q.clearTimeout(e.u),e.u=null),Sl(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Q.clearTimeout(e.m),e.m=null)}function vu(e){if(!D0(e.i)&&!e.m){e.m=!0;var t=e.Na;Eo||h0(),wo||(Eo(),wo=!0),Ad.add(t,e),e.C=0}}function nR(e,t){return V0(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Uo(pt(e.Na,e,t),Q0(e,e.C)),e.C++,!0)}L.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new bo(this,this.l,e);let s=this.s;if(this.U&&(s?(s=r0(s),i0(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=H0(this,i,t),n=Ln(this.I),me(n,"RID",e),me(n,"CVER",22),this.F&&me(n,"X-HTTP-Session-Id",this.F),qo(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(B0(s)))+"&"+t:this.o&&Od(n,this.o,s)),Dd(this.i,i),this.bb&&me(n,"TYPE","init"),this.P?(me(n,"$req",t),me(n,"SID","null"),i.aa=!0,Wh(i,n,null)):Wh(i,n,t),this.H=2}}else this.H==3&&(e?og(this,e):this.j.length==0||D0(this.i)||og(this))};function og(e,t){var n;t?n=t.m:n=e.W++;const r=Ln(e.I);me(r,"SID",e.K),me(r,"RID",n),me(r,"AID",e.V),qo(e,r),e.o&&e.s&&Od(r,e.o,e.s),n=new bo(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=H0(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Dd(e.i,n),Wh(n,r,t)}function qo(e,t){e.na&&Ed(e.na,function(n,r){me(t,r,n)}),e.h&&A0({},function(n,r){me(t,r,n)})}function H0(e,t,n){n=Math.min(e.j.length,n);var r=e.h?pt(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{GA(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function q0(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Eo||h0(),wo||(Eo(),wo=!0),Ad.add(t,e),e.A=0}}function Md(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Uo(pt(e.Ma,e),Q0(e,e.A)),e.A++,!0)}L.Ma=function(){if(this.u=null,W0(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Uo(pt(this.jb,this),e)}};L.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Et(10),yu(this),W0(this))};function Fd(e){e.B!=null&&(Q.clearTimeout(e.B),e.B=null)}function W0(e){e.g=new bo(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Ln(e.wa);me(t,"RID","rpc"),me(t,"SID",e.K),me(t,"AID",e.V),me(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&me(t,"TO",e.qa),me(t,"TYPE","xmlhttp"),qo(e,t),e.o&&e.s&&Od(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=du(Ln(t)),n.u=null,n.S=!0,T0(n,e)}L.ib=function(){this.v!=null&&(this.v=null,yu(this),Md(this),Et(19))};function Sl(e){e.v!=null&&(Q.clearTimeout(e.v),e.v=null)}function K0(e,t){var n=null;if(e.g==t){Sl(e),Fd(e),e.g=null;var r=2}else if(Qh(e.i,t))n=t.F,O0(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=uu(),nt(r,new y0(r,n)),vu(e)}else q0(e);else if(i=t.s,i==3||i==0&&0<t.ca||!(r==1&&nR(e,t)||r==2&&Md(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Vr(e,5);break;case 4:Vr(e,10);break;case 3:Vr(e,6);break;default:Vr(e,2)}}}function Q0(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Vr(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=pt(e.pb,e);n||(n=new $r("//www.google.com/images/cleardot.gif"),Q.location&&Q.location.protocol=="http"||wl(n,"https"),du(n)),YA(n.toString(),r)}else Et(2);e.H=0,e.h&&e.h.za(t),G0(e),z0(e)}L.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Et(2)):(this.l.info("Failed to ping google.com"),Et(1))};function G0(e){if(e.H=0,e.ma=[],e.h){const t=L0(e.i);(t.length!=0||e.j.length!=0)&&(Ym(e.ma,t),Ym(e.ma,e.j),e.i.i.length=0,vd(e.j),e.j.length=0),e.h.ya()}}function Y0(e,t,n){var r=n instanceof $r?Ln(n):new $r(n);if(r.g!="")t&&(r.g=t+"."+r.g),Tl(r,r.m);else{var i=Q.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new $r(null);r&&wl(s,r),t&&(s.g=t),i&&Tl(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&me(r,n,t),me(r,"VER",e.ra),qo(e,r),r}function X0(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new xe(new pu({ob:n})):new xe(e.va),t.Oa(e.J),t}L.isActive=function(){return!!this.h&&this.h.isActive(this)};function J0(){}L=J0.prototype;L.Ba=function(){};L.Aa=function(){};L.za=function(){};L.ya=function(){};L.isActive=function(){return!0};L.Va=function(){};function Il(){if(zi&&!(10<=Number(mA)))throw Error("Environmental error: no available transport.")}Il.prototype.g=function(e,t){return new Mt(e,t)};function Mt(e,t){Qe.call(this),this.g=new b0(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!vo(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!vo(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new is(this)}Ye(Mt,Qe);Mt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Et(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Y0(e,null,e.Y),vu(e)};Mt.prototype.close=function(){Ld(this.g)};Mt.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Cd(e),e=n);t.j.push(new qA(t.fb++,e)),t.H==3&&vu(t)};Mt.prototype.N=function(){this.g.h=null,delete this.j,Ld(this.g),delete this.g,Mt.$.N.call(this)};function Z0(e){kd.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Ye(Z0,kd);function e1(){Nd.call(this),this.status=1}Ye(e1,Nd);function is(e){this.g=e}Ye(is,J0);is.prototype.Ba=function(){nt(this.g,"a")};is.prototype.Aa=function(e){nt(this.g,new Z0(e))};is.prototype.za=function(e){nt(this.g,new e1)};is.prototype.ya=function(){nt(this.g,"b")};function rR(){this.blockSize=-1}function sn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ye(sn,rR);sn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function _c(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}sn.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)_c(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){_c(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){_c(this,r),i=0;break}}this.h=i,this.i+=t};sn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function ce(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var iR={};function $d(e){return-128<=e&&128>e?fA(e,function(t){return new ce([t|0],0>t?-1:0)}):new ce([e|0],0>e?-1:0)}function pn(e){if(isNaN(e)||!isFinite(e))return Di;if(0>e)return et(pn(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Gh;return new ce(t,0)}function t1(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return et(t1(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=pn(Math.pow(t,8)),r=Di,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=pn(Math.pow(t,s)),r=r.R(s).add(pn(o))):(r=r.R(n),r=r.add(pn(o)))}return r}var Gh=4294967296,Di=$d(0),Yh=$d(1),ag=$d(16777216);L=ce.prototype;L.ea=function(){if(bt(this))return-et(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Gh+r)*t,t*=Gh}return e};L.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(xn(this))return"0";if(bt(this))return"-"+et(this).toString(e);for(var t=pn(Math.pow(e,6)),n=this,r="";;){var i=Al(n,t).g;n=Cl(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,xn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};L.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function xn(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function bt(e){return e.h==-1}L.X=function(e){return e=Cl(this,e),bt(e)?-1:xn(e)?0:1};function et(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new ce(n,~e.h).add(Yh)}L.abs=function(){return bt(this)?et(this):this};L.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ce(n,n[n.length-1]&-2147483648?-1:0)};function Cl(e,t){return e.add(et(t))}L.R=function(e){if(xn(this)||xn(e))return Di;if(bt(this))return bt(e)?et(this).R(et(e)):et(et(this).R(e));if(bt(e))return et(this.R(et(e)));if(0>this.X(ag)&&0>e.X(ag))return pn(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=o*l,Sa(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Sa(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Sa(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Sa(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new ce(n,0)};function Sa(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ws(e,t){this.g=e,this.h=t}function Al(e,t){if(xn(t))throw Error("division by zero");if(xn(e))return new ws(Di,Di);if(bt(e))return t=Al(et(e),t),new ws(et(t.g),et(t.h));if(bt(t))return t=Al(e,et(t)),new ws(et(t.g),t.h);if(30<e.g.length){if(bt(e)||bt(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Yh,r=t;0>=r.X(e);)n=lg(n),r=lg(r);var i=ri(n,1),s=ri(r,1);for(r=ri(r,2),n=ri(n,2);!xn(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=ri(r,1),n=ri(n,1)}return t=Cl(e,i.R(t)),new ws(i,t)}for(i=Di;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=pn(n),o=s.R(t);bt(o)||0<o.X(e);)n-=r,s=pn(n),o=s.R(t);xn(s)&&(s=Yh),i=i.add(s),e=Cl(e,o)}return new ws(i,e)}L.gb=function(e){return Al(this,e).h};L.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new ce(n,this.h&e.h)};L.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new ce(n,this.h|e.h)};L.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new ce(n,this.h^e.h)};function lg(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new ce(n,e.h)}function ri(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new ce(i,e.h)}Il.prototype.createWebChannel=Il.prototype.g;Mt.prototype.send=Mt.prototype.u;Mt.prototype.open=Mt.prototype.m;Mt.prototype.close=Mt.prototype.close;cu.NO_ERROR=0;cu.TIMEOUT=8;cu.HTTP_ERROR=6;v0.COMPLETE="complete";_0.EventType=Bo;Bo.OPEN="a";Bo.CLOSE="b";Bo.ERROR="c";Bo.MESSAGE="d";Qe.prototype.listen=Qe.prototype.O;xe.prototype.listenOnce=xe.prototype.P;xe.prototype.getLastError=xe.prototype.Sa;xe.prototype.getLastErrorCode=xe.prototype.Ia;xe.prototype.getStatus=xe.prototype.da;xe.prototype.getResponseJson=xe.prototype.Wa;xe.prototype.getResponseText=xe.prototype.ja;xe.prototype.send=xe.prototype.ha;xe.prototype.setWithCredentials=xe.prototype.Oa;sn.prototype.digest=sn.prototype.l;sn.prototype.reset=sn.prototype.reset;sn.prototype.update=sn.prototype.j;ce.prototype.add=ce.prototype.add;ce.prototype.multiply=ce.prototype.R;ce.prototype.modulo=ce.prototype.gb;ce.prototype.compare=ce.prototype.X;ce.prototype.toNumber=ce.prototype.ea;ce.prototype.toString=ce.prototype.toString;ce.prototype.getBits=ce.prototype.D;ce.fromNumber=pn;ce.fromString=t1;var sR=function(){return new Il},oR=function(){return uu()},Ec=cu,aR=v0,lR=Xr,ug={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ia=_0,uR=xe,cR=sn,Vi=ce;const cg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ct.UNAUTHENTICATED=new ct(null),ct.GOOGLE_CREDENTIALS=new ct("google-credentials-uid"),ct.FIRST_PARTY=new ct("first-party-uid"),ct.MOCK_USER=new ct("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ss="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new K_("@firebase/firestore");function Ts(){return Wr.logLevel}function B(e,...t){if(Wr.logLevel<=ne.DEBUG){const n=t.map(jd);Wr.debug(`Firestore (${ss}): ${e}`,...n)}}function Mn(e,...t){if(Wr.logLevel<=ne.ERROR){const n=t.map(jd);Wr.error(`Firestore (${ss}): ${e}`,...n)}}function Hi(e,...t){if(Wr.logLevel<=ne.WARN){const n=t.map(jd);Wr.warn(`Firestore (${ss}): ${e}`,...n)}}function jd(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(e="Unexpected state"){const t=`FIRESTORE (${ss}) INTERNAL ASSERTION FAILED: `+e;throw Mn(t),new Error(t)}function je(e,t){e||Y()}function se(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class j extends ns{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class hR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(ct.UNAUTHENTICATED))}shutdown(){}}class fR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dR{constructor(t){this.t=t,this.currentUser=ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ur,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ur)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new n1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return je(t===null||typeof t=="string"),new ct(t)}}class pR{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=ct.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class mR{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new pR(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gR{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yR{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new gR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=vR(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function ae(e,t){return e<t?-1:e>t?1:0}function qi(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new j(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new j(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new j(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ke.fromMillis(Date.now())}static fromDate(t){return Ke.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Ke(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ae(this.nanoseconds,t.nanoseconds):ae(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(t){this.timestamp=t}static fromTimestamp(t){return new G(t)}static min(){return new G(new Ke(0,0))}static max(){return new G(new Ke(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(t,n,r){n===void 0?n=0:n>t.length&&Y(),r===void 0?r=t.length-n:r>t.length-n&&Y(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ao.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ao?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class ge extends Ao{construct(t,n,r){return new ge(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new j(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ge(n)}static emptyPath(){return new ge([])}}const _R=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dt extends Ao{construct(t,n,r){return new dt(t,n,r)}static isValidIdentifier(t){return _R.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new dt(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new j(N.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new j(N.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new j(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new j(N.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new dt(n)}static emptyPath(){return new dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(t){this.path=t}static fromPath(t){return new H(ge.fromString(t))}static fromName(t){return new H(ge.fromString(t).popFirst(5))}static empty(){return new H(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ge.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ge.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new H(new ge(t.slice()))}}function ER(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=G.fromTimestamp(r===1e9?new Ke(n+1,0):new Ke(n,r));return new pr(i,H.empty(),t)}function wR(e){return new pr(e.readTime,e.key,-1)}class pr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new pr(G.min(),H.empty(),-1)}static max(){return new pr(G.max(),H.empty(),-1)}}function TR(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=H.comparator(e.documentKey,t.documentKey),n!==0?n:ae(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ud(e){if(e.code!==N.FAILED_PRECONDITION||e.message!==SR)throw e;B("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new x((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof x?n:x.resolve(n)}catch(n){return x.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):x.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):x.reject(n)}static resolve(t){return new x((n,r)=>{n(t)})}static reject(t){return new x((n,r)=>{r(t)})}static waitFor(t){return new x((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=x.resolve(!1);for(const r of t)n=n.next(i=>i?x.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new x((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new x((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function Wo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}Bd._e=-1;function _u(e){return e==null}function Rl(e){return e===0&&1/e==-1/0}function CR(e){return typeof e=="number"&&Number.isInteger(e)&&!Rl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ko(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function i1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t,n){this.comparator=t,this.root=n||Ze.EMPTY}insert(t,n){return new Ne(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new Ne(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ca(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ca(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ca(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ca(this.root,t,this.comparator,!0)}}class Ca{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Ze.RED,this.left=i??Ze.EMPTY,this.right=s??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Ze(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Ze.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();const t=this.left.check();if(t!==this.right.check())throw Y();return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(t,n,r,i,s){return this}insert(t,n,r){return new Ze(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.comparator=t,this.data=new Ne(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new fg(this.data.getIterator())}getIteratorFrom(t){return new fg(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof rt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new rt(this.comparator);return n.data=t,n}}class fg{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t){this.fields=t,t.sort(dt.comparator)}static empty(){return new Gn([])}unionWith(t){let n=new rt(dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Gn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return qi(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new s1("Invalid base64 string: "+s):s}}(t);return new yt(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new yt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ae(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const AR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(e){if(je(!!e),typeof e=="string"){let t=0;const n=AR.exec(e);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Le(e.seconds),nanos:Le(e.nanos)}}function Le(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Kr(e){return typeof e=="string"?yt.fromBase64String(e):yt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function zd(e){const t=e.mapValue.fields.__previous_value__;return bd(t)?zd(t):t}function Ro(e){const t=mr(e.mapValue.fields.__local_write_time__.timestampValue);return new Ke(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(t,n,r,i,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class xo{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new xo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof xo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?bd(e)?4:xR(e)?9007199254740991:10:Y()}function _n(e,t){if(e===t)return!0;const n=Qr(e);if(n!==Qr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ro(e).isEqual(Ro(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=mr(i.timestampValue),a=mr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return Kr(i.bytesValue).isEqual(Kr(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return Le(i.geoPointValue.latitude)===Le(s.geoPointValue.latitude)&&Le(i.geoPointValue.longitude)===Le(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Le(i.integerValue)===Le(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Le(i.doubleValue),a=Le(s.doubleValue);return o===a?Rl(o)===Rl(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return qi(e.arrayValue.values||[],t.arrayValue.values||[],_n);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(hg(o)!==hg(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!_n(o[l],a[l])))return!1;return!0}(e,t);default:return Y()}}function Po(e,t){return(e.values||[]).find(n=>_n(n,t))!==void 0}function Wi(e,t){if(e===t)return 0;const n=Qr(e),r=Qr(t);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Le(s.integerValue||s.doubleValue),l=Le(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return dg(e.timestampValue,t.timestampValue);case 4:return dg(Ro(e),Ro(t));case 5:return ae(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Kr(s),l=Kr(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ae(a[u],l[u]);if(c!==0)return c}return ae(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=ae(Le(s.latitude),Le(o.latitude));return a!==0?a:ae(Le(s.longitude),Le(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Wi(a[u],l[u]);if(c)return c}return ae(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===Aa.mapValue&&o===Aa.mapValue)return 0;if(s===Aa.mapValue)return 1;if(o===Aa.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=ae(l[h],c[h]);if(f!==0)return f;const g=Wi(a[l[h]],u[c[h]]);if(g!==0)return g}return ae(l.length,c.length)}(e.mapValue,t.mapValue);default:throw Y()}}function dg(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ae(e,t);const n=mr(e),r=mr(t),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function Ki(e){return Xh(e)}function Xh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=mr(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Kr(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return H.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Xh(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Xh(n.fields[o])}`;return i+"}"}(e.mapValue):Y()}function pg(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Jh(e){return!!e&&"integerValue"in e}function Hd(e){return!!e&&"arrayValue"in e}function mg(e){return!!e&&"nullValue"in e}function gg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function wc(e){return!!e&&"mapValue"in e}function qs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ko(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=qs(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=qs(e.arrayValue.values[n]);return t}return Object.assign({},e)}function xR(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!wc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=qs(n)}setAll(t){let n=dt.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=qs(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());wc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return _n(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];wc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Ko(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new fn(qs(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new ft(t,0,G.min(),G.min(),G.min(),fn.empty(),0)}static newFoundDocument(t,n,r,i){return new ft(t,1,n,G.min(),r,i,0)}static newNoDocument(t,n){return new ft(t,2,n,G.min(),G.min(),fn.empty(),0)}static newUnknownDocument(t,n){return new ft(t,3,n,G.min(),G.min(),fn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(G.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=G.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ft&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(t,n){this.position=t,this.inclusive=n}}function yg(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),n.key):r=Wi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function vg(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!_n(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(t,n="asc"){this.field=t,this.dir=n}}function PR(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{}class Fe extends o1{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new NR(t,n,r):n==="array-contains"?new OR(t,r):n==="in"?new LR(t,r):n==="not-in"?new MR(t,r):n==="array-contains-any"?new FR(t,r):new Fe(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new DR(t,r):new VR(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wi(n,this.value)):n!==null&&Qr(this.value)===Qr(n)&&this.matchesComparison(Wi(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class on extends o1{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new on(t,n)}matches(t){return a1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function a1(e){return e.op==="and"}function l1(e){return kR(e)&&a1(e)}function kR(e){for(const t of e.filters)if(t instanceof on)return!1;return!0}function Zh(e){if(e instanceof Fe)return e.field.canonicalString()+e.op.toString()+Ki(e.value);if(l1(e))return e.filters.map(t=>Zh(t)).join(",");{const t=e.filters.map(n=>Zh(n)).join(",");return`${e.op}(${t})`}}function u1(e,t){return e instanceof Fe?function(r,i){return i instanceof Fe&&r.op===i.op&&r.field.isEqual(i.field)&&_n(r.value,i.value)}(e,t):e instanceof on?function(r,i){return i instanceof on&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&u1(o,i.filters[a]),!0):!1}(e,t):void Y()}function c1(e){return e instanceof Fe?function(n){return`${n.field.canonicalString()} ${n.op} ${Ki(n.value)}`}(e):e instanceof on?function(n){return n.op.toString()+" {"+n.getFilters().map(c1).join(" ,")+"}"}(e):"Filter"}class NR extends Fe{constructor(t,n,r){super(t,n,r),this.key=H.fromName(r.referenceValue)}matches(t){const n=H.comparator(t.key,this.key);return this.matchesComparison(n)}}class DR extends Fe{constructor(t,n){super(t,"in",n),this.keys=h1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class VR extends Fe{constructor(t,n){super(t,"not-in",n),this.keys=h1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function h1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}class OR extends Fe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Hd(n)&&Po(n.arrayValue,this.value)}}class LR extends Fe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Po(this.value.arrayValue,n)}}class MR extends Fe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Po(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Po(this.value.arrayValue,n)}}class FR extends Fe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Hd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Po(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function _g(e,t=null,n=[],r=[],i=null,s=null,o=null){return new $R(e,t,n,r,i,s,o)}function qd(e){const t=se(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Zh(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),_u(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Ki(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Ki(r)).join(",")),t.ce=n}return t.ce}function Wd(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!PR(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!u1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!vg(e.startAt,t.startAt)&&vg(e.endAt,t.endAt)}function ef(e){return H.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function jR(e,t,n,r,i,s,o,a){return new Qo(e,t,n,r,i,s,o,a)}function Kd(e){return new Qo(e)}function Eg(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function f1(e){return e.collectionGroup!==null}function Ws(e){const t=se(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new rt(dt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new Pl(s,r))}),n.has(dt.keyField().canonicalString())||t.le.push(new Pl(dt.keyField(),r))}return t.le}function vn(e){const t=se(e);return t.he||(t.he=UR(t,Ws(e))),t.he}function UR(e,t){if(e.limitType==="F")return _g(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Pl(i.field,s)});const n=e.endAt?new xl(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new xl(e.startAt.position,e.startAt.inclusive):null;return _g(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function tf(e,t){const n=e.filters.concat([t]);return new Qo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function nf(e,t,n){return new Qo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Eu(e,t){return Wd(vn(e),vn(t))&&e.limitType===t.limitType}function d1(e){return`${qd(vn(e))}|lt:${e.limitType}`}function ai(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>c1(i)).join(", ")}]`),_u(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ki(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ki(i)).join(",")),`Target(${r})`}(vn(e))}; limitType=${e.limitType})`}function wu(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):H.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of Ws(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=yg(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ws(r),i)||r.endAt&&!function(o,a,l){const u=yg(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ws(r),i))}(e,t)}function BR(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function p1(e){return(t,n)=>{let r=!1;for(const i of Ws(e)){const s=bR(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function bR(e,t,n){const r=e.field.isKeyField()?H.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Wi(l,u):Y()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Ko(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return i1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=new Ne(H.comparator);function gr(){return zR}const m1=new Ne(H.comparator);function Ns(...e){let t=m1;for(const n of e)t=t.insert(n.key,n);return t}function HR(e){let t=m1;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Or(){return Ks()}function g1(){return Ks()}function Ks(){return new os(e=>e.toString(),(e,t)=>e.isEqual(t))}const qR=new rt(H.comparator);function re(...e){let t=qR;for(const n of e)t=t.add(n);return t}const WR=new rt(ae);function KR(){return WR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rl(t)?"-0":t}}function v1(e){return{integerValue:""+e}}function QR(e,t){return CR(t)?v1(t):y1(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(){this._=void 0}}function GR(e,t,n){return e instanceof rf?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&bd(s)&&(s=zd(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof kl?_1(e,t):e instanceof Nl?E1(e,t):function(i,s){const o=XR(i,s),a=wg(o)+wg(i.Ie);return Jh(o)&&Jh(i.Ie)?v1(a):y1(i.serializer,a)}(e,t)}function YR(e,t,n){return e instanceof kl?_1(e,t):e instanceof Nl?E1(e,t):n}function XR(e,t){return e instanceof sf?function(r){return Jh(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class rf extends Tu{}class kl extends Tu{constructor(t){super(),this.elements=t}}function _1(e,t){const n=w1(t);for(const r of e.elements)n.some(i=>_n(i,r))||n.push(r);return{arrayValue:{values:n}}}class Nl extends Tu{constructor(t){super(),this.elements=t}}function E1(e,t){let n=w1(t);for(const r of e.elements)n=n.filter(i=>!_n(i,r));return{arrayValue:{values:n}}}class sf extends Tu{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function wg(e){return Le(e.integerValue||e.doubleValue)}function w1(e){return Hd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function JR(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof kl&&i instanceof kl||r instanceof Nl&&i instanceof Nl?qi(r.elements,i.elements,_n):r instanceof sf&&i instanceof sf?_n(r.Ie,i.Ie):r instanceof rf&&i instanceof rf}(e.transform,t.transform)}class jr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new jr}static exists(t){return new jr(void 0,t)}static updateTime(t){return new jr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ba(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Qd{}function T1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new ex(e.key,jr.none()):new Gd(e.key,e.data,jr.none());{const n=e.data,r=fn.empty();let i=new rt(dt.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Su(e.key,r,new Gn(i.toArray()),jr.none())}}function ZR(e,t,n){e instanceof Gd?function(i,s,o){const a=i.value.clone(),l=Sg(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Su?function(i,s,o){if(!Ba(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Sg(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(S1(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Qs(e,t,n,r){return e instanceof Gd?function(s,o,a,l){if(!Ba(s.precondition,o))return a;const u=s.value.clone(),c=Ig(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Su?function(s,o,a,l){if(!Ba(s.precondition,o))return a;const u=Ig(s.fieldTransforms,l,o),c=o.data;return c.setAll(S1(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(s,o,a){return Ba(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function Tg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qi(r,i,(s,o)=>JR(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Gd extends Qd{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Su extends Qd{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function S1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Sg(e,t,n){const r=new Map;je(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,YR(o,a,n[i]))}return r}function Ig(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,GR(s,o,t))}return r}class ex extends Qd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&ZR(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Qs(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Qs(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=g1();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=T1(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(G.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),re())}isEqual(t){return this.batchId===t.batchId&&qi(this.mutations,t.mutations,(n,r)=>Tg(n,r))&&qi(this.baseMutations,t.baseMutations,(n,r)=>Tg(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe,ee;function I1(e){if(e===void 0)return Mn("GRPC error has no .code"),N.UNKNOWN;switch(e){case Oe.OK:return N.OK;case Oe.CANCELLED:return N.CANCELLED;case Oe.UNKNOWN:return N.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return N.INTERNAL;case Oe.UNAVAILABLE:return N.UNAVAILABLE;case Oe.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Oe.NOT_FOUND:return N.NOT_FOUND;case Oe.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Oe.ABORTED:return N.ABORTED;case Oe.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Oe.DATA_LOSS:return N.DATA_LOSS;default:return Y()}}(ee=Oe||(Oe={}))[ee.OK=0]="OK",ee[ee.CANCELLED=1]="CANCELLED",ee[ee.UNKNOWN=2]="UNKNOWN",ee[ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ee[ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ee[ee.NOT_FOUND=5]="NOT_FOUND",ee[ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",ee[ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",ee[ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",ee[ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ee[ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ee[ee.ABORTED=10]="ABORTED",ee[ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",ee[ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",ee[ee.INTERNAL=13]="INTERNAL",ee[ee.UNAVAILABLE=14]="UNAVAILABLE",ee[ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=new Vi([4294967295,4294967295],0);function Cg(e){const t=ix().encode(e),n=new cR;return n.update(t),new Uint8Array(n.digest())}function Ag(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Vi([n,r],0),new Vi([i,s],0)]}class Yd{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ds(`Invalid padding: ${n}`);if(r<0)throw new Ds(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ds(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Ds(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=Vi.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(Vi.fromNumber(r)));return i.compare(sx)===1&&(i=new Vi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=Cg(t),[r,i]=Ag(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new Yd(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=Cg(t),[r,i]=Ag(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Ds extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Go.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Iu(G.min(),i,new Ne(ae),gr(),re())}}class Go{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Go(r,n,re(),re(),re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class C1{constructor(t,n){this.targetId=t,this.fe=n}}class A1{constructor(t,n,r=yt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Rg{constructor(){this.ge=0,this.pe=Pg(),this.ye=yt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=re(),n=re(),r=re();return this.pe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y()}}),new Go(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=Pg()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,je(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class ox{constructor(t){this.Le=t,this.ke=new Map,this.qe=gr(),this.Qe=xg(),this.Ke=new Ne(ae)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:Y()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const s=i.target;if(ef(s))if(r===0){const o=new H(s.path);this.We(n,o,ft.newNoDocument(o,G.min()))}else je(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),l=a?this.et(a,t,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Kr(r).toUint8Array()}catch(l){if(l instanceof s1)return Hi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Yd(o,i,s)}catch(l){return Hi(l instanceof Ds?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&ef(a.target)){const l=new H(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,ft.newNoDocument(l,t))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=re();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const i=new Iu(t,n,this.Ke,this.qe,r);return this.qe=gr(),this.Qe=xg(),this.Ke=new Ne(ae),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new Rg,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new rt(ae),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||B("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new Rg),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function xg(){return new Ne(H.comparator)}function Pg(){return new Ne(H.comparator)}const ax=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),lx=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),ux=(()=>({and:"AND",or:"OR"}))();class cx{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function of(e,t){return e.useProto3Json||_u(t)?t:{value:t}}function af(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function R1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Oi(e){return je(!!e),G.fromTimestamp(function(n){const r=mr(n);return new Ke(r.seconds,r.nanos)}(e))}function x1(e,t){return function(r){return new ge(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function P1(e){const t=ge.fromString(e);return je(V1(t)),t}function Tc(e,t){const n=P1(t);if(n.get(1)!==e.databaseId.projectId)throw new j(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new j(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new H(k1(n))}function lf(e,t){return x1(e.databaseId,t)}function hx(e){const t=P1(e);return t.length===4?ge.emptyPath():k1(t)}function kg(e){return new ge(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function k1(e){return je(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function fx(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Y()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(je(c===void 0||typeof c=="string"),yt.fromBase64String(c||"")):(je(c===void 0||c instanceof Uint8Array),yt.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const c=u.code===void 0?N.UNKNOWN:I1(u.code);return new j(c,u.message||"")}(o);n=new A1(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Tc(e,r.document.name),s=Oi(r.document.updateTime),o=r.document.createTime?Oi(r.document.createTime):G.min(),a=new fn({mapValue:{fields:r.document.fields}}),l=ft.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new ba(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Tc(e,r.document),s=r.readTime?Oi(r.readTime):G.min(),o=ft.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ba([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Tc(e,r.document),s=r.removedTargetIds||[];n=new ba([],s,i,null)}else{if(!("filter"in t))return Y();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new rx(i,s),a=r.targetId;n=new C1(a,o)}}return n}function dx(e,t){return{documents:[lf(e,t.path)]}}function px(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=lf(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=lf(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return D1(on.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:li(h.field),direction:yx(h.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=of(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function mx(e){let t=hx(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){je(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=N1(h);return f instanceof on&&l1(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(_){return new Pl(ui(_.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,_u(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,g=h.values||[];return new xl(g,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,g=h.values||[];return new xl(g,f)}(n.endAt)),jR(t,i,o,s,a,"F",l,u)}function gx(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function N1(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ui(n.unaryFilter.field);return Fe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ui(n.unaryFilter.field);return Fe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ui(n.unaryFilter.field);return Fe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ui(n.unaryFilter.field);return Fe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(e):e.fieldFilter!==void 0?function(n){return Fe.create(ui(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return on.create(n.compositeFilter.filters.map(r=>N1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y()}}(n.compositeFilter.op))}(e):Y()}function yx(e){return ax[e]}function vx(e){return lx[e]}function _x(e){return ux[e]}function li(e){return{fieldPath:e.canonicalString()}}function ui(e){return dt.fromServerFormat(e.fieldPath)}function D1(e){return e instanceof Fe?function(n){if(n.op==="=="){if(gg(n.value))return{unaryFilter:{field:li(n.field),op:"IS_NAN"}};if(mg(n.value))return{unaryFilter:{field:li(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gg(n.value))return{unaryFilter:{field:li(n.field),op:"IS_NOT_NAN"}};if(mg(n.value))return{unaryFilter:{field:li(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:li(n.field),op:vx(n.op),value:n.value}}}(e):e instanceof on?function(n){const r=n.getFilters().map(i=>D1(i));return r.length===1?r[0]:{compositeFilter:{op:_x(n.op),filters:r}}}(e):Y()}function V1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t,n,r,i,s=G.min(),o=G.min(),a=yt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Yn(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Yn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Yn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Yn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(t){this.ut=t}}function wx(e){const t=mx({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?nf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.on=new Sx}addToCollectionParentIndex(t,n){return this.on.add(n),x.resolve()}getCollectionParents(t,n){return x.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return x.resolve()}deleteFieldIndex(t,n){return x.resolve()}deleteAllFieldIndexes(t){return x.resolve()}createTargetIndexes(t,n){return x.resolve()}getDocumentsMatchingTarget(t,n){return x.resolve(null)}getIndexType(t,n){return x.resolve(0)}getFieldIndexes(t,n){return x.resolve([])}getNextCollectionGroupToUpdate(t){return x.resolve(null)}getMinOffset(t,n){return x.resolve(pr.min())}getMinOffsetFromCollectionGroup(t,n){return x.resolve(pr.min())}updateCollectionGroup(t,n,r){return x.resolve()}updateIndexEntries(t,n){return x.resolve()}}class Sx{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new rt(ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new rt(ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Qi(0)}static Nn(){return new Qi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(){this.changes=new os(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ft.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Qs(r.mutation,i,Gn.empty(),Ke.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,re()).next(()=>r))}getLocalViewOfDocuments(t,n,r=re()){const i=Or();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=Ns();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Or();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,re()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=gr();const o=Ks(),a=function(){return Ks()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Su)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Qs(c.mutation,u,c.mutation.getFieldMask(),Ke.now())):o.set(u.key,Gn.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new Cx(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Ks();let i=new Ne((o,a)=>o-a),s=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Gn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||re()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=g1();c.forEach(f=>{if(!s.has(f)){const g=T1(n.get(f),r.get(f));g!==null&&h.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,h))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return H.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):f1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):x.resolve(Or());let a=-1,l=s;return o.next(u=>x.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?x.resolve():this.remoteDocumentCache.getEntry(t,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,re())).next(c=>({batchId:a,changes:HR(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new H(n)).next(r=>{let i=Ns();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=Ns();return this.indexManager.getCollectionParents(t,s).next(a=>x.forEach(a,l=>{const u=function(h,f){return new Qo(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,ft.newInvalidDocument(c)))});let a=Ns();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Qs(c.mutation,u,Gn.empty(),Ke.now()),wu(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return x.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Oi(i.createTime)}}(n)),x.resolve()}getNamedQuery(t,n){return x.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(i){return{name:i.name,query:wx(i.bundledQuery),readTime:Oi(i.readTime)}}(n)),x.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(){this.overlays=new Ne(H.comparator),this.lr=new Map}getOverlay(t,n){return x.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Or();return x.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.lt(t,n,s)}),x.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),x.resolve()}getOverlaysForCollection(t,n,r){const i=Or(),s=n.length+1,o=new H(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return x.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new Ne((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Or(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Or(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return x.resolve(a)}lt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new nx(n,r));let s=this.lr.get(n);s===void 0&&(s=re(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){this.hr=new rt(He.Pr),this.Ir=new rt(He.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new He(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new He(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new H(new ge([])),r=new He(n,t),i=new He(n,t+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new H(new ge([])),r=new He(n,t),i=new He(n,t+1);let s=re();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new He(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class He{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return H.comparator(t.key,n.key)||ae(t.gr,n.gr)}static Tr(t,n){return ae(t.gr,n.gr)||H.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new rt(He.Pr)}checkEmpty(t){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new tx(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new He(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(t,n){return x.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new He(n,0),i=new He(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new rt(ae);return n.forEach(i=>{const s=new He(i,0),o=new He(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),x.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;H.isDocumentKey(s)||(s=s.child(""));const o=new He(new H(s),0);let a=new rt(ae);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),x.resolve(this.br(a))}br(t){const n=[];return t.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){je(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return x.forEach(n.mutations,i=>{const s=new He(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new He(n,0),i=this.yr.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,x.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(t){this.Cr=t,this.docs=function(){return new Ne(H.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():ft.newInvalidDocument(n))}getEntries(t,n){let r=gr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ft.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=gr();const o=n.path,a=new H(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||TR(wR(c),r)<=0||(i.has(c.key)||wu(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(t,n,r,i){Y()}vr(t,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Nx(this)}getSize(t){return x.resolve(this.size)}}class Nx extends Ix{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(t,i)):this._r.removeEntry(r)}),x.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(t){this.persistence=t,this.Fr=new os(n=>qd(n),Wd),this.lastRemoteSnapshotVersion=G.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Xd,this.targetCount=0,this.Nr=Qi.On()}forEachTarget(t,n){return this.Fr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(t){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return x.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),x.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new Qi(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,x.resolve()}updateTargetData(t,n){return this.kn(n),x.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(t){return x.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return x.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),x.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),x.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return x.resolve(r)}containsKey(t,n){return x.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(t,n){this.Br={},this.overlays={},this.Lr=new Bd(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new Dx(this),this.indexManager=new Tx,this.remoteDocumentCache=function(i){return new kx(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new Ex(n),this.Kr=new Rx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new xx,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new Px(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){B("MemoryPersistence","Starting transaction:",t);const i=new Ox(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(t,n){return x.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class Ox extends IR{constructor(t){super(),this.currentSequenceNumber=t}}class Jd{constructor(t){this.persistence=t,this.Gr=new Xd,this.zr=null}static jr(t){return new Jd(t)}get Hr(){if(this.zr)return this.zr;throw Y()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),x.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),x.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Hr,r=>{const i=H.fromPath(r);return this.Jr(t,i).next(s=>{s||n.removeEntry(i,G.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return x.or([()=>x.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}static Qi(t,n){let r=re(),i=re();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Zd(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.zi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Lx;return this.Hi(t,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,n,o,a.size)})}).next(()=>s.result)}Ji(t,n,r,i){return r.documentReadCount<this.Ui?(Ts()<=ne.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",ai(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),x.resolve()):(Ts()<=ne.DEBUG&&B("QueryEngine","Query:",ai(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Ts()<=ne.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",ai(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,vn(n))):x.resolve())}zi(t,n){if(Eg(n))return x.resolve(null);let r=vn(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=nf(n,null,"F"),r=vn(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=re(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(t,nf(n,null,"F")):this.Xi(t,u,n,l)}))})))}ji(t,n,r,i){return Eg(n)||i.isEqual(G.min())?x.resolve(null):this.Gi.getDocuments(t,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?x.resolve(null):(Ts()<=ne.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ai(n)),this.Xi(t,o,n,ER(i,-1)).next(a=>a))})}Yi(t,n){let r=new rt(p1(t));return n.forEach((i,s)=>{wu(t,s)&&(r=r.add(s))}),r}Zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(t,n,r){return Ts()<=ne.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",ai(n)),this.Gi.getDocumentsMatchingQuery(t,n,pr.min(),r)}Xi(t,n,r,i){return this.Gi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(t,n,r,i){this.persistence=t,this.es=n,this.serializer=i,this.ts=new Ne(ae),this.ns=new os(s=>qd(s),Wd),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Ax(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function $x(e,t,n,r){return new Fx(e,t,n,r)}async function O1(e,t){const n=se(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=re();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function L1(e){const t=se(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function jx(e,t){const n=se(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,h)));let g=f.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(h)!==null?g=g.withResumeToken(yt.EMPTY_BYTE_STRING,G.min()).withLastLimboFreeSnapshotVersion(G.min()):c.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(c.resumeToken,r)),i=i.insert(h,g),function(w,I,m){return w.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,g,c)&&a.push(n.qr.updateTargetData(s,g))});let l=gr(),u=re();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Ux(s,o,t.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(G.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(h=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ts=i,s))}function Ux(e,t,n){let r=re(),i=re();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=gr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(G.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):B("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function Bx(e,t){const n=se(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,t).next(s=>s?(i=s,x.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Yn(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}async function uf(e,t,n){const r=se(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Wo(o))throw o;B("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function Ng(e,t,n){const r=se(e);let i=G.min(),s=re();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=se(l),f=h.ns.get(c);return f!==void 0?x.resolve(h.ts.get(f)):h.qr.getTargetData(u,c)}(r,o,vn(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,t,n?i:G.min(),n?s:re())).next(a=>(bx(r,BR(t),a),{documents:a,ls:s})))}function bx(e,t,n){let r=e.rs.get(t)||G.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.rs.set(t,r)}class Dg{constructor(){this.activeTargetIds=KR()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zx{constructor(){this.eo=new Dg,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new Dg,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ra=null;function Sc(){return Ra===null?Ra=function(){return 268435456+Math.round(2147483648*Math.random())}():Ra++,"0x"+Ra.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut="WebChannelConnection";class Kx extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=Sc(),l=this.So(n,r);B("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,l,u,i).then(c=>(B("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Hi("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ss}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=qx[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,r,i){const s=Sc();return new Promise((o,a)=>{const l=new uR;l.setWithCredentials(!0),l.listenOnce(aR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ec.NO_ERROR:const c=l.getResponseJson();B(ut,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case Ec.TIMEOUT:B(ut,`RPC '${t}' ${s} timed out`),a(new j(N.DEADLINE_EXCEEDED,"Request time out"));break;case Ec.HTTP_ERROR:const h=l.getStatus();if(B(ut,`RPC '${t}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const _=function(I){const m=I.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(m)>=0?m:N.UNKNOWN}(g.status);a(new j(_,g.message))}else a(new j(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new j(N.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{B(ut,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);B(ut,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(t,n,r){const i=Sc(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=sR(),a=oR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");B(ut,`Creating RPC '${t}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let f=!1,g=!1;const _=new Wx({co:I=>{g?B(ut,`Not sending because RPC '${t}' stream ${i} is closed:`,I):(f||(B(ut,`Opening RPC '${t}' stream ${i} transport.`),h.open(),f=!0),B(ut,`RPC '${t}' stream ${i} sending:`,I),h.send(I))},lo:()=>h.close()}),w=(I,m,d)=>{I.listen(m,p=>{try{d(p)}catch(T){setTimeout(()=>{throw T},0)}})};return w(h,Ia.EventType.OPEN,()=>{g||B(ut,`RPC '${t}' stream ${i} transport opened.`)}),w(h,Ia.EventType.CLOSE,()=>{g||(g=!0,B(ut,`RPC '${t}' stream ${i} transport closed`),_.Ro())}),w(h,Ia.EventType.ERROR,I=>{g||(g=!0,Hi(ut,`RPC '${t}' stream ${i} transport errored:`,I),_.Ro(new j(N.UNAVAILABLE,"The operation could not be completed")))}),w(h,Ia.EventType.MESSAGE,I=>{var m;if(!g){const d=I.data[0];je(!!d);const p=d,T=p.error||((m=p[0])===null||m===void 0?void 0:m.error);if(T){B(ut,`RPC '${t}' stream ${i} received error:`,T);const A=T.status;let R=function(Z){const b=Oe[Z];if(b!==void 0)return I1(b)}(A),D=T.message;R===void 0&&(R=N.INTERNAL,D="Unknown error status: "+A+" with message "+T.message),g=!0,_.Ro(new j(R,D)),h.close()}else B(ut,`RPC '${t}' stream ${i} received:`,d),_.Vo(d)}}),w(a,lR.STAT_EVENT,I=>{I.stat===ug.PROXY?B(ut,`RPC '${t}' stream ${i} detected buffering proxy`):I.stat===ug.NOPROXY&&B(ut,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.Ao()},0),_}}function Ic(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(e){return new cx(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(t,n,r=1e3,i=1.5,s=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(t,n,r,i,s,o,a,l){this.si=t,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new M1(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Mn(n.toString()),Mn("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{t(()=>{const i=new j(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(t,n){const r=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return B("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gx extends Qx{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=fx(this.serializer,t),r=function(s){if(!("targetChange"in s))return G.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?G.min():o.readTime?Oi(o.readTime):G.min()}(t);return this.listener.a_(n,r)}u_(t){const n={};n.database=kg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=ef(l)?{documents:dx(s,l)}:{query:px(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=R1(s,o.resumeToken);const u=of(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(G.min())>0){a.readTime=af(s,o.snapshotVersion.toTimestamp());const u=of(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=gx(this.serializer,t);r&&(n.labels=r),this.e_(n)}c_(t){const n={};n.database=kg(this.serializer),n.removeTarget=t,this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new j(N.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new j(N.UNKNOWN,i.toString())})}Co(t,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(N.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Xx{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Mn(n),this.f_=!1):B("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{Xo(this)&&(B("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=se(l);u.C_.add(4),await Yo(u),u.M_.set("Unknown"),u.C_.delete(4),await Au(u)}(this))})}),this.M_=new Xx(r,i)}}async function Au(e){if(Xo(e))for(const t of e.v_)await t(!0)}async function Yo(e){for(const t of e.v_)await t(!1)}function F1(e,t){const n=se(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),np(n)?tp(n):as(n).Ho()&&ep(n,t))}function $1(e,t){const n=se(e),r=as(n);n.D_.delete(t),r.Ho()&&j1(n,t),n.D_.size===0&&(r.Ho()?r.Zo():Xo(n)&&n.M_.set("Unknown"))}function ep(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(G.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}as(e).u_(t)}function j1(e,t){e.x_.Oe(t),as(e).c_(t)}function tp(e){e.x_=new ox({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),as(e).start(),e.M_.g_()}function np(e){return Xo(e)&&!as(e).jo()&&e.D_.size>0}function Xo(e){return se(e).C_.size===0}function U1(e){e.x_=void 0}async function Zx(e){e.D_.forEach((t,n)=>{ep(e,t)})}async function eP(e,t){U1(e),np(e)?(e.M_.w_(t),tp(e)):e.M_.set("Unknown")}async function tP(e,t,n){if(e.M_.set("Online"),t instanceof A1&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(e,t)}catch(r){B("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Og(e,r)}else if(t instanceof ba?e.x_.$e(t):t instanceof C1?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(G.min()))try{const r=await L1(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.D_.get(u);c&&s.D_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.D_.get(l);if(!c)return;s.D_.set(l,c.withResumeToken(yt.EMPTY_BYTE_STRING,c.snapshotVersion)),j1(s,l);const h=new Yn(c.target,l,u,c.sequenceNumber);ep(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){B("RemoteStore","Failed to raise snapshot:",r),await Og(e,r)}}async function Og(e,t,n){if(!Wo(t))throw t;e.C_.add(1),await Yo(e),e.M_.set("Offline"),n||(n=()=>L1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{B("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await Au(e)})}async function Lg(e,t){const n=se(e);n.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");const r=Xo(n);n.C_.add(3),await Yo(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await Au(n)}async function nP(e,t){const n=se(e);t?(n.C_.delete(2),await Au(n)):t||(n.C_.add(2),await Yo(n),n.M_.set("Unknown"))}function as(e){return e.O_||(e.O_=function(n,r,i){const s=se(n);return s.A_(),new Gx(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:Zx.bind(null,e),Io:eP.bind(null,e),a_:tP.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),np(e)?tp(e):e.M_.set("Unknown")):(await e.O_.stop(),U1(e))})),e.O_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new rp(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(N.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function B1(e,t){if(Mn("AsyncQueue",`${t}: ${e}`),Wo(e))return new j(N.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(t){this.comparator=t?(n,r)=>t(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=Ns(),this.sortedSet=new Ne(this.comparator)}static emptySet(t){return new Li(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Li)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Li;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(){this.B_=new Ne(H.comparator)}track(t){const n=t.doc.key,r=this.B_.get(n);r?t.type!==0&&r.type===3?this.B_=this.B_.insert(n,t):t.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.B_=this.B_.remove(n):t.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):Y():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Gi{constructor(t,n,r,i,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Gi(t,n,Li.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Eu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this.k_=void 0,this.listeners=[]}}class iP{constructor(){this.queries=new os(t=>d1(t),Eu),this.onlineState="Unknown",this.q_=new Set}}async function b1(e,t){const n=se(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new rP),i)try{s.k_=await n.onListen(r)}catch(o){const a=B1(o,`Initialization of query '${ai(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&ip(n)}async function z1(e,t){const n=se(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function sP(e,t){const n=se(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&ip(n)}function oP(e,t,n){const r=se(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function ip(e){e.q_.forEach(t=>{t.next()})}class H1{constructor(t,n,r){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Gi(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=Gi.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(t){this.key=t}}class W1{constructor(t){this.key=t}}class aP{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=re(),this.mutatedKeys=re(),this._a=p1(t),this.aa=new Li(this._a)}get ua(){return this.ia}ca(t,n){const r=n?n.la:new Mg,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,h)=>{const f=i.get(c),g=wu(this.query,h)?h:null,_=!!f&&this.mutatedKeys.has(f.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let I=!1;f&&g?f.data.isEqual(g.data)?_!==w&&(r.track({type:3,doc:g}),I=!0):this.ha(f,g)||(r.track({type:2,doc:g}),I=!0,(l&&this._a(g,l)>0||u&&this._a(g,u)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),I=!0):f&&!g&&(r.track({type:1,doc:f}),I=!0,(l||u)&&(a=!0)),I&&(g?(o=o.add(g),s=w?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const o=t.la.L_();o.sort((c,h)=>function(g,_){const w=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return w(g)-w(_)}(c.type,h.type)||this._a(c.doc,h.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],l=this.oa.size===0&&this.current&&!i?1:0,u=l!==this.sa;return this.sa=l,o.length!==0||u?{snapshot:new Gi(this.query,t.aa,s,o,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Mg,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=re(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return t.forEach(r=>{this.oa.has(r)||n.push(new W1(r))}),this.oa.forEach(r=>{t.has(r)||n.push(new q1(r))}),n}da(t){this.ia=t.ls,this.oa=re();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return Gi.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class lP{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class uP{constructor(t){this.key=t,this.Ra=!1}}class cP{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new os(a=>d1(a),Eu),this.fa=new Map,this.ga=new Set,this.pa=new Ne(H.comparator),this.ya=new Map,this.wa=new Xd,this.Sa={},this.ba=new Map,this.Da=Qi.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function hP(e,t){const n=vP(e);let r,i;const s=n.ma.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await Bx(n.localStore,vn(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await fP(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&F1(n.remoteStore,o)}return i}async function fP(e,t,n,r,i){e.va=(h,f,g)=>async function(w,I,m,d){let p=I.view.ca(m);p.Zi&&(p=await Ng(w.localStore,I.query,!1).then(({documents:D})=>I.view.ca(D,p)));const T=d&&d.targetChanges.get(I.targetId),A=d&&d.targetMismatches.get(I.targetId)!=null,R=I.view.applyChanges(p,w.isPrimaryClient,T,A);return $g(w,I.targetId,R.Ta),R.snapshot}(e,h,f,g);const s=await Ng(e.localStore,t,!0),o=new aP(t,s.ls),a=o.ca(s.documents),l=Go.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);$g(e,n,u.Ta);const c=new lP(t,n,o);return e.ma.set(t,c),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),u.snapshot}async function dP(e,t){const n=se(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Eu(s,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await uf(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),$1(n.remoteStore,r.targetId),cf(n,r.targetId)}).catch(Ud)):(cf(n,r.targetId),await uf(n.localStore,r.targetId,!0))}async function K1(e,t){const n=se(e);try{const r=await jx(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?je(o.Ra):i.removedDocuments.size>0&&(je(o.Ra),o.Ra=!1))}),await G1(n,r,t)}catch(r){await Ud(r)}}function Fg(e,t,n){const r=se(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=se(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.listeners)f.Q_(a)&&(u=!0)}),u&&ip(l)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function pP(e,t,n){const r=se(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),s=i&&i.key;if(s){let o=new Ne(H.comparator);o=o.insert(s,ft.newNoDocument(s,G.min()));const a=re().add(s),l=new Iu(G.min(),new Map,new Ne(ae),o,a);await K1(r,l),r.pa=r.pa.remove(s),r.ya.delete(t),sp(r)}else await uf(r.localStore,t,!1).then(()=>cf(r,t,n)).catch(Ud)}function cf(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(r=>{e.wa.containsKey(r)||Q1(e,r)})}function Q1(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&($1(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),sp(e))}function $g(e,t,n){for(const r of n)r instanceof q1?(e.wa.addReference(r.key,t),mP(e,r)):r instanceof W1?(B("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||Q1(e,r.key)):Y()}function mP(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(B("SyncEngine","New document in limbo: "+n),e.ga.add(r),sp(e))}function sp(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new H(ge.fromString(t)),r=e.Da.next();e.ya.set(r,new uP(n)),e.pa=e.pa.insert(n,r),F1(e.remoteStore,new Yn(vn(Kd(n.path)),r,"TargetPurposeLimboResolution",Bd._e))}}async function G1(e,t,n){const r=se(e),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Zd.Qi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,u){const c=se(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>x.forEach(u,f=>x.forEach(f.ki,g=>c.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>x.forEach(f.qi,g=>c.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!Wo(h))throw h;B("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const g=c.ts.get(f),_=g.snapshotVersion,w=g.withLastLimboFreeSnapshotVersion(_);c.ts=c.ts.insert(f,w)}}}(r.localStore,s))}async function gP(e,t){const n=se(e);if(!n.currentUser.isEqual(t)){B("SyncEngine","User change. New user:",t.toKey());const r=await O1(n.localStore,t);n.currentUser=t,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new j(N.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await G1(n,r._s)}}function yP(e,t){const n=se(e),r=n.ya.get(t);if(r&&r.Ra)return re().add(r.key);{let i=re();const s=n.fa.get(t);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function vP(e){const t=se(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=K1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pP.bind(null,t),t.Va.a_=sP.bind(null,t.eventManager),t.Va.Fa=oP.bind(null,t.eventManager),t}class jg{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Cu(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return $x(this.persistence,new Mx,t.initialUser,this.serializer)}createPersistence(t){return new Vx(Jd.jr,this.serializer)}createSharedClientState(t){return new zx}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _P{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Fg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=gP.bind(null,this.syncEngine),await nP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new iP}()}createDatastore(t){const n=Cu(t.databaseInfo.databaseId),r=function(s){return new Kx(s)}(t.databaseInfo);return function(s,o,a,l){return new Yx(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new Jx(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Fg(this.syncEngine,n,0),function(){return Vg.D()?new Vg:new Hx}())}createSyncEngine(t,n){return function(i,s,o,a,l,u,c){const h=new cP(i,s,o,a,l,u);return c&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=se(n);B("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Yo(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):Mn("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ct.UNAUTHENTICATED,this.clientId=r1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{B("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(B("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new j(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=B1(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Cc(e,t){e.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await O1(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Ug(e,t){e.asyncQueue.verifyOperationInProgress();const n=await TP(e);B("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>Lg(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>Lg(t.remoteStore,s)),e._onlineComponents=t}function wP(e){return e.name==="FirebaseError"?e.code===N.FAILED_PRECONDITION||e.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function TP(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cc(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!wP(n))throw n;Hi("Error using user provided cache. Falling back to memory cache: "+n),await Cc(e,new jg)}}else B("FirestoreClient","Using default OfflineComponentProvider"),await Cc(e,new jg);return e._offlineComponents}async function SP(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),await Ug(e,e._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),await Ug(e,new _P))),e._onlineComponents}async function X1(e){const t=await SP(e),n=t.eventManager;return n.onListen=hP.bind(null,t.syncEngine),n.onUnlisten=dP.bind(null,t.syncEngine),n}function IP(e,t,n={}){const r=new ur;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Y1({next:f=>{o.enqueueAndForget(()=>z1(s,h));const g=f.docs.has(a);!g&&f.fromCache?u.reject(new j(N.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&l&&l.source==="server"?u.reject(new j(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new H1(Kd(a.path),c,{includeMetadataChanges:!0,J_:!0});return b1(s,h)}(await X1(e),e.asyncQueue,t,n,r)),r.promise}function CP(e,t,n={}){const r=new ur;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Y1({next:f=>{o.enqueueAndForget(()=>z1(s,h)),f.fromCache&&l.source==="server"?u.reject(new j(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new H1(a,c,{includeMetadataChanges:!0,J_:!0});return b1(s,h)}(await X1(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(e,t,n){if(!n)throw new j(N.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function AP(e,t,n,r){if(t===!0&&r===!0)throw new j(N.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function bg(e){if(!H.isDocumentKey(e))throw new j(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function zg(e){if(H.isDocumentKey(e))throw new j(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Ru(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Y()}function ko(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new j(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ru(e);throw new j(N.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new j(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new j(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}AP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=J1((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xu{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new j(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new j(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hg(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hR;switch(r.type){case"firstParty":return new mR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new j(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Bg.get(n);r&&(B("ComponentProvider","Removing Datastore"),Bg.delete(n),r.terminate())}(this),Promise.resolve()}}function RP(e,t,n,r={}){var i;const s=(e=ko(e,xu))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Hi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=ct.MOCK_USER;else{a=qI(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new j(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ct(u)}e._authCredentials=new fR(new n1(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ls(this.firestore,t,this._query)}}class Ot{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ot(this.firestore,t,this._key)}}class cr extends ls{constructor(t,n,r){super(t,n,Kd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ot(this.firestore,null,new H(t))}withConverter(t){return new cr(this.firestore,t,this._path)}}function xP(e,t,...n){if(e=mo(e),Z1("collection","path",t),e instanceof xu){const r=ge.fromString(t,...n);return zg(r),new cr(e,null,r)}{if(!(e instanceof Ot||e instanceof cr))throw new j(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ge.fromString(t,...n));return zg(r),new cr(e.firestore,null,r)}}function PP(e,t,...n){if(e=mo(e),arguments.length===1&&(t=r1.newId()),Z1("doc","path",t),e instanceof xu){const r=ge.fromString(t,...n);return bg(r),new Ot(e,null,new H(r))}{if(!(e instanceof Ot||e instanceof cr))throw new j(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ge.fromString(t,...n));return bg(r),new Ot(e.firestore,e instanceof cr?e.converter:null,new H(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new M1(this,"async_queue_retry"),this.iu=()=>{const n=Ic();n&&B("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=Ic();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=Ic();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new ur;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!Wo(t))throw t;B("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Mn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const i=rp.createAndSchedule(this,t,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&Y()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}class op extends xu{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new kP}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||nE(this),this._firestoreClient.terminate()}}function eE(e,t){const n=typeof e=="object"?e:GC(),r=typeof e=="string"?e:t||"(default)",i=qC(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=zI("firestore");s&&RP(i,...s)}return i}function tE(e){return e._firestoreClient||nE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function nE(e){var t,n,r;const i=e._freezeSettings(),s=function(a,l,u,c){return new RR(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,J1(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new EP(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yi(yt.fromBase64String(t))}catch(n){throw new j(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Yi(yt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new j(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new j(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new j(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ae(this._lat,t._lat)||ae(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=/^__.*__$/;function sE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}class lp{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new lp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Au(t),i}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return hf(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(sE(this.Iu)&&NP.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class DP{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Cu(t)}pu(t,n,r,i=!1){return new lp({Iu:t,methodName:n,gu:r,path:dt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function VP(e){const t=e._freezeSettings(),n=Cu(e._databaseId);return new DP(e._databaseId,!!t.ignoreUndefinedProperties,n)}function OP(e,t,n,r=!1){return up(n,e.pu(r?4:3,t))}function up(e,t){if(oE(e=mo(e)))return MP("Unsupported field value:",t,e),LP(e,t);if(e instanceof iE)return function(r,i){if(!sE(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=up(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=mo(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ke.fromDate(r);return{timestampValue:af(i.serializer,s)}}if(r instanceof Ke){const s=new Ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:af(i.serializer,s)}}if(r instanceof ap)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yi)return{bytesValue:R1(i.serializer,r._byteString)};if(r instanceof Ot){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:x1(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Ru(r)}`)}(e,t)}function LP(e,t){const n={};return i1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ko(e,(r,i)=>{const s=up(i,t.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function oE(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ke||e instanceof ap||e instanceof Yi||e instanceof Ot||e instanceof iE)}function MP(e,t,n){if(!oE(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ru(n);throw r==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+r)}}const FP=new RegExp("[~\\*/\\[\\]]");function $P(e,t,n){if(t.search(FP)>=0)throw hf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new rE(...t.split("."))._internalPath}catch{throw hf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function hf(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new j(N.INVALID_ARGUMENT,a+e+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new jP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(cp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jP extends aE{data(){return super.data()}}function cp(e,t){return typeof t=="string"?$P(e,t):t instanceof rE?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new j(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hp{}class BP extends hp{}function bP(e,t,...n){let r=[];t instanceof hp&&r.push(t),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof fp).length,a=s.filter(l=>l instanceof Pu).length;if(o>1||o>0&&a>0)throw new j(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class Pu extends BP{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Pu(t,n,r)}_apply(t){const n=this._parse(t);return lE(t._query,n),new ls(t.firestore,t.converter,tf(t._query,n))}_parse(t){const n=VP(t.firestore);return function(s,o,a,l,u,c,h){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new j(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Wg(h,c);const g=[];for(const _ of h)g.push(qg(l,s,_));f={arrayValue:{values:g}}}else f=qg(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Wg(h,c),f=OP(a,o,h,c==="in"||c==="not-in");return Fe.create(u,c,f)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function zP(e,t,n){const r=t,i=cp("where",e);return Pu._create(i,r,n)}class fp extends hp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new fp(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:on.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)lE(o,l),o=tf(o,l)}(t._query,n),new ls(t.firestore,t.converter,tf(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function qg(e,t,n){if(typeof(n=mo(n))=="string"){if(n==="")throw new j(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f1(t)&&n.indexOf("/")!==-1)throw new j(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ge.fromString(n));if(!H.isDocumentKey(r))throw new j(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pg(e,new H(r))}if(n instanceof Ot)return pg(e,n._key);throw new j(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ru(n)}.`)}function Wg(e,t){if(!Array.isArray(e)||e.length===0)throw new j(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function lE(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new j(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new j(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class HP{convertValue(t,n="none"){switch(Qr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Le(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Kr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Y()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Ko(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new ap(Le(t.latitude),Le(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=zd(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ro(t));default:return null}}convertTimestamp(t){const n=mr(t);return new Ke(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ge.fromString(t);je(V1(r));const i=new xo(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(n)||Mn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class uE extends aE{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new za(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(cp("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class za extends uE{data(t={}){return super.data(t)}}class qP{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new za(this._firestore,this._userDataWriter,r.key,r,new Vs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new za(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new za(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:WP(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function WP(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(e){e=ko(e,Ot);const t=ko(e.firestore,op);return IP(tE(t),e._key).then(n=>QP(t,e,n))}class cE extends HP{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function Kg(e){e=ko(e,ls);const t=ko(e.firestore,op),n=tE(t),r=new cE(t);return UP(e._query),CP(n,e._query).then(i=>new qP(t,r,e,i))}function QP(e,t,n){const r=n.docs.get(t._key),i=new cE(e);return new uE(e,i,t._key,r,new Vs(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){ss=i})(QC),El(new go("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new op(new dR(r.getProvider("auth-internal")),new yR(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new j(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xo(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ni(cg,"4.4.0",t),Ni(cg,"4.4.0","esm2017")})();const GP=({item:e})=>E.jsx(Xt,{to:"/item/"+e.id,className:"text-decoration-none",children:E.jsx("div",{className:"container",children:E.jsxs("div",{className:"card border border-0",children:[E.jsx("img",{className:"card-img-top",src:e.img,alt:e.title}),E.jsxs("div",{className:"card-body text-center",children:[E.jsx("p",{children:e.title}),E.jsxs("p",{children:["$",e.price]})]})]})})}),YP=({item:e})=>E.jsx("div",{className:"row",children:e.map(t=>E.jsx("div",{className:"col-md-3",children:E.jsx(GP,{item:t})},t.id))}),Qg=()=>{const[e,t]=v.useState([]),{id:n}=$_();return v.useEffect(()=>{const r=eE(),i=xP(r,"products");if(n){const s=bP(i,zP("categoryId","==",n));Kg(s).then(o=>{t(o.docs.map(a=>({id:a.id,...a.data()})))})}else Kg(i).then(s=>t(s.docs.map(o=>({id:o.id,...o.data()}))))},[n]),E.jsx("div",{className:"container",children:E.jsx("div",{className:"row",children:E.jsx(YP,{item:e})})})};var hE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)t.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(hE);var XP=hE.exports;const Ge=$l(XP),JP=["xxl","xl","lg","md","sm","xs"],ZP="xs",ek=v.createContext({prefixes:{},breakpoints:JP,minBreakpoint:ZP});function kt(e,t){const{prefixes:n}=v.useContext(ek);return e||n[t]||t}const fE=v.forwardRef(({bsPrefix:e,fluid:t=!1,as:n="div",className:r,...i},s)=>{const o=kt(e,"container"),a=typeof t=="string"?`-${t}`:"-fluid";return E.jsx(n,{ref:s,...i,className:Ge(r,t?`${o}${a}`:o)})});fE.displayName="Container";const tk=fE;var Gg={exports:{}},ff={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){function i(o,a,l,u,c,h){var f=u||"<<anonymous>>",g=h||l;if(a[l]==null)return o?new Error("Required "+c+" `"+g+"` was not specified "+("in `"+f+"`.")):null;for(var _=arguments.length,w=Array(_>6?_-6:0),I=6;I<_;I++)w[I-6]=arguments[I];return r.apply(void 0,[a,l,f,c,g].concat(w))}var s=i.bind(null,!1);return s.isRequired=i.bind(null,!0),s}e.exports=t.default})(ff,ff.exports);var nk=ff.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=nk,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(){for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];function u(){for(var c=arguments.length,h=Array(c),f=0;f<c;f++)h[f]=arguments[f];var g=null;return a.forEach(function(_){if(g==null){var w=_.apply(void 0,h);w!=null&&(g=w)}}),g}return(0,r.default)(u)}e.exports=t.default})(Gg,Gg.exports);function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},df.apply(this,arguments)}function dE(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Yg(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function rk(e){var t=ik(e,"string");return typeof t=="symbol"?t:String(t)}function ik(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sk(e,t,n){var r=v.useRef(e!==void 0),i=v.useState(t),s=i[0],o=i[1],a=e!==void 0,l=r.current;return r.current=a,!a&&l&&s!==t&&o(t),[a?e:s,v.useCallback(function(u){for(var c=arguments.length,h=new Array(c>1?c-1:0),f=1;f<c;f++)h[f-1]=arguments[f];n&&n.apply(void 0,[u].concat(h)),o(u)},[n])]}function pE(e,t){return Object.keys(t).reduce(function(n,r){var i,s=n,o=s[Yg(r)],a=s[r],l=dE(s,[Yg(r),r].map(rk)),u=t[r],c=sk(a,o,e[u]),h=c[0],f=c[1];return df({},l,(i={},i[r]=h,i[u]=f,i))},e)}function pf(e,t){return pf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pf(e,t)}function ok(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,pf(e,t)}var ak=Function.prototype.bind.call(Function.prototype.call,[].slice);function xr(e,t){return ak(e.querySelectorAll(t))}function lk(){const[,e]=v.useReducer(t=>!t,!1);return e}const Xg=e=>!e||typeof e=="function"?e:t=>{e.current=t};function uk(e,t){const n=Xg(e),r=Xg(t);return i=>{n&&n(i),r&&r(i)}}function ku(e,t){return v.useMemo(()=>uk(e,t),[e,t])}const mE=v.createContext(null);mE.displayName="NavContext";const gE=mE,ck=v.createContext(null),dp=(e,t=null)=>e!=null?String(e):t||null,Dl=ck,hk=v.createContext(null),yE=hk,fk="data-rr-ui-",dk="rrUi";function Nu(e){return`${fk}${e}`}function pk(e){return`${dk}${e}`}function mk(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e},[e]),t}function zt(e){const t=mk(e);return v.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const gk=["as","disabled"];function yk(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function vk(e){return!e||e.trim()==="#"}function vE({tagName:e,disabled:t,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:l}){e||(n!=null||r!=null||i!=null?e="a":e="button");const u={tagName:e};if(e==="button")return[{type:l||"button",disabled:t},u];const c=f=>{if((t||e==="a"&&vk(n))&&f.preventDefault(),t){f.stopPropagation();return}o==null||o(f)},h=f=>{f.key===" "&&(f.preventDefault(),c(f))};return e==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:t?void 0:a,href:n,target:e==="a"?r:void 0,"aria-disabled":t||void 0,rel:e==="a"?i:void 0,onClick:c,onKeyDown:h},u]}const _E=v.forwardRef((e,t)=>{let{as:n,disabled:r}=e,i=yk(e,gk);const[s,{tagName:o}]=vE(Object.assign({tagName:n,disabled:r},i));return E.jsx(o,Object.assign({},i,s,{ref:t}))});_E.displayName="Button";const _k=["as","active","eventKey"];function Ek(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function EE({key:e,onClick:t,active:n,id:r,role:i,disabled:s}){const o=v.useContext(Dl),a=v.useContext(gE),l=v.useContext(yE);let u=n;const c={role:i};if(a){!i&&a.role==="tablist"&&(c.role="tab");const h=a.getControllerId(e??null),f=a.getControlledId(e??null);c[Nu("event-key")]=e,c.id=h||r,u=n==null&&e!=null?a.activeKey===e:n,(u||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(c["aria-controls"]=f)}return c.role==="tab"&&(c["aria-selected"]=u,u||(c.tabIndex=-1),s&&(c.tabIndex=-1,c["aria-disabled"]=!0)),c.onClick=zt(h=>{s||(t==null||t(h),e!=null&&o&&!h.isPropagationStopped()&&o(e,h))}),[c,{isActive:u}]}const wE=v.forwardRef((e,t)=>{let{as:n=_E,active:r,eventKey:i}=e,s=Ek(e,_k);const[o,a]=EE(Object.assign({key:dp(i,s.href),active:r},s));return o[Nu("active")]=a.isActive,E.jsx(n,Object.assign({},s,o,{ref:t}))});wE.displayName="NavItem";const wk=wE,Tk=["as","onSelect","activeKey","role","onKeyDown"];function Sk(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const Jg=()=>{},Zg=Nu("event-key"),TE=v.forwardRef((e,t)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=e,a=Sk(e,Tk);const l=lk(),u=v.useRef(!1),c=v.useContext(Dl),h=v.useContext(yE);let f,g;h&&(s=s||"tablist",i=h.activeKey,f=h.getControlledId,g=h.getControllerId);const _=v.useRef(null),w=p=>{const T=_.current;if(!T)return null;const A=xr(T,`[${Zg}]:not([aria-disabled=true])`),R=T.querySelector("[aria-selected=true]");if(!R||R!==document.activeElement)return null;const D=A.indexOf(R);if(D===-1)return null;let M=D+p;return M>=A.length&&(M=0),M<0&&(M=A.length-1),A[M]},I=(p,T)=>{p!=null&&(r==null||r(p,T),c==null||c(p,T))},m=p=>{if(o==null||o(p),!h)return;let T;switch(p.key){case"ArrowLeft":case"ArrowUp":T=w(-1);break;case"ArrowRight":case"ArrowDown":T=w(1);break;default:return}T&&(p.preventDefault(),I(T.dataset[pk("EventKey")]||null,p),u.current=!0,l())};v.useEffect(()=>{if(_.current&&u.current){const p=_.current.querySelector(`[${Zg}][aria-selected=true]`);p==null||p.focus()}u.current=!1});const d=ku(t,_);return E.jsx(Dl.Provider,{value:I,children:E.jsx(gE.Provider,{value:{role:s,activeKey:dp(i),getControlledId:f||Jg,getControllerId:g||Jg},children:E.jsx(n,Object.assign({},a,{onKeyDown:m,ref:d,role:s}))})})});TE.displayName="Nav";const Ik=Object.assign(TE,{Item:wk}),SE=v.createContext(null);SE.displayName="NavbarContext";const us=SE,IE=v.createContext(null);IE.displayName="CardHeaderContext";const Ck=IE,CE=v.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=kt(t,"nav-item"),E.jsx(n,{ref:i,className:Ge(e,t),...r})));CE.displayName="NavItem";const Ak=CE;function Rk(){const e=v.useRef(!0),t=v.useRef(()=>e.current);return v.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function xk(e){const t=v.useRef(null);return v.useEffect(()=>{t.current=e}),t.current}const Pk=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",kk=typeof document<"u",mf=kk||Pk?v.useLayoutEffect:v.useEffect,Nk=["onKeyDown"];function Dk(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Vk(e){return!e||e.trim()==="#"}const AE=v.forwardRef((e,t)=>{let{onKeyDown:n}=e,r=Dk(e,Nk);const[i]=vE(Object.assign({tagName:"a"},r)),s=zt(o=>{i.onKeyDown(o),n==null||n(o)});return Vk(r.href)||r.role==="button"?E.jsx("a",Object.assign({ref:t},r,i,{onKeyDown:s})):E.jsx("a",Object.assign({ref:t},r,{onKeyDown:n}))});AE.displayName="Anchor";const Ok=AE,RE=v.forwardRef(({bsPrefix:e,className:t,as:n=Ok,active:r,eventKey:i,disabled:s=!1,...o},a)=>{e=kt(e,"nav-link");const[l,u]=EE({key:dp(i,o.href),active:r,disabled:s,...o});return E.jsx(n,{...o,...l,ref:a,disabled:s,className:Ge(t,e,s&&"disabled",u.isActive&&"active")})});RE.displayName="NavLink";const Lk=RE,xE=v.forwardRef((e,t)=>{const{as:n="div",bsPrefix:r,variant:i,fill:s=!1,justify:o=!1,navbar:a,navbarScroll:l,className:u,activeKey:c,...h}=pE(e,{activeKey:"onSelect"}),f=kt(r,"nav");let g,_,w=!1;const I=v.useContext(us),m=v.useContext(Ck);return I?(g=I.bsPrefix,w=a??!0):m&&({cardHeaderBsPrefix:_}=m),E.jsx(Ik,{as:n,ref:t,activeKey:c,className:Ge(u,{[f]:!w,[`${g}-nav`]:w,[`${g}-nav-scroll`]:w&&l,[`${_}-${i}`]:!!_,[`${f}-${i}`]:!!i,[`${f}-fill`]:s,[`${f}-justified`]:o}),...h})});xE.displayName="Nav";const Mk=Object.assign(xE,{Item:Ak,Link:Lk}),PE=v.forwardRef(({bsPrefix:e,className:t,as:n,...r},i)=>{e=kt(e,"navbar-brand");const s=n||(r.href?"a":"span");return E.jsx(s,{...r,ref:i,className:Ge(t,e)})});PE.displayName="NavbarBrand";const Fk=PE;function pp(e){return e&&e.ownerDocument||document}function $k(e){var t=pp(e);return t&&t.defaultView||window}function jk(e,t){return $k(e).getComputedStyle(e,t)}var Uk=/([A-Z])/g;function Bk(e){return e.replace(Uk,"-$1").toLowerCase()}var bk=/^ms-/;function xa(e){return Bk(e).replace(bk,"-ms-")}var zk=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Hk(e){return!!(e&&zk.test(e))}function kn(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(xa(t))||jk(e).getPropertyValue(xa(t));Object.keys(t).forEach(function(i){var s=t[i];!s&&s!==0?e.style.removeProperty(xa(i)):Hk(i)?r+=i+"("+s+") ":n+=xa(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}var kE={exports:{}},qk="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Wk=qk,Kk=Wk;function NE(){}function DE(){}DE.resetWarningCache=NE;var Qk=function(){function e(r,i,s,o,a,l){if(l!==Kk){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:DE,resetWarningCache:NE};return n.PropTypes=n,n};kE.exports=Qk();var Gk=kE.exports;const Ac=$l(Gk),ey={disabled:!1},VE=le.createContext(null);var Yk=function(t){return t.scrollTop},Os="unmounted",zn="exited",Zt="entering",Cn="entered",No="exiting",$n=function(e){ok(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=zn,s.appearStatus=Zt):l=Cn:r.unmountOnExit||r.mountOnEnter?l=Os:l=zn,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Os?{status:zn}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Zt&&o!==Cn&&(s=Zt):(o===Zt||o===Cn)&&(s=No)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Zt){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ti.findDOMNode(this);o&&Yk(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===zn&&this.setState({status:Os})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Ti.findDOMNode(this),a],u=l[0],c=l[1],h=this.getTimeouts(),f=a?h.appear:h.enter;if(!i&&!o||ey.disabled){this.safeSetState({status:Cn},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Zt},function(){s.props.onEntering(u,c),s.onTransitionEnd(f,function(){s.safeSetState({status:Cn},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Ti.findDOMNode(this);if(!s||ey.disabled){this.safeSetState({status:zn},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:No},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:zn},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Ti.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Os)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=dE(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return le.createElement(VE.Provider,{value:null},typeof o=="function"?o(i,a):le.cloneElement(le.Children.only(o),a))},t}(le.Component);$n.contextType=VE;$n.propTypes={};function ii(){}$n.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ii,onEntering:ii,onEntered:ii,onExit:ii,onExiting:ii,onExited:ii};$n.UNMOUNTED=Os;$n.EXITED=zn;$n.ENTERING=Zt;$n.ENTERED=Cn;$n.EXITING=No;const Xk=$n,Du=!!(typeof window<"u"&&window.document&&window.document.createElement);var gf=!1,yf=!1;try{var Rc={get passive(){return gf=!0},get once(){return yf=gf=!0}};Du&&(window.addEventListener("test",Rc,Rc),window.removeEventListener("test",Rc,!0))}catch{}function Jk(e,t,n,r){if(r&&typeof r!="boolean"&&!yf){var i=r.once,s=r.capture,o=n;!yf&&i&&(o=n.__once||function a(l){this.removeEventListener(t,a,s),n.call(this,l)},n.__once=o),e.addEventListener(t,o,gf?r:s)}e.addEventListener(t,n,r)}function Zk(e,t,n,r){var i=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)}function Vl(e,t,n,r){return Jk(e,t,n,r),function(){Zk(e,t,n,r)}}function e2(e,t,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}function t2(e){var t=kn(e,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function n2(e,t,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||e2(e,"transitionend",!0)},t+n),s=Vl(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function r2(e,t,n,r){n==null&&(n=t2(e)||0);var i=n2(e,n,r),s=Vl(e,"transitionend",t);return function(){i(),s()}}function ty(e,t){const n=kn(e,t)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function mp(e,t){const n=ty(e,"transitionDuration"),r=ty(e,"transitionDelay"),i=r2(e,s=>{s.target===e&&(i(),t(s))},n+r)}function Ss(...e){return e.filter(t=>t!=null).reduce((t,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?n:function(...i){t.apply(this,i),n.apply(this,i)}},null)}function OE(e){e.offsetHeight}function i2(e){return e&&"setState"in e?Ti.findDOMNode(e):e??null}const s2=le.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:a,childRef:l,...u},c)=>{const h=v.useRef(null),f=ku(h,l),g=R=>{f(i2(R))},_=R=>D=>{R&&h.current&&R(h.current,D)},w=v.useCallback(_(e),[e]),I=v.useCallback(_(t),[t]),m=v.useCallback(_(n),[n]),d=v.useCallback(_(r),[r]),p=v.useCallback(_(i),[i]),T=v.useCallback(_(s),[s]),A=v.useCallback(_(o),[o]);return E.jsx(Xk,{ref:c,...u,onEnter:w,onEntered:m,onEntering:I,onExit:d,onExited:T,onExiting:p,addEndListener:A,nodeRef:h,children:typeof a=="function"?(R,D)=>a(R,{...D,ref:g}):le.cloneElement(a,{ref:g})})}),gp=s2,o2={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function a2(e,t){const n=`offset${e[0].toUpperCase()}${e.slice(1)}`,r=t[n],i=o2[e];return r+parseInt(kn(t,i[0]),10)+parseInt(kn(t,i[1]),10)}const l2={[zn]:"collapse",[No]:"collapsing",[Zt]:"collapsing",[Cn]:"collapse show"},u2=le.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:a="height",in:l=!1,timeout:u=300,mountOnEnter:c=!1,unmountOnExit:h=!1,appear:f=!1,getDimensionValue:g=a2,..._},w)=>{const I=typeof a=="function"?a():a,m=v.useMemo(()=>Ss(R=>{R.style[I]="0"},e),[I,e]),d=v.useMemo(()=>Ss(R=>{const D=`scroll${I[0].toUpperCase()}${I.slice(1)}`;R.style[I]=`${R[D]}px`},t),[I,t]),p=v.useMemo(()=>Ss(R=>{R.style[I]=null},n),[I,n]),T=v.useMemo(()=>Ss(R=>{R.style[I]=`${g(I,R)}px`,OE(R)},r),[r,g,I]),A=v.useMemo(()=>Ss(R=>{R.style[I]=null},i),[I,i]);return E.jsx(gp,{ref:w,addEndListener:mp,..._,"aria-expanded":_.role?l:null,onEnter:m,onEntering:d,onEntered:p,onExit:T,onExiting:A,childRef:o.ref,in:l,timeout:u,mountOnEnter:c,unmountOnExit:h,appear:f,children:(R,D)=>le.cloneElement(o,{...D,className:Ge(s,o.props.className,l2[R],I==="width"&&"collapse-horizontal")})})}),c2=u2,LE=v.forwardRef(({children:e,bsPrefix:t,...n},r)=>{t=kt(t,"navbar-collapse");const i=v.useContext(us);return E.jsx(c2,{in:!!(i&&i.expanded),...n,children:E.jsx("div",{ref:r,className:t,children:e})})});LE.displayName="NavbarCollapse";const h2=LE,ME=v.forwardRef(({bsPrefix:e,className:t,children:n,label:r="Toggle navigation",as:i="button",onClick:s,...o},a)=>{e=kt(e,"navbar-toggler");const{onToggle:l,expanded:u}=v.useContext(us)||{},c=zt(h=>{s&&s(h),l&&l()});return i==="button"&&(o.type="button"),E.jsx(i,{...o,ref:a,onClick:c,"aria-label":r,className:Ge(t,e,!u&&"collapsed"),children:n||E.jsx("span",{className:`${e}-icon`})})});ME.displayName="NavbarToggle";const f2=ME,vf=new WeakMap,ny=(e,t)=>{if(!e||!t)return;const n=vf.get(t)||new Map;vf.set(t,n);let r=n.get(e);return r||(r=t.matchMedia(e),r.refCount=0,n.set(r.media,r)),r};function d2(e,t=typeof window>"u"?void 0:window){const n=ny(e,t),[r,i]=v.useState(()=>n?n.matches:!1);return mf(()=>{let s=ny(e,t);if(!s)return i(!1);let o=vf.get(t);const a=()=>{i(s.matches)};return s.refCount++,s.addListener(a),a(),()=>{s.removeListener(a),s.refCount--,s.refCount<=0&&(o==null||o.delete(s.media)),s=void 0}},[e]),r}function p2(e){const t=Object.keys(e);function n(a,l){return a===l?l:a?`${a} and ${l}`:l}function r(a){return t[Math.min(t.indexOf(a)+1,t.length-1)]}function i(a){const l=r(a);let u=e[l];return typeof u=="number"?u=`${u-.2}px`:u=`calc(${u} - 0.2px)`,`(max-width: ${u})`}function s(a){let l=e[a];return typeof l=="number"&&(l=`${l}px`),`(min-width: ${l})`}function o(a,l,u){let c;typeof a=="object"?(c=a,u=l,l=!0):(l=l||!0,c={[a]:l});let h=v.useMemo(()=>Object.entries(c).reduce((f,[g,_])=>((_==="up"||_===!0)&&(f=n(f,s(g))),(_==="down"||_===!0)&&(f=n(f,i(g))),f),""),[JSON.stringify(c)]);return d2(h,u)}return o}const m2=p2({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function xc(e){e===void 0&&(e=pp());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function ry(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function g2(e){const t=v.useRef(e);return t.current=e,t}function y2(e){const t=g2(e);v.useEffect(()=>()=>t.current(),[])}function v2(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const iy=Nu("modal-open");class _2{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return v2(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();t.style={overflow:i.style.overflow,[r]:i.style[r]},t.scrollBarWidth&&(n[r]=`${parseInt(kn(i,r)||"0",10)+t.scrollBarWidth}px`),i.setAttribute(iy,""),kn(i,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(iy),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const yp=_2,FE=v.createContext(Du?window:void 0);FE.Provider;function vp(){return v.useContext(FE)}const Pc=(e,t)=>Du?e==null?(t||pp()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function E2(e,t){const n=vp(),[r,i]=v.useState(()=>Pc(e,n==null?void 0:n.document));if(!r){const s=Pc(e);s&&i(s)}return v.useEffect(()=>{t&&r&&t(r)},[t,r]),v.useEffect(()=>{const s=Pc(e);s!==r&&i(s)},[e,r]),r}function w2({children:e,in:t,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=v.useRef(null),o=v.useRef(t),a=zt(n);v.useEffect(()=>{t?o.current=!0:a(s.current)},[t,a]);const l=ku(s,e.ref),u=v.cloneElement(e,{ref:l});return t?u:i||!o.current&&r?null:u}function T2({in:e,onTransition:t}){const n=v.useRef(null),r=v.useRef(!0),i=zt(t);return mf(()=>{if(!n.current)return;let s=!1;return i({in:e,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[e,i]),mf(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function S2({children:e,in:t,onExited:n,onEntered:r,transition:i}){const[s,o]=v.useState(!t);t&&s&&o(!1);const a=T2({in:!!t,onTransition:u=>{const c=()=>{u.isStale()||(u.in?r==null||r(u.element,u.initial):(o(!0),n==null||n(u.element)))};Promise.resolve(i(u)).then(c,h=>{throw u.in||o(!0),h})}}),l=ku(a,e.ref);return s&&!t?null:v.cloneElement(e,{ref:l})}function sy(e,t,n){return e?E.jsx(e,Object.assign({},n)):t?E.jsx(S2,Object.assign({},n,{transition:t})):E.jsx(w2,Object.assign({},n))}function I2(e){return e.code==="Escape"||e.keyCode===27}const C2=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function A2(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}let kc;function R2(e){return kc||(kc=new yp({ownerDocument:e==null?void 0:e.document})),kc}function x2(e){const t=vp(),n=e||R2(t),r=v.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:v.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:v.useCallback(i=>{r.current.backdrop=i},[])})}const $E=v.forwardRef((e,t)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:a=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:c,transition:h,runTransition:f,backdropTransition:g,runBackdropTransition:_,autoFocus:w=!0,enforceFocus:I=!0,restoreFocus:m=!0,restoreFocusOptions:d,renderDialog:p,renderBackdrop:T=ve=>E.jsx("div",Object.assign({},ve)),manager:A,container:R,onShow:D,onHide:M=()=>{},onExit:Z,onExited:b,onExiting:De,onEnter:K,onEntering:X,onEntered:te}=e,we=A2(e,C2);const Te=vp(),Se=E2(R),k=x2(A),z=Rk(),W=xk(n),[oe,he]=v.useState(!n),It=v.useRef(null);v.useImperativeHandle(t,()=>k,[k]),Du&&!W&&n&&(It.current=xc(Te==null?void 0:Te.document)),n&&oe&&he(!1);const st=zt(()=>{if(k.add(),Sr.current=Vl(document,"keydown",cs),Jr.current=Vl(document,"focus",()=>setTimeout(ot),!0),D&&D(),w){var ve,hs;const na=xc((ve=(hs=k.dialog)==null?void 0:hs.ownerDocument)!=null?ve:Te==null?void 0:Te.document);k.dialog&&na&&!ry(k.dialog,na)&&(It.current=na,k.dialog.focus())}}),Ve=zt(()=>{if(k.remove(),Sr.current==null||Sr.current(),Jr.current==null||Jr.current(),m){var ve;(ve=It.current)==null||ve.focus==null||ve.focus(d),It.current=null}});v.useEffect(()=>{!n||!Se||st()},[n,Se,st]),v.useEffect(()=>{oe&&Ve()},[oe,Ve]),y2(()=>{Ve()});const ot=zt(()=>{if(!I||!z()||!k.isTopModal())return;const ve=xc(Te==null?void 0:Te.document);k.dialog&&ve&&!ry(k.dialog,ve)&&k.dialog.focus()}),jn=zt(ve=>{ve.target===ve.currentTarget&&(u==null||u(ve),a===!0&&M())}),cs=zt(ve=>{l&&I2(ve)&&k.isTopModal()&&(c==null||c(ve),ve.defaultPrevented||M())}),Jr=v.useRef(),Sr=v.useRef(),ea=(...ve)=>{he(!0),b==null||b(...ve)};if(!Se)return null;const ta=Object.assign({role:r,ref:k.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},we,{style:s,className:i,tabIndex:-1});let Zr=p?p(ta):E.jsx("div",Object.assign({},ta,{children:v.cloneElement(o,{role:"document"})}));Zr=sy(h,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:Z,onExiting:De,onExited:ea,onEnter:K,onEntering:X,onEntered:te,children:Zr});let ei=null;return a&&(ei=T({ref:k.setBackdropRef,onClick:jn}),ei=sy(g,_,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ei})),E.jsx(E.Fragment,{children:Ti.createPortal(E.jsxs(E.Fragment,{children:[ei,Zr]}),Se)})});$E.displayName="Modal";const P2=Object.assign($E,{Manager:yp}),k2={[Zt]:"show",[Cn]:"show"},jE=v.forwardRef(({className:e,children:t,transitionClasses:n={},onEnter:r,...i},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},a=v.useCallback((l,u)=>{OE(l),r==null||r(l,u)},[r]);return E.jsx(gp,{ref:s,addEndListener:mp,...o,onEnter:a,childRef:t.ref,children:(l,u)=>v.cloneElement(t,{...u,className:Ge("fade",e,t.props.className,k2[l],n[l])})})});jE.displayName="Fade";const N2=jE,UE=v.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=kt(t,"offcanvas-body"),E.jsx(n,{ref:i,className:Ge(e,t),...r})));UE.displayName="OffcanvasBody";const D2=UE,V2={[Zt]:"show",[Cn]:"show"},BE=v.forwardRef(({bsPrefix:e,className:t,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:s=!1,appear:o=!1,...a},l)=>(e=kt(e,"offcanvas"),E.jsx(gp,{ref:l,addEndListener:mp,in:r,mountOnEnter:i,unmountOnExit:s,appear:o,...a,childRef:n.ref,children:(u,c)=>v.cloneElement(n,{...c,className:Ge(t,n.props.className,(u===Zt||u===No)&&`${e}-toggling`,V2[u])})})));BE.displayName="OffcanvasToggling";const O2=BE,L2=v.createContext({onHide(){}}),bE=L2,M2={"aria-label":Ac.string,onClick:Ac.func,variant:Ac.oneOf(["white"])},_p=v.forwardRef(({className:e,variant:t,"aria-label":n="Close",...r},i)=>E.jsx("button",{ref:i,type:"button",className:Ge("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...r}));_p.displayName="CloseButton";_p.propTypes=M2;const F2=_p,$2=v.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:r,children:i,...s},o)=>{const a=v.useContext(bE),l=zt(()=>{a==null||a.onHide(),r==null||r()});return E.jsxs("div",{ref:o,...s,children:[i,n&&E.jsx(F2,{"aria-label":e,variant:t,onClick:l})]})}),j2=$2,zE=v.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(e=kt(e,"offcanvas-header"),E.jsx(j2,{ref:s,...i,className:Ge(t,e),closeLabel:n,closeButton:r})));zE.displayName="OffcanvasHeader";const U2=zE,B2=e=>v.forwardRef((t,n)=>E.jsx("div",{...t,ref:n,className:Ge(t.className,e)})),b2=B2("h5"),HE=v.forwardRef(({className:e,bsPrefix:t,as:n=b2,...r},i)=>(t=kt(t,"offcanvas-title"),E.jsx(n,{ref:i,className:Ge(e,t),...r})));HE.displayName="OffcanvasTitle";const z2=HE;function H2(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function q2(e,t){e.classList?e.classList.add(t):H2(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function oy(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function W2(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=oy(e.className,t):e.setAttribute("class",oy(e.className&&e.className.baseVal||"",t))}const si={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class qE extends yp{adjustAndStore(t,n,r){const i=n.style[t];n.dataset[t]=i,kn(n,{[t]:`${parseFloat(kn(n,t))+r}px`})}restore(t,n){const r=n.dataset[t];r!==void 0&&(delete n.dataset[t],kn(n,{[t]:r}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(q2(n,"modal-open"),!t.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";xr(n,si.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,t.scrollBarWidth)),xr(n,si.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-t.scrollBarWidth)),xr(n,si.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();W2(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";xr(n,si.FIXED_CONTENT).forEach(s=>this.restore(r,s)),xr(n,si.STICKY_CONTENT).forEach(s=>this.restore(i,s)),xr(n,si.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let Nc;function K2(e){return Nc||(Nc=new qE(e)),Nc}const Q2=qE;function G2(e){return E.jsx(O2,{...e})}function Y2(e){return E.jsx(N2,{...e})}const WE=v.forwardRef(({bsPrefix:e,className:t,children:n,"aria-labelledby":r,placement:i="start",responsive:s,show:o=!1,backdrop:a=!0,keyboard:l=!0,scroll:u=!1,onEscapeKeyDown:c,onShow:h,onHide:f,container:g,autoFocus:_=!0,enforceFocus:w=!0,restoreFocus:I=!0,restoreFocusOptions:m,onEntered:d,onExit:p,onExiting:T,onEnter:A,onEntering:R,onExited:D,backdropClassName:M,manager:Z,renderStaticNode:b=!1,...De},K)=>{const X=v.useRef();e=kt(e,"offcanvas");const{onToggle:te}=v.useContext(us)||{},[we,Te]=v.useState(!1),Se=m2(s||"xs","up");v.useEffect(()=>{Te(s?o&&!Se:o)},[o,s,Se]);const k=zt(()=>{te==null||te(),f==null||f()}),z=v.useMemo(()=>({onHide:k}),[k]);function W(){return Z||(u?(X.current||(X.current=new Q2({handleContainerOverflow:!1})),X.current):K2())}const oe=(Ve,...ot)=>{Ve&&(Ve.style.visibility="visible"),A==null||A(Ve,...ot)},he=(Ve,...ot)=>{Ve&&(Ve.style.visibility=""),D==null||D(...ot)},It=v.useCallback(Ve=>E.jsx("div",{...Ve,className:Ge(`${e}-backdrop`,M)}),[M,e]),st=Ve=>E.jsx("div",{...Ve,...De,className:Ge(t,s?`${e}-${s}`:e,`${e}-${i}`),"aria-labelledby":r,children:n});return E.jsxs(E.Fragment,{children:[!we&&(s||b)&&st({}),E.jsx(bE.Provider,{value:z,children:E.jsx(P2,{show:we,ref:K,backdrop:a,container:g,keyboard:l,autoFocus:_,enforceFocus:w&&!u,restoreFocus:I,restoreFocusOptions:m,onEscapeKeyDown:c,onShow:h,onHide:k,onEnter:oe,onEntering:R,onEntered:d,onExit:p,onExiting:T,onExited:he,manager:W(),transition:G2,backdropTransition:Y2,renderBackdrop:It,renderDialog:st})})]})});WE.displayName="Offcanvas";const X2=Object.assign(WE,{Body:D2,Header:U2,Title:z2}),KE=v.forwardRef((e,t)=>{const n=v.useContext(us);return E.jsx(X2,{ref:t,show:!!(n!=null&&n.expanded),...e,renderStaticNode:!0})});KE.displayName="NavbarOffcanvas";const J2=KE,QE=v.forwardRef(({className:e,bsPrefix:t,as:n="span",...r},i)=>(t=kt(t,"navbar-text"),E.jsx(n,{ref:i,className:Ge(e,t),...r})));QE.displayName="NavbarText";const Z2=QE,GE=v.forwardRef((e,t)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:s,fixed:o,sticky:a,className:l,as:u="nav",expanded:c,onToggle:h,onSelect:f,collapseOnSelect:g=!1,..._}=pE(e,{expanded:"onToggle"}),w=kt(n,"navbar"),I=v.useCallback((...p)=>{f==null||f(...p),g&&c&&(h==null||h(!1))},[f,g,c,h]);_.role===void 0&&u!=="nav"&&(_.role="navigation");let m=`${w}-expand`;typeof r=="string"&&(m=`${m}-${r}`);const d=v.useMemo(()=>({onToggle:()=>h==null?void 0:h(!c),bsPrefix:w,expanded:!!c,expand:r}),[w,c,r,h]);return E.jsx(us.Provider,{value:d,children:E.jsx(Dl.Provider,{value:I,children:E.jsx(u,{ref:t,..._,className:Ge(l,w,r&&m,i&&`${w}-${i}`,s&&`bg-${s}`,a&&`sticky-${a}`,o&&`fixed-${o}`)})})})});GE.displayName="Navbar";const eN=Object.assign(GE,{Brand:Fk,Collapse:h2,Offcanvas:J2,Text:Z2,Toggle:f2});var YE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ay=le.createContext&&le.createContext(YE),hr=globalThis&&globalThis.__assign||function(){return hr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},hr.apply(this,arguments)},tN=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function XE(e){return e&&e.map(function(t,n){return le.createElement(t.tag,hr({key:n},t.attr),XE(t.child))})}function nN(e){return function(t){return le.createElement(rN,hr({attr:hr({},e.attr)},t),XE(e.child))}}function rN(e){var t=function(n){var r=e.attr,i=e.size,s=e.title,o=tN(e,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),le.createElement("svg",hr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:hr(hr({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&le.createElement("title",null,s),e.children)};return ay!==void 0?le.createElement(ay.Consumer,null,function(n){return t(n)}):t(YE)}function iN(e){return nN({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-1.646-7.646-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L8 8.293l2.646-2.647a.5.5 0 0 1 .708.708z"}}]})(e)}const JE=le.createContext(""),Vu=()=>v.useContext(JE),sN=({children:e})=>{const[t,n]=v.useState([]),r=(u,c)=>{a(u.id)?n(t.map(h=>h.id==u.id?{...h,quantity:h.quantity+c}:h)):n([...t,{...u,quantity:c}])},i=()=>t.reduce((u,c)=>u+c.quantity*c.price,0),s=()=>t.reduce((u,c)=>u+c.quantity,0),o=()=>n([]),a=u=>{t.find(c=>c.id===u)},l=u=>{n(t.filter(c=>c.id!==u))};return E.jsx(JE.Provider,{value:{clearCart:o,isInCart:a,removeProduct:l,addProduct:r,totalPrice:i,totalProducts:s,cart:t},children:e})},oN=()=>{const{totalProducts:e,cart:t}=Vu();return E.jsx("div",{className:"container",children:E.jsxs("button",{children:[E.jsx(iN,{}),E.jsx("span",{children:e()||t})]})})};function aN(){return E.jsx("div",{children:E.jsx(eN,{bg:"dark","data-bs-theme":"dark",children:E.jsxs(tk,{children:[E.jsx(Xt,{to:"/",children:"Navbar"}),E.jsxs(Mk,{className:"me-auto",children:[E.jsx(Xt,{to:"/",children:"Home"}),E.jsx(Xt,{to:"/category/celulares",children:"Celulares"}),E.jsx(Xt,{to:"/category/auriculares",children:"Auriculares"}),E.jsx(Xt,{to:"/category/notebooks",children:" Notebooks "}),E.jsx(Xt,{to:"/contacto",children:" Contacto "})]}),E.jsx(Xt,{to:"/cart",children:E.jsx(oN,{})})]})})})}const lN=()=>E.jsx("h2",{children:"Error producto no encontrado"}),uN=({initial:e,stock:t,onAdd:n})=>{const[r,i]=v.useState(parseInt(e)),s=()=>{i(r-1)},o=()=>{i(r+1)};return v.useEffect(()=>{i(parseInt(e))},[e]),E.jsxs("div",{className:"counter",children:[E.jsx("button",{disabled:r<=1,onClick:s,children:"-"}),E.jsx("span",{children:r}),E.jsx("button",{disabled:r>=t,onClick:o,children:"+"}),E.jsx("div",{children:E.jsx("button",{disabled:t<=0,onClick:()=>n(r),children:"Agregar al carrito"})})]})},cN=({item:e})=>{const[t,n]=v.useState(!1),{addProduct:r}=Vu(),i=s=>{n(!0),r(e,s)};return E.jsxs("div",{className:"row",children:[E.jsxs("div",{className:"col-md-4 iifset-md-4",children:[E.jsx("img",{src:e.img,alt:e.title}),E.jsx("h3",{children:e.title}),E.jsx("p",{children:e.description}),E.jsxs("p",{children:["$ ",e.price]}),E.jsxs("p",{children:[" Cantidad: ",e.stock]})]}),E.jsx("div",{children:t?E.jsx(Xt,{to:"/Cart",children:"Terminar Compra"}):E.jsx(uN,{stock:10,initial:0,onAdd:i})})]})},hN=()=>{const[e,t]=v.useState([]),{id:n}=$_();return v.useEffect(()=>{const r=eE(),i=PP(r,"products",n);KP(i).then(s=>t({id:s.id,...s.data()}))},[n]),E.jsx("div",{className:"container",children:E.jsx("div",{className:"row",children:E.jsx(cN,{item:e})})})};var Jo=e=>e.type==="checkbox",Ii=e=>e instanceof Date,_t=e=>e==null;const ZE=e=>typeof e=="object";var be=e=>!_t(e)&&!Array.isArray(e)&&ZE(e)&&!Ii(e),fN=e=>be(e)&&e.target?Jo(e.target)?e.target.checked:e.target.value:e,dN=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,pN=(e,t)=>e.has(dN(t)),mN=e=>{const t=e.constructor&&e.constructor.prototype;return be(t)&&t.hasOwnProperty("isPrototypeOf")},Ep=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function wn(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Ep&&(e instanceof Blob||e instanceof FileList))&&(n||be(e)))if(t=n?[]:{},!n&&!mN(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=wn(e[r]));else return e;return t}var Zo=e=>Array.isArray(e)?e.filter(Boolean):[],Pe=e=>e===void 0,U=(e,t,n)=>{if(!t||!be(e))return n;const r=Zo(t.split(/[,[\].]+?/)).reduce((i,s)=>_t(i)?i:i[s],e);return Pe(r)||r===e?Pe(e[t])?n:e[t]:r},In=e=>typeof e=="boolean";const ly={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},en={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},En={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};le.createContext(null);var gN=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==en.all&&(t._proxyFormState[o]=!r||en.all),n&&(n[o]=!0),e[o]}});return i},jt=e=>be(e)&&!Object.keys(e).length,yN=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return jt(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!r||en.all))},Dc=e=>Array.isArray(e)?e:[e];function vN(e){const t=le.useRef(e);t.current=e,le.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}var mn=e=>typeof e=="string",_N=(e,t,n,r,i)=>mn(e)?(r&&t.watch.add(e),U(n,e,i)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),U(n,s))):(r&&(t.watchAll=!0),n),wp=e=>/^\w*$/.test(e),ew=e=>Zo(e.replace(/["|']|\]/g,"").split(/\.|\[/)),_e=(e,t,n)=>{let r=-1;const i=wp(t)?[t]:ew(t),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=e[a];l=be(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}e[a]=l,e=e[a]}return e},EN=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},uy=e=>({isOnSubmit:!e||e===en.onSubmit,isOnBlur:e===en.onBlur,isOnChange:e===en.onChange,isOnAll:e===en.all,isOnTouch:e===en.onTouched}),cy=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Gs=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const s=U(e,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!r)break;if(o.ref&&t(o.ref,o.name)&&!r)break;Gs(a,t)}else be(a)&&Gs(a,t)}}};var wN=(e,t,n)=>{const r=Zo(U(e,n));return _e(r,"root",t[n]),_e(e,n,r),e},Tp=e=>e.type==="file",Xn=e=>typeof e=="function",Ol=e=>{if(!Ep)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Ha=e=>mn(e),Sp=e=>e.type==="radio",Ll=e=>e instanceof RegExp;const hy={value:!1,isValid:!1},fy={value:!0,isValid:!0};var tw=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Pe(e[0].attributes.value)?Pe(e[0].value)||e[0].value===""?fy:{value:e[0].value,isValid:!0}:fy:hy}return hy};const dy={isValid:!1,value:null};var nw=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,dy):dy;function py(e,t,n="validate"){if(Ha(e)||Array.isArray(e)&&e.every(Ha)||In(e)&&!e)return{type:n,message:Ha(e)?e:"",ref:t}}var oi=e=>be(e)&&!Ll(e)?e:{value:e,message:""},my=async(e,t,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:h,pattern:f,validate:g,name:_,valueAsNumber:w,mount:I,disabled:m}=e._f,d=U(t,_);if(!I||m)return{};const p=o?o[0]:s,T=K=>{r&&p.reportValidity&&(p.setCustomValidity(In(K)?"":K||""),p.reportValidity())},A={},R=Sp(s),D=Jo(s),M=R||D,Z=(w||Tp(s))&&Pe(s.value)&&Pe(d)||Ol(s)&&s.value===""||d===""||Array.isArray(d)&&!d.length,b=EN.bind(null,_,n,A),De=(K,X,te,we=En.maxLength,Te=En.minLength)=>{const Se=K?X:te;A[_]={type:K?we:Te,message:Se,ref:s,...b(K?we:Te,Se)}};if(i?!Array.isArray(d)||!d.length:a&&(!M&&(Z||_t(d))||In(d)&&!d||D&&!tw(o).isValid||R&&!nw(o).isValid)){const{value:K,message:X}=Ha(a)?{value:!!a,message:a}:oi(a);if(K&&(A[_]={type:En.required,message:X,ref:p,...b(En.required,X)},!n))return T(X),A}if(!Z&&(!_t(c)||!_t(h))){let K,X;const te=oi(h),we=oi(c);if(!_t(d)&&!isNaN(d)){const Te=s.valueAsNumber||d&&+d;_t(te.value)||(K=Te>te.value),_t(we.value)||(X=Te<we.value)}else{const Te=s.valueAsDate||new Date(d),Se=W=>new Date(new Date().toDateString()+" "+W),k=s.type=="time",z=s.type=="week";mn(te.value)&&d&&(K=k?Se(d)>Se(te.value):z?d>te.value:Te>new Date(te.value)),mn(we.value)&&d&&(X=k?Se(d)<Se(we.value):z?d<we.value:Te<new Date(we.value))}if((K||X)&&(De(!!K,te.message,we.message,En.max,En.min),!n))return T(A[_].message),A}if((l||u)&&!Z&&(mn(d)||i&&Array.isArray(d))){const K=oi(l),X=oi(u),te=!_t(K.value)&&d.length>+K.value,we=!_t(X.value)&&d.length<+X.value;if((te||we)&&(De(te,K.message,X.message),!n))return T(A[_].message),A}if(f&&!Z&&mn(d)){const{value:K,message:X}=oi(f);if(Ll(K)&&!d.match(K)&&(A[_]={type:En.pattern,message:X,ref:s,...b(En.pattern,X)},!n))return T(X),A}if(g){if(Xn(g)){const K=await g(d,t),X=py(K,p);if(X&&(A[_]={...X,...b(En.validate,X.message)},!n))return T(X.message),A}else if(be(g)){let K={};for(const X in g){if(!jt(K)&&!n)break;const te=py(await g[X](d,t),p,X);te&&(K={...te,...b(X,te.message)},T(te.message),n&&(A[_]=K))}if(!jt(K)&&(A[_]={ref:p,...K},!n))return A}}return T(!0),A};function TN(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Pe(e)?r++:e[t[r++]];return e}function SN(e){for(const t in e)if(e.hasOwnProperty(t)&&!Pe(e[t]))return!1;return!0}function Xe(e,t){const n=Array.isArray(t)?t:wp(t)?[t]:ew(t),r=n.length===1?e:TN(e,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(be(r)&&jt(r)||Array.isArray(r)&&SN(r))&&Xe(e,n.slice(0,-1)),e}var Vc=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},Ml=e=>_t(e)||!ZE(e);function Lr(e,t){if(Ml(e)||Ml(t))return e===t;if(Ii(e)&&Ii(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const s=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=t[i];if(Ii(s)&&Ii(o)||be(s)&&be(o)||Array.isArray(s)&&Array.isArray(o)?!Lr(s,o):s!==o)return!1}}return!0}var rw=e=>e.type==="select-multiple",IN=e=>Sp(e)||Jo(e),Oc=e=>Ol(e)&&e.isConnected,iw=e=>{for(const t in e)if(Xn(e[t]))return!0;return!1};function Fl(e,t={}){const n=Array.isArray(e);if(be(e)||n)for(const r in e)Array.isArray(e[r])||be(e[r])&&!iw(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Fl(e[r],t[r])):_t(e[r])||(t[r]=!0);return t}function sw(e,t,n){const r=Array.isArray(e);if(be(e)||r)for(const i in e)Array.isArray(e[i])||be(e[i])&&!iw(e[i])?Pe(t)||Ml(n[i])?n[i]=Array.isArray(e[i])?Fl(e[i],[]):{...Fl(e[i])}:sw(e[i],_t(t)?{}:t[i],n[i]):n[i]=!Lr(e[i],t[i]);return n}var Lc=(e,t)=>sw(e,t,Fl(t)),ow=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Pe(e)?e:t?e===""?NaN:e&&+e:n&&mn(e)?new Date(e):r?r(e):e;function Mc(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return Tp(t)?t.files:Sp(t)?nw(e.refs).value:rw(t)?[...t.selectedOptions].map(({value:n})=>n):Jo(t)?tw(e.refs).value:ow(Pe(t.value)?e.ref.value:t.value,e)}var CN=(e,t,n,r)=>{const i={};for(const s of e){const o=U(t,s);o&&_e(i,s,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},Is=e=>Pe(e)?e:Ll(e)?e.source:be(e)?Ll(e.value)?e.value.source:e.value:e,AN=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function gy(e,t,n){const r=U(e,n);if(r||wp(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=U(t,s),a=U(e,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var RN=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,xN=(e,t)=>!Zo(U(e,t)).length&&Xe(e,t);const PN={mode:en.onSubmit,reValidateMode:en.onChange,shouldFocusError:!0};function kN(e={},t){let n={...PN,...e},r={submitCount:0,isDirty:!1,isLoading:Xn(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:n.errors||{},disabled:!1},i={},s=be(n.defaultValues)||be(n.values)?wn(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:wn(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Vc(),array:Vc(),state:Vc()},g=e.resetOptions&&e.resetOptions.keepDirtyValues,_=uy(n.mode),w=uy(n.reValidateMode),I=n.criteriaMode===en.all,m=y=>S=>{clearTimeout(c),c=setTimeout(y,S)},d=async y=>{if(h.isValid||y){const S=n.resolver?jt((await b()).errors):await K(i,!0);S!==r.isValid&&f.state.next({isValid:S})}},p=y=>h.isValidating&&f.state.next({isValidating:y}),T=(y,S=[],C,$,O=!0,V=!0)=>{if($&&C){if(a.action=!0,V&&Array.isArray(U(i,y))){const q=C(U(i,y),$.argA,$.argB);O&&_e(i,y,q)}if(V&&Array.isArray(U(r.errors,y))){const q=C(U(r.errors,y),$.argA,$.argB);O&&_e(r.errors,y,q),xN(r.errors,y)}if(h.touchedFields&&V&&Array.isArray(U(r.touchedFields,y))){const q=C(U(r.touchedFields,y),$.argA,$.argB);O&&_e(r.touchedFields,y,q)}h.dirtyFields&&(r.dirtyFields=Lc(s,o)),f.state.next({name:y,isDirty:te(y,S),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else _e(o,y,S)},A=(y,S)=>{_e(r.errors,y,S),f.state.next({errors:r.errors})},R=y=>{r.errors=y,f.state.next({errors:r.errors,isValid:!1})},D=(y,S,C,$)=>{const O=U(i,y);if(O){const V=U(o,y,Pe(C)?U(s,y):C);Pe(V)||$&&$.defaultChecked||S?_e(o,y,S?V:Mc(O._f)):Se(y,V),a.mount&&d()}},M=(y,S,C,$,O)=>{let V=!1,q=!1;const fe={name:y},ze=!!(U(i,y)&&U(i,y)._f.disabled);if(!C||$){h.isDirty&&(q=r.isDirty,r.isDirty=fe.isDirty=te(),V=q!==fe.isDirty);const an=ze||Lr(U(s,y),S);q=!!(!ze&&U(r.dirtyFields,y)),an||ze?Xe(r.dirtyFields,y):_e(r.dirtyFields,y,!0),fe.dirtyFields=r.dirtyFields,V=V||h.dirtyFields&&q!==!an}if(C){const an=U(r.touchedFields,y);an||(_e(r.touchedFields,y,C),fe.touchedFields=r.touchedFields,V=V||h.touchedFields&&an!==C)}return V&&O&&f.state.next(fe),V?fe:{}},Z=(y,S,C,$)=>{const O=U(r.errors,y),V=h.isValid&&In(S)&&r.isValid!==S;if(e.delayError&&C?(u=m(()=>A(y,C)),u(e.delayError)):(clearTimeout(c),u=null,C?_e(r.errors,y,C):Xe(r.errors,y)),(C?!Lr(O,C):O)||!jt($)||V){const q={...$,...V&&In(S)?{isValid:S}:{},errors:r.errors,name:y};r={...r,...q},f.state.next(q)}p(!1)},b=async y=>n.resolver(o,n.context,CN(y||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),De=async y=>{const{errors:S}=await b(y);if(y)for(const C of y){const $=U(S,C);$?_e(r.errors,C,$):Xe(r.errors,C)}else r.errors=S;return S},K=async(y,S,C={valid:!0})=>{for(const $ in y){const O=y[$];if(O){const{_f:V,...q}=O;if(V){const fe=l.array.has(V.name),ze=await my(O,o,I,n.shouldUseNativeValidation&&!S,fe);if(ze[V.name]&&(C.valid=!1,S))break;!S&&(U(ze,V.name)?fe?wN(r.errors,ze,V.name):_e(r.errors,V.name,ze[V.name]):Xe(r.errors,V.name))}q&&await K(q,S,C)}}return C.valid},X=()=>{for(const y of l.unMount){const S=U(i,y);S&&(S._f.refs?S._f.refs.every(C=>!Oc(C)):!Oc(S._f.ref))&&cs(y)}l.unMount=new Set},te=(y,S)=>(y&&S&&_e(o,y,S),!Lr(It(),s)),we=(y,S,C)=>_N(y,l,{...a.mount?o:Pe(S)?s:mn(y)?{[y]:S}:S},C,S),Te=y=>Zo(U(a.mount?o:s,y,e.shouldUnregister?U(s,y,[]):[])),Se=(y,S,C={})=>{const $=U(i,y);let O=S;if($){const V=$._f;V&&(!V.disabled&&_e(o,y,ow(S,V)),O=Ol(V.ref)&&_t(S)?"":S,rw(V.ref)?[...V.ref.options].forEach(q=>q.selected=O.includes(q.value)):V.refs?Jo(V.ref)?V.refs.length>1?V.refs.forEach(q=>(!q.defaultChecked||!q.disabled)&&(q.checked=Array.isArray(O)?!!O.find(fe=>fe===q.value):O===q.value)):V.refs[0]&&(V.refs[0].checked=!!O):V.refs.forEach(q=>q.checked=q.value===O):Tp(V.ref)?V.ref.value="":(V.ref.value=O,V.ref.type||f.values.next({name:y,values:{...o}})))}(C.shouldDirty||C.shouldTouch)&&M(y,O,C.shouldTouch,C.shouldDirty,!0),C.shouldValidate&&he(y)},k=(y,S,C)=>{for(const $ in S){const O=S[$],V=`${y}.${$}`,q=U(i,V);(l.array.has(y)||!Ml(O)||q&&!q._f)&&!Ii(O)?k(V,O,C):Se(V,O,C)}},z=(y,S,C={})=>{const $=U(i,y),O=l.array.has(y),V=wn(S);_e(o,y,V),O?(f.array.next({name:y,values:{...o}}),(h.isDirty||h.dirtyFields)&&C.shouldDirty&&f.state.next({name:y,dirtyFields:Lc(s,o),isDirty:te(y,V)})):$&&!$._f&&!_t(V)?k(y,V,C):Se(y,V,C),cy(y,l)&&f.state.next({...r}),f.values.next({name:y,values:{...o}}),!a.mount&&t()},W=async y=>{const S=y.target;let C=S.name,$=!0;const O=U(i,C),V=()=>S.type?Mc(O._f):fN(y),q=fe=>{$=Number.isNaN(fe)||fe===U(o,C,fe)};if(O){let fe,ze;const an=V(),ti=y.type===ly.BLUR||y.type===ly.FOCUS_OUT,aw=!AN(O._f)&&!n.resolver&&!U(r.errors,C)&&!O._f.deps||RN(ti,U(r.touchedFields,C),r.isSubmitted,w,_),Ou=cy(C,l,ti);_e(o,C,an),ti?(O._f.onBlur&&O._f.onBlur(y),u&&u(0)):O._f.onChange&&O._f.onChange(y);const Lu=M(C,an,ti,!1),lw=!jt(Lu)||Ou;if(!ti&&f.values.next({name:C,type:y.type,values:{...o}}),aw)return h.isValid&&d(),lw&&f.state.next({name:C,...Ou?{}:Lu});if(!ti&&Ou&&f.state.next({...r}),p(!0),n.resolver){const{errors:Ip}=await b([C]);if(q(an),$){const uw=gy(r.errors,i,C),Cp=gy(Ip,i,uw.name||C);fe=Cp.error,C=Cp.name,ze=jt(Ip)}}else fe=(await my(O,o,I,n.shouldUseNativeValidation))[C],q(an),$&&(fe?ze=!1:h.isValid&&(ze=await K(i,!0)));$&&(O._f.deps&&he(O._f.deps),Z(C,ze,fe,Lu))}},oe=(y,S)=>{if(U(r.errors,S)&&y.focus)return y.focus(),1},he=async(y,S={})=>{let C,$;const O=Dc(y);if(p(!0),n.resolver){const V=await De(Pe(y)?y:O);C=jt(V),$=y?!O.some(q=>U(V,q)):C}else y?($=(await Promise.all(O.map(async V=>{const q=U(i,V);return await K(q&&q._f?{[V]:q}:q)}))).every(Boolean),!(!$&&!r.isValid)&&d()):$=C=await K(i);return f.state.next({...!mn(y)||h.isValid&&C!==r.isValid?{}:{name:y},...n.resolver||!y?{isValid:C}:{},errors:r.errors,isValidating:!1}),S.shouldFocus&&!$&&Gs(i,oe,y?O:l.mount),$},It=y=>{const S={...s,...a.mount?o:{}};return Pe(y)?S:mn(y)?U(S,y):y.map(C=>U(S,C))},st=(y,S)=>({invalid:!!U((S||r).errors,y),isDirty:!!U((S||r).dirtyFields,y),isTouched:!!U((S||r).touchedFields,y),error:U((S||r).errors,y)}),Ve=y=>{y&&Dc(y).forEach(S=>Xe(r.errors,S)),f.state.next({errors:y?r.errors:{}})},ot=(y,S,C)=>{const $=(U(i,y,{_f:{}})._f||{}).ref;_e(r.errors,y,{...S,ref:$}),f.state.next({name:y,errors:r.errors,isValid:!1}),C&&C.shouldFocus&&$&&$.focus&&$.focus()},jn=(y,S)=>Xn(y)?f.values.subscribe({next:C=>y(we(void 0,S),C)}):we(y,S,!0),cs=(y,S={})=>{for(const C of y?Dc(y):l.mount)l.mount.delete(C),l.array.delete(C),S.keepValue||(Xe(i,C),Xe(o,C)),!S.keepError&&Xe(r.errors,C),!S.keepDirty&&Xe(r.dirtyFields,C),!S.keepTouched&&Xe(r.touchedFields,C),!n.shouldUnregister&&!S.keepDefaultValue&&Xe(s,C);f.values.next({values:{...o}}),f.state.next({...r,...S.keepDirty?{isDirty:te()}:{}}),!S.keepIsValid&&d()},Jr=({disabled:y,name:S,field:C,fields:$,value:O})=>{if(In(y)){const V=y?void 0:Pe(O)?Mc(C?C._f:U($,S)._f):O;_e(o,S,V),M(S,V,!1,!1,!0)}},Sr=(y,S={})=>{let C=U(i,y);const $=In(S.disabled);return _e(i,y,{...C||{},_f:{...C&&C._f?C._f:{ref:{name:y}},name:y,mount:!0,...S}}),l.mount.add(y),C?Jr({field:C,disabled:S.disabled,name:y,value:S.value}):D(y,!0,S.value),{...$?{disabled:S.disabled}:{},...n.progressive?{required:!!S.required,min:Is(S.min),max:Is(S.max),minLength:Is(S.minLength),maxLength:Is(S.maxLength),pattern:Is(S.pattern)}:{},name:y,onChange:W,onBlur:W,ref:O=>{if(O){Sr(y,S),C=U(i,y);const V=Pe(O.value)&&O.querySelectorAll&&O.querySelectorAll("input,select,textarea")[0]||O,q=IN(V),fe=C._f.refs||[];if(q?fe.find(ze=>ze===V):V===C._f.ref)return;_e(i,y,{_f:{...C._f,...q?{refs:[...fe.filter(Oc),V,...Array.isArray(U(s,y))?[{}]:[]],ref:{type:V.type,name:y}}:{ref:V}}}),D(y,!1,void 0,V)}else C=U(i,y,{}),C._f&&(C._f.mount=!1),(n.shouldUnregister||S.shouldUnregister)&&!(pN(l.array,y)&&a.action)&&l.unMount.add(y)}}},ea=()=>n.shouldFocusError&&Gs(i,oe,l.mount),ta=y=>{In(y)&&(f.state.next({disabled:y}),Gs(i,(S,C)=>{let $=y;const O=U(i,C);O&&In(O._f.disabled)&&($||($=O._f.disabled)),S.disabled=$},0,!1))},Zr=(y,S)=>async C=>{C&&(C.preventDefault&&C.preventDefault(),C.persist&&C.persist());let $=wn(o);if(f.state.next({isSubmitting:!0}),n.resolver){const{errors:O,values:V}=await b();r.errors=O,$=V}else await K(i);Xe(r.errors,"root"),jt(r.errors)?(f.state.next({errors:{}}),await y($,C)):(S&&await S({...r.errors},C),ea(),setTimeout(ea)),f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:jt(r.errors),submitCount:r.submitCount+1,errors:r.errors})},ei=(y,S={})=>{U(i,y)&&(Pe(S.defaultValue)?z(y,U(s,y)):(z(y,S.defaultValue),_e(s,y,S.defaultValue)),S.keepTouched||Xe(r.touchedFields,y),S.keepDirty||(Xe(r.dirtyFields,y),r.isDirty=S.defaultValue?te(y,U(s,y)):te()),S.keepError||(Xe(r.errors,y),h.isValid&&d()),f.state.next({...r}))},ve=(y,S={})=>{const C=y?wn(y):s,$=wn(C),O=y&&!jt(y)?$:s;if(S.keepDefaultValues||(s=C),!S.keepValues){if(S.keepDirtyValues||g)for(const V of l.mount)U(r.dirtyFields,V)?_e(O,V,U(o,V)):z(V,U(O,V));else{if(Ep&&Pe(y))for(const V of l.mount){const q=U(i,V);if(q&&q._f){const fe=Array.isArray(q._f.refs)?q._f.refs[0]:q._f.ref;if(Ol(fe)){const ze=fe.closest("form");if(ze){ze.reset();break}}}}i={}}o=e.shouldUnregister?S.keepDefaultValues?wn(s):{}:wn(O),f.array.next({values:{...O}}),f.values.next({values:{...O}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&t(),a.mount=!h.isValid||!!S.keepIsValid,a.watch=!!e.shouldUnregister,f.state.next({submitCount:S.keepSubmitCount?r.submitCount:0,isDirty:S.keepDirty?r.isDirty:!!(S.keepDefaultValues&&!Lr(y,s)),isSubmitted:S.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:S.keepDirtyValues?r.dirtyFields:S.keepDefaultValues&&y?Lc(s,y):{},touchedFields:S.keepTouched?r.touchedFields:{},errors:S.keepErrors?r.errors:{},isSubmitSuccessful:S.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},hs=(y,S)=>ve(Xn(y)?y(o):y,S);return{control:{register:Sr,unregister:cs,getFieldState:st,handleSubmit:Zr,setError:ot,_executeSchema:b,_getWatch:we,_getDirty:te,_updateValid:d,_removeUnmounted:X,_updateFieldArray:T,_updateDisabledField:Jr,_getFieldArray:Te,_reset:ve,_resetDefaultValues:()=>Xn(n.defaultValues)&&n.defaultValues().then(y=>{hs(y,n.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:y=>{r={...r,...y}},_disableForm:ta,_subjects:f,_proxyFormState:h,_setErrors:R,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(y){a=y},get _defaultValues(){return s},get _names(){return l},set _names(y){l=y},get _formState(){return r},set _formState(y){r=y},get _options(){return n},set _options(y){n={...n,...y}}},trigger:he,register:Sr,handleSubmit:Zr,watch:jn,setValue:z,getValues:It,reset:hs,resetField:ei,clearErrors:Ve,unregister:cs,setError:ot,setFocus:(y,S={})=>{const C=U(i,y),$=C&&C._f;if($){const O=$.refs?$.refs[0]:$.ref;O.focus&&(O.focus(),S.shouldSelect&&O.select())}},getFieldState:st}}function NN(e={}){const t=le.useRef(),n=le.useRef(),[r,i]=le.useState({isDirty:!1,isValidating:!1,isLoading:Xn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:e.errors||{},disabled:!1,defaultValues:Xn(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...kN(e,()=>i(o=>({...o}))),formState:r});const s=t.current.control;return s._options=e,vN({subject:s._subjects.state,next:o=>{yN(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),le.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),le.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),le.useEffect(()=>{e.values&&!Lr(e.values,n.current)?(s._reset(e.values,s._options.resetOptions),n.current=e.values,i(o=>({...o}))):s._resetDefaultValues()},[e.values,s]),le.useEffect(()=>{e.errors&&s._setErrors(e.errors)},[e.errors,s]),le.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=gN(r,s),t.current}const DN=()=>{const[e,t]=v.useState(""),[n,r]=v.useState(""),i=_=>{_.preventDefault(),console.log("Enviado",{nombre:e,email:n})},s=_=>{t(_.target.value)},o=_=>{r(_.target.value)},[a,l]=v.useState({nombre:"",email:"",telefono:""}),u=_=>{_.preventDefault(),console.log("Enviado",a)},c=_=>{l({...a,[_.target.name]:_.target.value})},{register:h,handleSubmit:f}=NN(),g=_=>{console.log("enviado",_)};return E.jsxs("div",{className:"container",children:[E.jsx("h1",{className:"main-title mt-5",children:"Formulario nivel 1"}),E.jsxs("form",{onSubmit:i,children:[E.jsx("input",{type:"text",placeholder:"Ingres tu nombre",value:e,onChange:s}),E.jsx("input",{type:"email",placeholder:"Ingres tu e-mail",value:n,onChange:o}),E.jsx("button",{type:"submit",children:"Enviar"})]}),E.jsx("h1",{className:"main-title mt-5",children:"Formulario Nivel 2"}),E.jsxs("form",{onSubmit:u,children:[E.jsx("input",{type:"text",placeholder:"Ingres tu nombre",value:a.nombre,onChange:c,name:"nombre"}),E.jsx("input",{type:"email",placeholder:"Ingres tu e-mail",value:a.email,onChange:c,name:"email"}),E.jsx("input",{type:"phone",placeholder:"Ingres tu telefono",value:a.telefono,onChange:c,name:"telefono"}),E.jsx("button",{type:"submit",children:"Enviar"})]}),E.jsx("h1",{className:"main-title mt-5",children:"Formulario nivel 3"}),E.jsxs("form",{onSubmit:f(g),children:[E.jsx("input",{type:"text",placeholder:"Ingres tu nombre",...h("nombre")}),E.jsx("input",{type:"email",placeholder:"Ingres tu e-mail",...h("email")}),E.jsx("input",{type:"phone",placeholder:"Ingres tu telefono",...h("telefono")}),E.jsx("button",{type:"submit",children:"Enviar"})]})]})},VN=({product:e})=>{const{removeProduct:t}=Vu();return E.jsxs("div",{children:[E.jsx("img",{src:e.imagen,alt:e.nombre}),E.jsxs("div",{children:[E.jsxs("p",{children:["Titulo: ",e.nombre]}),E.jsxs("p",{children:["Cantidad: ",e.quantity]}),E.jsxs("p",{children:["Precio u.: $ ",e.precio," "]}),E.jsxs("p",{children:["Subtotal: $ ",e.quantity*e.precio," "]}),E.jsx("button",{onClick:()=>t(e.id),children:"Eliminar"})]})]})},ON=()=>{const{cart:e,totalPrice:t}=Vu();return e.length===0?E.jsxs(E.Fragment,{children:[E.jsx("p",{children:" No hay productos en el carrito"}),E.jsx(Xt,{to:"/",children:" Hacer compras "})]}):E.jsxs(E.Fragment,{children:[e.map(n=>E.jsx(VN,{product:n},n.id)),E.jsxs("p",{children:["Total: $",t()," "]}),E.jsxs(Xt,{to:"/checkout",children:["",E.jsx("button",{children:"Finalizar compra"})]})]})},LN=()=>{const[e,t]=v.useState(!0);return v.useEffect(()=>{const n=setTimeout(()=>{t(!1)},4e3);return()=>clearTimeout(n)},[]),e?E.jsx("div",{children:" Cargando los productos... "}):null};function MN(){return E.jsx(E.Fragment,{children:E.jsxs(kI,{children:[E.jsx(LN,{}),E.jsxs(sN,{children:[E.jsx(aN,{}),E.jsxs(II,{children:[E.jsx(Ar,{path:"/",element:E.jsx(Qg,{})}),E.jsx(Ar,{path:"/category/:id",element:E.jsx(Qg,{})}),E.jsx(Ar,{path:"/item/:id",element:E.jsx(hN,{})}),E.jsx(Ar,{path:"/contacto",element:E.jsx(DN,{})}),E.jsx(Ar,{path:"/cart",element:E.jsx(ON,{})}),E.jsx(Ar,{path:"*",element:E.jsx(lN,{})})]})]})]})})}var FN="firebase",$N="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ni(FN,$N,"app");const jN={apiKey:"AIzaSyAzozUrUGkFfTVVb8--Pw2Jk958IBGV-E8",authDomain:"afterclass-8c8d0.firebaseapp.com",projectId:"afterclass-8c8d0",storageBucket:"afterclass-8c8d0.appspot.com",messagingSenderId:"671259141106",appId:"1:671259141106:web:33dfa08e9800b4aaf2816b"};Y_(jN);Fc.createRoot(document.getElementById("root")).render(E.jsx(le.StrictMode,{children:E.jsx(MN,{})}));
